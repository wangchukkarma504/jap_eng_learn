
<!DOCTYPE html>
<html lang="ja" data-version="4">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>LingoBridge | JA-DZ Translator</title>
    
    <!-- PWA / SEO -->
    <meta name="theme-color" content="#4f46e5">
    <meta name="description" content="AI-powered Japanese and Dzongkha language learning bridge with word analysis and speech.">
    <link rel="manifest" href="./manifest-1cprZKfl.json?v=4">
    
    <!-- iOS / Apple Specific -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="LingoBridge">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3898/3898082.png">

    <!-- Fonts and Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Noto+Sans+JP:wght@400;500;700;900&family=Noto+Sans+Tibetan:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --safe-area-inset-top: env(safe-area-inset-top, 0px);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFDFE;
            -webkit-tap-highlight-color: transparent;
            padding-top: var(--safe-area-inset-top);
        }
        .font-jp { font-family: 'Noto Sans JP', sans-serif; }
        .font-dz { font-family: 'Noto Sans Tibetan', sans-serif; }
        
        * { scroll-behavior: smooth; }
        ::-webkit-scrollbar { display: none; }
        
        /* Loading overlay for better start-up feel */
        #loading-overlay {
            position: fixed;
            inset: 0;
            background: #FDFDFE;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s ease;
        }
    </style>


<script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.38.0",
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
  <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function dv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var jf={exports:{}},yr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function yT(){if(U_)return yr;U_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:u}}return yr.Fragment=t,yr.jsx=i,yr.jsxs=i,yr}var z_;function vT(){return z_||(z_=1,jf.exports=yT()),jf.exports}var C=vT(),Hf={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function bT(){if(j_)return J;j_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function U(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,X={};function te(E,D,j){this.props=E,this.context=D,this.refs=X,this.updater=j||L}te.prototype.isReactComponent={},te.prototype.setState=function(E,D){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,D,"setState")},te.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function se(){}se.prototype=te.prototype;function ie(E,D,j){this.props=E,this.context=D,this.refs=X,this.updater=j||L}var Le=ie.prototype=new se;Le.constructor=ie,q(Le,te.prototype),Le.isPureReactComponent=!0;var tt=Array.isArray;function B(){}var P={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function be(E,D,j){var V=j.ref;return{$$typeof:s,type:E,key:D,ref:V!==void 0?V:null,props:j}}function He(E,D){return be(E.type,D,E.props)}function ge(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function he(E){var D={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(j){return D[j]})}var Yt=/\/+/g;function Ot(E,D){return typeof E=="object"&&E!==null&&E.key!=null?he(""+E.key):D.toString(36)}function Et(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(B,B):(E.status="pending",E.then(function(D){E.status==="pending"&&(E.status="fulfilled",E.value=D)},function(D){E.status==="pending"&&(E.status="rejected",E.reason=D)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function O(E,D,j,V,$){var oe=typeof E;(oe==="undefined"||oe==="boolean")&&(E=null);var Te=!1;if(E===null)Te=!0;else switch(oe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(E.$$typeof){case s:case t:Te=!0;break;case v:return Te=E._init,O(Te(E._payload),D,j,V,$)}}if(Te)return $=$(E),Te=V===""?"."+Ot(E,0):V,tt($)?(j="",Te!=null&&(j=Te.replace(Yt,"$&/")+"/"),O($,D,j,"",function(Ca){return Ca})):$!=null&&(ge($)&&($=He($,j+($.key==null||E&&E.key===$.key?"":(""+$.key).replace(Yt,"$&/")+"/")+Te)),D.push($)),1;Te=0;var gt=V===""?".":V+":";if(tt(E))for(var Ve=0;Ve<E.length;Ve++)V=E[Ve],oe=gt+Ot(V,Ve),Te+=O(V,D,j,oe,$);else if(Ve=U(E),typeof Ve=="function")for(E=Ve.call(E),Ve=0;!(V=E.next()).done;)V=V.value,oe=gt+Ot(V,Ve++),Te+=O(V,D,j,oe,$);else if(oe==="object"){if(typeof E.then=="function")return O(Et(E),D,j,V,$);throw D=String(E),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return Te}function H(E,D,j){if(E==null)return E;var V=[],$=0;return O(E,V,"","",function(oe){return D.call(j,oe,$++)}),V}function K(E){if(E._status===-1){var D=E._result;D=D(),D.then(function(j){(E._status===0||E._status===-1)&&(E._status=1,E._result=j)},function(j){(E._status===0||E._status===-1)&&(E._status=2,E._result=j)}),E._status===-1&&(E._status=0,E._result=D)}if(E._status===1)return E._result.default;throw E._result}var Ee=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},we={map:H,forEach:function(E,D,j){H(E,function(){D.apply(this,arguments)},j)},count:function(E){var D=0;return H(E,function(){D++}),D},toArray:function(E){return H(E,function(D){return D})||[]},only:function(E){if(!ge(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return J.Activity=y,J.Children=we,J.Component=te,J.Fragment=i,J.Profiler=o,J.PureComponent=ie,J.StrictMode=r,J.Suspense=m,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,J.__COMPILER_RUNTIME={__proto__:null,c:function(E){return P.H.useMemoCache(E)}},J.cache=function(E){return function(){return E.apply(null,arguments)}},J.cacheSignal=function(){return null},J.cloneElement=function(E,D,j){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var V=q({},E.props),$=E.key;if(D!=null)for(oe in D.key!==void 0&&($=""+D.key),D)!ae.call(D,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&D.ref===void 0||(V[oe]=D[oe]);var oe=arguments.length-2;if(oe===1)V.children=j;else if(1<oe){for(var Te=Array(oe),gt=0;gt<oe;gt++)Te[gt]=arguments[gt+2];V.children=Te}return be(E.type,$,V)},J.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},J.createElement=function(E,D,j){var V,$={},oe=null;if(D!=null)for(V in D.key!==void 0&&(oe=""+D.key),D)ae.call(D,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&($[V]=D[V]);var Te=arguments.length-2;if(Te===1)$.children=j;else if(1<Te){for(var gt=Array(Te),Ve=0;Ve<Te;Ve++)gt[Ve]=arguments[Ve+2];$.children=gt}if(E&&E.defaultProps)for(V in Te=E.defaultProps,Te)$[V]===void 0&&($[V]=Te[V]);return be(E,oe,$)},J.createRef=function(){return{current:null}},J.forwardRef=function(E){return{$$typeof:p,render:E}},J.isValidElement=ge,J.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:K}},J.memo=function(E,D){return{$$typeof:g,type:E,compare:D===void 0?null:D}},J.startTransition=function(E){var D=P.T,j={};P.T=j;try{var V=E(),$=P.S;$!==null&&$(j,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(B,Ee)}catch(oe){Ee(oe)}finally{D!==null&&j.types!==null&&(D.types=j.types),P.T=D}},J.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},J.use=function(E){return P.H.use(E)},J.useActionState=function(E,D,j){return P.H.useActionState(E,D,j)},J.useCallback=function(E,D){return P.H.useCallback(E,D)},J.useContext=function(E){return P.H.useContext(E)},J.useDebugValue=function(){},J.useDeferredValue=function(E,D){return P.H.useDeferredValue(E,D)},J.useEffect=function(E,D){return P.H.useEffect(E,D)},J.useEffectEvent=function(E){return P.H.useEffectEvent(E)},J.useId=function(){return P.H.useId()},J.useImperativeHandle=function(E,D,j){return P.H.useImperativeHandle(E,D,j)},J.useInsertionEffect=function(E,D){return P.H.useInsertionEffect(E,D)},J.useLayoutEffect=function(E,D){return P.H.useLayoutEffect(E,D)},J.useMemo=function(E,D){return P.H.useMemo(E,D)},J.useOptimistic=function(E,D){return P.H.useOptimistic(E,D)},J.useReducer=function(E,D,j){return P.H.useReducer(E,D,j)},J.useRef=function(E){return P.H.useRef(E)},J.useState=function(E){return P.H.useState(E)},J.useSyncExternalStore=function(E,D,j){return P.H.useSyncExternalStore(E,D,j)},J.useTransition=function(){return P.H.useTransition()},J.version="19.2.3",J}var H_;function Dh(){return H_||(H_=1,Hf.exports=bT()),Hf.exports}var We=Dh();const ST=dv(We);var Bf={exports:{}},vr={},Pf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function ET(){return B_||(B_=1,(function(s){function t(O,H){var K=O.length;O.push(H);e:for(;0<K;){var Ee=K-1>>>1,we=O[Ee];if(0<o(we,H))O[Ee]=H,O[K]=we,K=Ee;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var H=O[0],K=O.pop();if(K!==H){O[0]=K;e:for(var Ee=0,we=O.length,E=we>>>1;Ee<E;){var D=2*(Ee+1)-1,j=O[D],V=D+1,$=O[V];if(0>o(j,K))V<we&&0>o($,j)?(O[Ee]=$,O[V]=K,Ee=V):(O[Ee]=j,O[D]=K,Ee=D);else if(V<we&&0>o($,K))O[Ee]=$,O[V]=K,Ee=V;else break e}}return H}function o(O,H){var K=O.sortIndex-H.sortIndex;return K!==0?K:O.id-H.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var m=[],g=[],v=1,y=null,b=3,U=!1,L=!1,q=!1,X=!1,te=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Le(O){for(var H=i(g);H!==null;){if(H.callback===null)r(g);else if(H.startTime<=O)r(g),H.sortIndex=H.expirationTime,t(m,H);else break;H=i(g)}}function tt(O){if(q=!1,Le(O),!L)if(i(m)!==null)L=!0,B||(B=!0,he());else{var H=i(g);H!==null&&Et(tt,H.startTime-O)}}var B=!1,P=-1,ae=5,be=-1;function He(){return X?!0:!(s.unstable_now()-be<ae)}function ge(){if(X=!1,B){var O=s.unstable_now();be=O;var H=!0;try{e:{L=!1,q&&(q=!1,se(P),P=-1),U=!0;var K=b;try{t:{for(Le(O),y=i(m);y!==null&&!(y.expirationTime>O&&He());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,b=y.priorityLevel;var we=Ee(y.expirationTime<=O);if(O=s.unstable_now(),typeof we=="function"){y.callback=we,Le(O),H=!0;break t}y===i(m)&&r(m),Le(O)}else r(m);y=i(m)}if(y!==null)H=!0;else{var E=i(g);E!==null&&Et(tt,E.startTime-O),H=!1}}break e}finally{y=null,b=K,U=!1}H=void 0}}finally{H?he():B=!1}}}var he;if(typeof ie=="function")he=function(){ie(ge)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,Ot=Yt.port2;Yt.port1.onmessage=ge,he=function(){Ot.postMessage(null)}}else he=function(){te(ge,0)};function Et(O,H){P=te(function(){O(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var K=b;b=H;try{return O()}finally{b=K}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=b;b=O;try{return H()}finally{b=K}},s.unstable_scheduleCallback=function(O,H,K){var Ee=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Ee+K:Ee):K=Ee,O){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=K+we,O={id:v++,callback:H,priorityLevel:O,startTime:K,expirationTime:we,sortIndex:-1},K>Ee?(O.sortIndex=K,t(g,O),i(m)===null&&O===i(g)&&(q?(se(P),P=-1):q=!0,Et(tt,K-Ee))):(O.sortIndex=we,t(m,O),L||U||(L=!0,B||(B=!0,he()))),O},s.unstable_shouldYield=He,s.unstable_wrapCallback=function(O){var H=b;return function(){var K=b;b=H;try{return O.apply(this,arguments)}finally{b=K}}}})(qf)),qf}var P_;function TT(){return P_||(P_=1,Pf.exports=ET()),Pf.exports}var Gf={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function wT(){if(q_)return mt;q_=1;var s=Dh();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:g,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,v)},mt.flushSync=function(m){var g=h.T,v=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=g,r.p=v,r.d.f()}},mt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},mt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},mt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,y=p(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:U}):v==="script"&&r.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},mt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,y=p(v,g.crossOrigin);r.d.L(m,v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},mt.requestFormReset=function(m){r.d.r(m)},mt.unstable_batchedUpdates=function(m,g){return m(g)},mt.useFormState=function(m,g,v){return h.H.useFormState(m,g,v)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.3",mt}var G_;function CT(){if(G_)return Gf.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gf.exports=wT(),Gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function AT(){if(V_)return vr;V_=1;var s=TT(),t=Dh(),i=CT();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return m(c),e;if(f===l)return m(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var d=!1,_=c.child;_;){if(_===a){d=!0,a=c,l=f;break}if(_===l){d=!0,l=c,a=f;break}_=_.sibling}if(!d){for(_=f.child;_;){if(_===a){d=!0,a=f,l=c;break}if(_===l){d=!0,l=f,a=c;break}_=_.sibling}if(!d)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Le=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),He=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Yt=Symbol.for("react.client.reference");function Ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Yt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case te:return"Profiler";case X:return"StrictMode";case tt:return"Suspense";case B:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case ie:return e.displayName||"Context";case se:return(e._context.displayName||"Context")+".Consumer";case Le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:Ot(e.type)||"Memo";case ae:n=e._payload,e=e._init;try{return Ot(e(n))}catch{}}return null}var Et=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Ee=[],we=-1;function E(e){return{current:e}}function D(e){0>we||(e.current=Ee[we],Ee[we]=null,we--)}function j(e,n){we++,Ee[we]=e.current,e.current=n}var V=E(null),$=E(null),oe=E(null),Te=E(null);function gt(e,n){switch(j(oe,n),j($,e),j(V,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=r_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(V),j(V,e)}function Ve(){D(V),D($),D(oe)}function Ca(e){e.memoizedState!==null&&j(Te,e);var n=V.current,a=r_(n,e.type);n!==a&&(j($,e),j(V,a))}function $r(e){$.current===e&&(D(V),D($)),Te.current===e&&(D(Te),mr._currentValue=K)}var vc,Ld;function zi(e){if(vc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);vc=n&&n[1]||"",Ld=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vc+e+Ld}var bc=!1;function Sc(e,n){if(!e||bc)return"";bc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(R){var x=R}Reflect.construct(e,[],k)}else{try{k.call()}catch(R){x=R}e.call(k.prototype)}}else{try{throw Error()}catch(R){x=R}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(R){if(R&&x&&typeof R.stack=="string")return[R.stack,x.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),d=f[0],_=f[1];if(d&&_){var S=d.split(`
`),N=_.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===N.length)for(l=S.length-1,c=N.length-1;1<=l&&0<=c&&S[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==N[c]){var I=`
`+S[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=c);break}}}finally{bc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?zi(a):""}function Xb(e,n){switch(e.tag){case 26:case 27:case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return e.child!==n&&n!==null?zi("Suspense Fallback"):zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Sc(e.type,!1);case 11:return Sc(e.type.render,!1);case 1:return Sc(e.type,!0);case 31:return zi("Activity");default:return""}}function Ud(e){try{var n="",a=null;do n+=Xb(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ec=Object.prototype.hasOwnProperty,Tc=s.unstable_scheduleCallback,wc=s.unstable_cancelCallback,Zb=s.unstable_shouldYield,Wb=s.unstable_requestPaint,Dt=s.unstable_now,Jb=s.unstable_getCurrentPriorityLevel,zd=s.unstable_ImmediatePriority,jd=s.unstable_UserBlockingPriority,el=s.unstable_NormalPriority,$b=s.unstable_LowPriority,Hd=s.unstable_IdlePriority,eS=s.log,tS=s.unstable_setDisableYieldValue,Aa=null,Mt=null;function Jn(e){if(typeof eS=="function"&&tS(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Aa,e)}catch{}}var kt=Math.clz32?Math.clz32:sS,nS=Math.log,iS=Math.LN2;function sS(e){return e>>>=0,e===0?32:31-(nS(e)/iS|0)|0}var tl=256,nl=262144,il=4194304;function ji(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function sl(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~f,l!==0?c=ji(l):(d&=_,d!==0?c=ji(d):a||(a=_&~e,a!==0&&(c=ji(a))))):(_=l&~f,_!==0?c=ji(_):d!==0?c=ji(d):a||(a=l&~e,a!==0&&(c=ji(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Na(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function aS(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bd(){var e=il;return il<<=1,(il&62914560)===0&&(il=4194304),e}function Cc(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function xa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rS(e,n,a,l,c,f){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,S=e.expirationTimes,N=e.hiddenUpdates;for(a=d&~a;0<a;){var I=31-kt(a),k=1<<I;_[I]=0,S[I]=-1;var x=N[I];if(x!==null)for(N[I]=null,I=0;I<x.length;I++){var R=x[I];R!==null&&(R.lane&=-536870913)}a&=~k}l!==0&&Pd(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(d&~n))}function Pd(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-kt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function qd(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-kt(a),c=1<<l;c&n|e[l]&n&&(e[l]|=n),a&=~c}}function Gd(e,n){var a=n&-n;return a=(a&42)!==0?1:Ac(a),(a&(e.suspendedLanes|n))!==0?0:a}function Ac(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vd(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:R_(e.type))}function Yd(e,n){var a=H.p;try{return H.p=e,n()}finally{H.p=a}}var $n=Math.random().toString(36).slice(2),lt="__reactFiber$"+$n,Tt="__reactProps$"+$n,ys="__reactContainer$"+$n,xc="__reactEvents$"+$n,lS="__reactListeners$"+$n,oS="__reactHandles$"+$n,Fd="__reactResources$"+$n,Ra="__reactMarker$"+$n;function Rc(e){delete e[lt],delete e[Tt],delete e[xc],delete e[lS],delete e[oS]}function vs(e){var n=e[lt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ys]||a[lt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=d_(e);e!==null;){if(a=e[lt])return a;e=d_(e)}return n}e=a,a=e.parentNode}return null}function bs(e){if(e=e[lt]||e[ys]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ia(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ss(e){var n=e[Fd];return n||(n=e[Fd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(e){e[Ra]=!0}var Qd=new Set,Kd={};function Hi(e,n){Es(e,n),Es(e+"Capture",n)}function Es(e,n){for(Kd[e]=n,e=0;e<n.length;e++)Qd.add(n[e])}var cS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xd={},Zd={};function uS(e){return Ec.call(Zd,e)?!0:Ec.call(Xd,e)?!1:cS.test(e)?Zd[e]=!0:(Xd[e]=!0,!1)}function al(e,n,a){if(uS(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function rl(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Cn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fS(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(d){a=""+d,f.call(this,d)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ic(e){if(!e._valueTracker){var n=Wd(e)?"checked":"value";e._valueTracker=fS(e,n,""+e[n])}}function Jd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Wd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hS=/[\n"\\]/g;function Qt(e){return e.replace(hS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Oc(e,n,a,l,c,f,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ft(n)):e.value!==""+Ft(n)&&(e.value=""+Ft(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?Dc(e,d,Ft(n)):a!=null?Dc(e,d,Ft(a)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Ft(_):e.removeAttribute("name")}function $d(e,n,a,l,c,f,d,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ic(e);return}a=a!=null?""+Ft(a):"",n=n!=null?""+Ft(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Ic(e)}function Dc(e,n,a){n==="number"&&ll(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ts(e,n,a,l){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ft(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function em(e,n,a){if(n!=null&&(n=""+Ft(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ft(a):""}function tm(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ft(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ic(e)}function ws(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var dS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nm(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||dS.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function im(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&nm(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&nm(e,f,n[f])}function Mc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(e){return pS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var kc=null;function Lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,As=null;function sm(e){var n=bs(e);if(n&&(e=n.stateNode)){var a=e[Tt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Oc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var c=l[Tt]||null;if(!c)throw Error(r(90));Oc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Jd(l)}break e;case"textarea":em(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ts(e,!!a.multiple,n,!1)}}}var Uc=!1;function am(e,n,a){if(Uc)return e(n,a);Uc=!0;try{var l=e(n);return l}finally{if(Uc=!1,(Cs!==null||As!==null)&&(Xl(),Cs&&(n=Cs,e=As,As=Cs=null,sm(n),e)))for(n=0;n<e.length;n++)sm(e[n])}}function Oa(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=!1;if(Nn)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){zc=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{zc=!1}var ei=null,jc=null,cl=null;function rm(){if(cl)return cl;var e,n=jc,a=n.length,l,c="value"in ei?ei.value:ei.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var d=a-e;for(l=1;l<=d&&n[a-l]===c[f-l];l++);return cl=c.slice(e,1<l?1-l:void 0)}function ul(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fl(){return!0}function lm(){return!1}function wt(e){function n(a,l,c,f,d){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fl:lm,this.isPropagationStopped=lm,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=wt(Bi),Ma=y({},Bi,{view:0,detail:0}),gS=wt(Ma),Hc,Bc,ka,dl=y({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ka&&(ka&&e.type==="mousemove"?(Hc=e.screenX-ka.screenX,Bc=e.screenY-ka.screenY):Bc=Hc=0,ka=e),Hc)},movementY:function(e){return"movementY"in e?e.movementY:Bc}}),om=wt(dl),_S=y({},dl,{dataTransfer:0}),yS=wt(_S),vS=y({},Ma,{relatedTarget:0}),Pc=wt(vS),bS=y({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=wt(bS),ES=y({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TS=wt(ES),wS=y({},Bi,{data:0}),cm=wt(wS),CS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=NS[e])?!!n[e]:!1}function qc(){return xS}var RS=y({},Ma,{key:function(e){if(e.key){var n=CS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(e){return e.type==="keypress"?ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IS=wt(RS),OS=y({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=wt(OS),DS=y({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),MS=wt(DS),kS=y({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),LS=wt(kS),US=y({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zS=wt(US),jS=y({},Bi,{newState:0,oldState:0}),HS=wt(jS),BS=[9,13,27,32],Gc=Nn&&"CompositionEvent"in window,La=null;Nn&&"documentMode"in document&&(La=document.documentMode);var PS=Nn&&"TextEvent"in window&&!La,fm=Nn&&(!Gc||La&&8<La&&11>=La),hm=" ",dm=!1;function mm(e,n){switch(e){case"keyup":return BS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function qS(e,n){switch(e){case"compositionend":return pm(n);case"keypress":return n.which!==32?null:(dm=!0,hm);case"textInput":return e=n.data,e===hm&&dm?null:e;default:return null}}function GS(e,n){if(Ns)return e==="compositionend"||!Gc&&mm(e,n)?(e=rm(),cl=jc=ei=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fm&&n.locale!=="ko"?null:n.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!VS[e.type]:n==="textarea"}function _m(e,n,a,l){Cs?As?As.push(l):As=[l]:Cs=l,n=no(n,"onChange"),0<n.length&&(a=new hl("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ua=null,za=null;function YS(e){$g(e,0)}function ml(e){var n=Ia(e);if(Jd(n))return e}function ym(e,n){if(e==="change")return n}var vm=!1;if(Nn){var Vc;if(Nn){var Yc="oninput"in document;if(!Yc){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),Yc=typeof bm.oninput=="function"}Vc=Yc}else Vc=!1;vm=Vc&&(!document.documentMode||9<document.documentMode)}function Sm(){Ua&&(Ua.detachEvent("onpropertychange",Em),za=Ua=null)}function Em(e){if(e.propertyName==="value"&&ml(za)){var n=[];_m(n,za,e,Lc(e)),am(YS,n)}}function FS(e,n,a){e==="focusin"?(Sm(),Ua=n,za=a,Ua.attachEvent("onpropertychange",Em)):e==="focusout"&&Sm()}function QS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(za)}function KS(e,n){if(e==="click")return ml(n)}function XS(e,n){if(e==="input"||e==="change")return ml(n)}function ZS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Lt=typeof Object.is=="function"?Object.is:ZS;function ja(e,n){if(Lt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ec.call(n,c)||!Lt(e[c],n[c]))return!1}return!0}function Tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wm(e,n){var a=Tm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tm(a)}}function Cm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Am(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ll(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ll(e.document)}return n}function Fc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WS=Nn&&"documentMode"in document&&11>=document.documentMode,xs=null,Qc=null,Ha=null,Kc=!1;function Nm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kc||xs==null||xs!==ll(l)||(l=xs,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ha&&ja(Ha,l)||(Ha=l,l=no(Qc,"onSelect"),0<l.length&&(n=new hl("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=xs)))}function Pi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Rs={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Xc={},xm={};Nn&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function qi(e){if(Xc[e])return Xc[e];if(!Rs[e])return e;var n=Rs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in xm)return Xc[e]=n[a];return e}var Rm=qi("animationend"),Im=qi("animationiteration"),Om=qi("animationstart"),JS=qi("transitionrun"),$S=qi("transitionstart"),eE=qi("transitioncancel"),Dm=qi("transitionend"),Mm=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function rn(e,n){Mm.set(e,n),Hi(n,[e])}var pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],Is=0,Wc=0;function gl(){for(var e=Is,n=Wc=Is=0;n<e;){var a=Kt[n];Kt[n++]=null;var l=Kt[n];Kt[n++]=null;var c=Kt[n];Kt[n++]=null;var f=Kt[n];if(Kt[n++]=null,l!==null&&c!==null){var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}f!==0&&km(a,c,f)}}function _l(e,n,a,l){Kt[Is++]=e,Kt[Is++]=n,Kt[Is++]=a,Kt[Is++]=l,Wc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Jc(e,n,a,l){return _l(e,n,a,l),yl(e)}function Gi(e,n){return _l(e,null,null,n),yl(e)}function km(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-kt(a),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function yl(e){if(50<lr)throw lr=0,of=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Os={};function tE(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,n,a,l){return new tE(e,n,a,l)}function $c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,n){var a=e.alternate;return a===null?(a=Ut(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Lm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vl(e,n,a,l,c,f){var d=0;if(l=e,typeof e=="function")$c(e)&&(d=1);else if(typeof e=="string")d=rT(e,a,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=Ut(31,a,n,c),e.elementType=be,e.lanes=f,e;case q:return Vi(a.children,c,f,n);case X:d=8,c|=24;break;case te:return e=Ut(12,a,n,c|2),e.elementType=te,e.lanes=f,e;case tt:return e=Ut(13,a,n,c),e.elementType=tt,e.lanes=f,e;case B:return e=Ut(19,a,n,c),e.elementType=B,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:d=10;break e;case se:d=9;break e;case Le:d=11;break e;case P:d=14;break e;case ae:d=16,l=null;break e}d=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Ut(d,a,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Vi(e,n,a,l){return e=Ut(7,e,l,n),e.lanes=a,e}function eu(e,n,a){return e=Ut(6,e,null,n),e.lanes=a,e}function Um(e){var n=Ut(18,null,null,0);return n.stateNode=e,n}function tu(e,n,a){return n=Ut(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zm=new WeakMap;function Xt(e,n){if(typeof e=="object"&&e!==null){var a=zm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ud(n)},zm.set(e,n),n)}return{value:e,source:n,stack:Ud(n)}}var Ds=[],Ms=0,bl=null,Ba=0,Zt=[],Wt=0,ti=null,gn=1,_n="";function Rn(e,n){Ds[Ms++]=Ba,Ds[Ms++]=bl,bl=e,Ba=n}function jm(e,n,a){Zt[Wt++]=gn,Zt[Wt++]=_n,Zt[Wt++]=ti,ti=e;var l=gn;e=_n;var c=32-kt(l)-1;l&=~(1<<c),a+=1;var f=32-kt(n)+c;if(30<f){var d=c-c%5;f=(l&(1<<d)-1).toString(32),l>>=d,c-=d,gn=1<<32-kt(n)+c|a<<c|l,_n=f+e}else gn=1<<f|a<<c|l,_n=e}function nu(e){e.return!==null&&(Rn(e,1),jm(e,1,0))}function iu(e){for(;e===bl;)bl=Ds[--Ms],Ds[Ms]=null,Ba=Ds[--Ms],Ds[Ms]=null;for(;e===ti;)ti=Zt[--Wt],Zt[Wt]=null,_n=Zt[--Wt],Zt[Wt]=null,gn=Zt[--Wt],Zt[Wt]=null}function Hm(e,n){Zt[Wt++]=gn,Zt[Wt++]=_n,Zt[Wt++]=ti,gn=n.id,_n=n.overflow,ti=e}var ot=null,Ue=null,pe=!1,ni=null,Jt=!1,su=Error(r(519));function ii(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pa(Xt(n,e)),su}function Bm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[lt]=e,n[Tt]=l,a){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(a=0;a<cr.length;a++)ue(cr[a],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":ue("invalid",n),$d(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ue("invalid",n);break;case"textarea":ue("invalid",n),tm(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||i_(n.textContent,a)?(l.popover!=null&&(ue("beforetoggle",n),ue("toggle",n)),l.onScroll!=null&&ue("scroll",n),l.onScrollEnd!=null&&ue("scrollend",n),l.onClick!=null&&(n.onclick=An),n=!0):n=!1,n||ii(e,!0)}function Pm(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ot=ot.return}}function ks(e){if(e!==ot)return!1;if(!pe)return Pm(e),pe=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Tf(e.type,e.memoizedProps)),a=!a),a&&Ue&&ii(e),Pm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=h_(e)}else n===27?(n=Ue,_i(e.type)?(e=xf,xf=null,Ue=e):Ue=n):Ue=ot?en(e.stateNode.nextSibling):null;return!0}function Yi(){Ue=ot=null,pe=!1}function au(){var e=ni;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),ni=null),e}function Pa(e){ni===null?ni=[e]:ni.push(e)}var ru=E(null),Fi=null,In=null;function si(e,n,a){j(ru,n._currentValue),n._currentValue=a}function On(e){e._currentValue=ru.current,D(ru)}function lu(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function ou(e,n,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var d=c.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=c;for(var S=0;S<n.length;S++)if(_.context===n[S]){f.lanes|=a,_=f.alternate,_!==null&&(_.lanes|=a),lu(f.return,a,e),l||(d=null);break e}f=_.next}}else if(c.tag===18){if(d=c.return,d===null)throw Error(r(341));d.lanes|=a,f=d.alternate,f!==null&&(f.lanes|=a),lu(d,a,e),d=null}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===e){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}}function Ls(e,n,a,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var d=c.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var _=c.type;Lt(c.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(c===Te.current){if(d=c.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(mr):e=[mr])}c=c.return}e!==null&&ou(n,e,a,l),n.flags|=262144}function Sl(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qi(e){Fi=e,In=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return qm(Fi,e)}function El(e,n){return Fi===null&&Qi(e),qm(e,n)}function qm(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},In===null){if(e===null)throw Error(r(308));In=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else In=In.next=n;return a}var nE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},iE=s.unstable_scheduleCallback,sE=s.unstable_NormalPriority,Qe={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cu(){return{controller:new nE,data:new Map,refCount:0}}function qa(e){e.refCount--,e.refCount===0&&iE(sE,function(){e.controller.abort()})}var Ga=null,uu=0,Us=0,zs=null;function aE(e,n){if(Ga===null){var a=Ga=[];uu=0,Us=mf(),zs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uu++,n.then(Gm,Gm),n}function Gm(){if(--uu===0&&Ga!==null){zs!==null&&(zs.status="fulfilled");var e=Ga;Ga=null,Us=0,zs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function rE(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Vm=O.S;O.S=function(e,n){Ng=Dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&aE(e,n),Vm!==null&&Vm(e,n)};var Ki=E(null);function fu(){var e=Ki.current;return e!==null?e:De.pooledCache}function Tl(e,n){n===null?j(Ki,Ki.current):j(Ki,n.pool)}function Ym(){var e=fu();return e===null?null:{parent:Qe._currentValue,pool:e}}var js=Error(r(460)),hu=Error(r(474)),wl=Error(r(542)),Cl={then:function(){}};function Fm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(An,An),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xm(e),e;default:if(typeof n.status=="string")n.then(An,An);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xm(e),e}throw Zi=n,js}}function Xi(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zi=a,js):a}}var Zi=null;function Km(){if(Zi===null)throw Error(r(459));var e=Zi;return Zi=null,e}function Xm(e){if(e===js||e===wl)throw Error(r(483))}var Hs=null,Va=0;function Al(e){var n=Va;return Va+=1,Hs===null&&(Hs=[]),Qm(Hs,e,n)}function Ya(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nl(e,n){throw n.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zm(e){function n(w,T){if(e){var A=w.deletions;A===null?(w.deletions=[T],w.flags|=16):A.push(T)}}function a(w,T){if(!e)return null;for(;T!==null;)n(w,T),T=T.sibling;return null}function l(w){for(var T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function c(w,T){return w=xn(w,T),w.index=0,w.sibling=null,w}function f(w,T,A){return w.index=A,e?(A=w.alternate,A!==null?(A=A.index,A<T?(w.flags|=67108866,T):A):(w.flags|=67108866,T)):(w.flags|=1048576,T)}function d(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,T,A,M){return T===null||T.tag!==6?(T=eu(A,w.mode,M),T.return=w,T):(T=c(T,A),T.return=w,T)}function S(w,T,A,M){var F=A.type;return F===q?I(w,T,A.props.children,M,A.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ae&&Xi(F)===T.type)?(T=c(T,A.props),Ya(T,A),T.return=w,T):(T=vl(A.type,A.key,A.props,null,w.mode,M),Ya(T,A),T.return=w,T)}function N(w,T,A,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=tu(A,w.mode,M),T.return=w,T):(T=c(T,A.children||[]),T.return=w,T)}function I(w,T,A,M,F){return T===null||T.tag!==7?(T=Vi(A,w.mode,M,F),T.return=w,T):(T=c(T,A),T.return=w,T)}function k(w,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=eu(""+T,w.mode,A),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case U:return A=vl(T.type,T.key,T.props,null,w.mode,A),Ya(A,T),A.return=w,A;case L:return T=tu(T,w.mode,A),T.return=w,T;case ae:return T=Xi(T),k(w,T,A)}if(Et(T)||he(T))return T=Vi(T,w.mode,A,null),T.return=w,T;if(typeof T.then=="function")return k(w,Al(T),A);if(T.$$typeof===ie)return k(w,El(w,T),A);Nl(w,T)}return null}function x(w,T,A,M){var F=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return F!==null?null:_(w,T,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case U:return A.key===F?S(w,T,A,M):null;case L:return A.key===F?N(w,T,A,M):null;case ae:return A=Xi(A),x(w,T,A,M)}if(Et(A)||he(A))return F!==null?null:I(w,T,A,M,null);if(typeof A.then=="function")return x(w,T,Al(A),M);if(A.$$typeof===ie)return x(w,T,El(w,A),M);Nl(w,A)}return null}function R(w,T,A,M,F){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return w=w.get(A)||null,_(T,w,""+M,F);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return w=w.get(M.key===null?A:M.key)||null,S(T,w,M,F);case L:return w=w.get(M.key===null?A:M.key)||null,N(T,w,M,F);case ae:return M=Xi(M),R(w,T,A,M,F)}if(Et(M)||he(M))return w=w.get(A)||null,I(T,w,M,F,null);if(typeof M.then=="function")return R(w,T,A,Al(M),F);if(M.$$typeof===ie)return R(w,T,A,El(T,M),F);Nl(T,M)}return null}function G(w,T,A,M){for(var F=null,_e=null,Y=T,ne=T=0,me=null;Y!==null&&ne<A.length;ne++){Y.index>ne?(me=Y,Y=null):me=Y.sibling;var ye=x(w,Y,A[ne],M);if(ye===null){Y===null&&(Y=me);break}e&&Y&&ye.alternate===null&&n(w,Y),T=f(ye,T,ne),_e===null?F=ye:_e.sibling=ye,_e=ye,Y=me}if(ne===A.length)return a(w,Y),pe&&Rn(w,ne),F;if(Y===null){for(;ne<A.length;ne++)Y=k(w,A[ne],M),Y!==null&&(T=f(Y,T,ne),_e===null?F=Y:_e.sibling=Y,_e=Y);return pe&&Rn(w,ne),F}for(Y=l(Y);ne<A.length;ne++)me=R(Y,w,ne,A[ne],M),me!==null&&(e&&me.alternate!==null&&Y.delete(me.key===null?ne:me.key),T=f(me,T,ne),_e===null?F=me:_e.sibling=me,_e=me);return e&&Y.forEach(function(Ei){return n(w,Ei)}),pe&&Rn(w,ne),F}function Q(w,T,A,M){if(A==null)throw Error(r(151));for(var F=null,_e=null,Y=T,ne=T=0,me=null,ye=A.next();Y!==null&&!ye.done;ne++,ye=A.next()){Y.index>ne?(me=Y,Y=null):me=Y.sibling;var Ei=x(w,Y,ye.value,M);if(Ei===null){Y===null&&(Y=me);break}e&&Y&&Ei.alternate===null&&n(w,Y),T=f(Ei,T,ne),_e===null?F=Ei:_e.sibling=Ei,_e=Ei,Y=me}if(ye.done)return a(w,Y),pe&&Rn(w,ne),F;if(Y===null){for(;!ye.done;ne++,ye=A.next())ye=k(w,ye.value,M),ye!==null&&(T=f(ye,T,ne),_e===null?F=ye:_e.sibling=ye,_e=ye);return pe&&Rn(w,ne),F}for(Y=l(Y);!ye.done;ne++,ye=A.next())ye=R(Y,w,ne,ye.value,M),ye!==null&&(e&&ye.alternate!==null&&Y.delete(ye.key===null?ne:ye.key),T=f(ye,T,ne),_e===null?F=ye:_e.sibling=ye,_e=ye);return e&&Y.forEach(function(_T){return n(w,_T)}),pe&&Rn(w,ne),F}function Re(w,T,A,M){if(typeof A=="object"&&A!==null&&A.type===q&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case U:e:{for(var F=A.key;T!==null;){if(T.key===F){if(F=A.type,F===q){if(T.tag===7){a(w,T.sibling),M=c(T,A.props.children),M.return=w,w=M;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ae&&Xi(F)===T.type){a(w,T.sibling),M=c(T,A.props),Ya(M,A),M.return=w,w=M;break e}a(w,T);break}else n(w,T);T=T.sibling}A.type===q?(M=Vi(A.props.children,w.mode,M,A.key),M.return=w,w=M):(M=vl(A.type,A.key,A.props,null,w.mode,M),Ya(M,A),M.return=w,w=M)}return d(w);case L:e:{for(F=A.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){a(w,T.sibling),M=c(T,A.children||[]),M.return=w,w=M;break e}else{a(w,T);break}else n(w,T);T=T.sibling}M=tu(A,w.mode,M),M.return=w,w=M}return d(w);case ae:return A=Xi(A),Re(w,T,A,M)}if(Et(A))return G(w,T,A,M);if(he(A)){if(F=he(A),typeof F!="function")throw Error(r(150));return A=F.call(A),Q(w,T,A,M)}if(typeof A.then=="function")return Re(w,T,Al(A),M);if(A.$$typeof===ie)return Re(w,T,El(w,A),M);Nl(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(a(w,T.sibling),M=c(T,A),M.return=w,w=M):(a(w,T),M=eu(A,w.mode,M),M.return=w,w=M),d(w)):a(w,T)}return function(w,T,A,M){try{Va=0;var F=Re(w,T,A,M);return Hs=null,F}catch(Y){if(Y===js||Y===wl)throw Y;var _e=Ut(29,Y,null,w.mode);return _e.lanes=M,_e.return=w,_e}finally{}}}var Wi=Zm(!0),Wm=Zm(!1),ai=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ri(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function li(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Se&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=yl(e),km(e,null,a),n}return _l(e,l,n,a),yl(e)}function Fa(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,qd(e,a)}}function pu(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=d:f=f.next=d,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var gu=!1;function Qa(){if(gu){var e=zs;if(e!==null)throw e}}function Ka(e,n,a,l){gu=!1;var c=e.updateQueue;ai=!1;var f=c.firstBaseUpdate,d=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var S=_,N=S.next;S.next=null,d===null?f=N:d.next=N,d=S;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==d&&(_===null?I.firstBaseUpdate=N:_.next=N,I.lastBaseUpdate=S))}if(f!==null){var k=c.baseState;d=0,I=N=S=null,_=f;do{var x=_.lane&-536870913,R=x!==_.lane;if(R?(de&x)===x:(l&x)===x){x!==0&&x===Us&&(gu=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var G=e,Q=_;x=n;var Re=a;switch(Q.tag){case 1:if(G=Q.payload,typeof G=="function"){k=G.call(Re,k,x);break e}k=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Q.payload,x=typeof G=="function"?G.call(Re,k,x):G,x==null)break e;k=y({},k,x);break e;case 2:ai=!0}}x=_.callback,x!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[x]:R.push(x))}else R={lane:x,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(N=I=R,S=k):I=I.next=R,d|=x;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);I===null&&(S=k),c.baseState=S,c.firstBaseUpdate=N,c.lastBaseUpdate=I,f===null&&(c.shared.lanes=0),hi|=d,e.lanes=d,e.memoizedState=k}}function Jm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function $m(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jm(a[e],n)}var Bs=E(null),xl=E(0);function ep(e,n){e=Bn,j(xl,e),j(Bs,n),Bn=e|n.baseLanes}function _u(){j(xl,Bn),j(Bs,Bs.current)}function yu(){Bn=xl.current,D(Bs),D(xl)}var zt=E(null),$t=null;function oi(e){var n=e.alternate;j(Ye,Ye.current&1),j(zt,e),$t===null&&(n===null||Bs.current!==null||n.memoizedState!==null)&&($t=e)}function vu(e){j(Ye,Ye.current),j(zt,e),$t===null&&($t=e)}function tp(e){e.tag===22?(j(Ye,Ye.current),j(zt,e),$t===null&&($t=e)):ci()}function ci(){j(Ye,Ye.current),j(zt,zt.current)}function jt(e){D(zt),$t===e&&($t=null),D(Ye)}var Ye=E(0);function Rl(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Af(a)||Nf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Dn=0,ee=null,Ne=null,Ke=null,Il=!1,Ps=!1,Ji=!1,Ol=0,Xa=0,qs=null,lE=0;function Be(){throw Error(r(321))}function bu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Lt(e[a],n[a]))return!1;return!0}function Su(e,n,a,l,c,f){return Dn=f,ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?jp:Uu,Ji=!1,f=a(l,c),Ji=!1,Ps&&(f=ip(n,a,l,c)),np(e),f}function np(e){O.H=Ja;var n=Ne!==null&&Ne.next!==null;if(Dn=0,Ke=Ne=ee=null,Il=!1,Xa=0,qs=null,n)throw Error(r(300));e===null||Xe||(e=e.dependencies,e!==null&&Sl(e)&&(Xe=!0))}function ip(e,n,a,l){ee=e;var c=0;do{if(Ps&&(qs=null),Xa=0,Ps=!1,25<=c)throw Error(r(301));if(c+=1,Ke=Ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=Hp,f=n(a,l)}while(Ps);return f}function oE(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Za(n):n,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ee.flags|=1024),n}function Eu(){var e=Ol!==0;return Ol=0,e}function Tu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function wu(e){if(Il){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Il=!1}Dn=0,Ke=Ne=ee=null,Ps=!1,Xa=Ol=0,qs=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ee.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Fe(){if(Ne===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var n=Ke===null?ee.memoizedState:Ke.next;if(n!==null)Ke=n,Ne=e;else{if(e===null)throw ee.alternate===null?Error(r(467)):Error(r(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ke===null?ee.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Za(e){var n=Xa;return Xa+=1,qs===null&&(qs=[]),e=Qm(qs,e,n),n=ee,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?jp:Uu),e}function Ml(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Za(e);if(e.$$typeof===ie)return ct(e)}throw Error(r(438,String(e)))}function Cu(e){var n=null,a=ee.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Dl(),ee.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=He;return n.index++,a}function Mn(e,n){return typeof n=="function"?n(e):n}function kl(e){var n=Fe();return Au(n,Ne,e)}function Au(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var d=c.next;c.next=f.next,f.next=d}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var _=d=null,S=null,N=n,I=!1;do{var k=N.lane&-536870913;if(k!==N.lane?(de&k)===k:(Dn&k)===k){var x=N.revertLane;if(x===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),k===Us&&(I=!0);else if((Dn&x)===x){N=N.next,x===Us&&(I=!0);continue}else k={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(_=S=k,d=f):S=S.next=k,ee.lanes|=x,hi|=x;k=N.action,Ji&&a(f,k),f=N.hasEagerState?N.eagerState:a(f,k)}else x={lane:k,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(_=S=x,d=f):S=S.next=x,ee.lanes|=k,hi|=k;N=N.next}while(N!==null&&N!==n);if(S===null?d=f:S.next=_,!Lt(f,e.memoizedState)&&(Xe=!0,I&&(a=zs,a!==null)))throw a;e.memoizedState=f,e.baseState=d,e.baseQueue=S,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Nu(e){var n=Fe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var d=c=c.next;do f=e(f,d.action),d=d.next;while(d!==c);Lt(f,n.memoizedState)||(Xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function sp(e,n,a){var l=ee,c=Fe(),f=pe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var d=!Lt((Ne||c).memoizedState,a);if(d&&(c.memoizedState=a,Xe=!0),c=c.queue,Iu(lp.bind(null,l,c,e),[e]),c.getSnapshot!==n||d||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,Gs(9,{destroy:void 0},rp.bind(null,l,c,a,n),null),De===null)throw Error(r(349));f||(Dn&127)!==0||ap(l,n,a)}return a}function ap(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ee.updateQueue,n===null?(n=Dl(),ee.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function rp(e,n,a,l){n.value=a,n.getSnapshot=l,op(n)&&cp(e)}function lp(e,n,a){return a(function(){op(n)&&cp(e)})}function op(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Lt(e,a)}catch{return!0}}function cp(e){var n=Gi(e,2);n!==null&&Rt(n,e,2)}function xu(e){var n=_t();if(typeof e=="function"){var a=e;if(e=a(),Ji){Jn(!0);try{a()}finally{Jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},n}function up(e,n,a,l){return e.baseState=a,Au(e,Ne,typeof l=="function"?l:Mn)}function cE(e,n,a,l,c){if(zl(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){f.listeners.push(d)}};O.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,fp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function fp(e,n){var a=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=O.T,d={};O.T=d;try{var _=a(c,l),S=O.S;S!==null&&S(d,_),hp(e,n,_)}catch(N){Ru(e,n,N)}finally{f!==null&&d.types!==null&&(f.types=d.types),O.T=f}}else try{f=a(c,l),hp(e,n,f)}catch(N){Ru(e,n,N)}}function hp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dp(e,n,l)},function(l){return Ru(e,n,l)}):dp(e,n,a)}function dp(e,n,a){n.status="fulfilled",n.value=a,mp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,fp(e,a)))}function Ru(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,mp(n),n=n.next;while(n!==l)}e.action=null}function mp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pp(e,n){return n}function gp(e,n){if(pe){var a=De.formState;if(a!==null){e:{var l=ee;if(pe){if(Ue){t:{for(var c=Ue,f=Jt;c.nodeType!==8;){if(!f){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=en(c.nextSibling),l=c.data==="F!";break e}}ii(l)}l=!1}l&&(n=a[0])}}return a=_t(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},a.queue=l,a=Lp.bind(null,ee,l),l.dispatch=a,l=xu(!1),f=Lu.bind(null,ee,!1,l.queue),l=_t(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,a=cE.bind(null,ee,c,f,a),c.dispatch=a,l.memoizedState=e,[n,a,!1]}function _p(e){var n=Fe();return yp(n,Ne,e)}function yp(e,n,a){if(n=Au(e,n,pp)[0],e=kl(Mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Za(n)}catch(d){throw d===js?wl:d}else l=n;n=Fe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(ee.flags|=2048,Gs(9,{destroy:void 0},uE.bind(null,c,a),null)),[l,f,e]}function uE(e,n){e.action=n}function vp(e){var n=Fe(),a=Ne;if(a!==null)return yp(n,a,e);Fe(),n=n.memoizedState,a=Fe();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Gs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=ee.updateQueue,n===null&&(n=Dl(),ee.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function bp(){return Fe().memoizedState}function Ll(e,n,a,l){var c=_t();ee.flags|=e,c.memoizedState=Gs(1|n,{destroy:void 0},a,l===void 0?null:l)}function Ul(e,n,a,l){var c=Fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Ne!==null&&l!==null&&bu(l,Ne.memoizedState.deps)?c.memoizedState=Gs(n,f,a,l):(ee.flags|=e,c.memoizedState=Gs(1|n,f,a,l))}function Sp(e,n){Ll(8390656,8,e,n)}function Iu(e,n){Ul(2048,8,e,n)}function fE(e){ee.flags|=4;var n=ee.updateQueue;if(n===null)n=Dl(),ee.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Ep(e){var n=Fe().memoizedState;return fE({ref:n,nextImpl:e}),function(){if((Se&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Tp(e,n){return Ul(4,2,e,n)}function wp(e,n){return Ul(4,4,e,n)}function Cp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,a){a=a!=null?a.concat([e]):null,Ul(4,4,Cp.bind(null,n,e),a)}function Ou(){}function Np(e,n){var a=Fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&bu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function xp(e,n){var a=Fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&bu(n,l[1]))return l[0];if(l=e(),Ji){Jn(!0);try{e()}finally{Jn(!1)}}return a.memoizedState=[l,n],l}function Du(e,n,a){return a===void 0||(Dn&1073741824)!==0&&(de&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Rg(),ee.lanes|=e,hi|=e,a)}function Rp(e,n,a,l){return Lt(a,n)?a:Bs.current!==null?(e=Du(e,a,l),Lt(e,n)||(Xe=!0),e):(Dn&42)===0||(Dn&1073741824)!==0&&(de&261930)===0?(Xe=!0,e.memoizedState=a):(e=Rg(),ee.lanes|=e,hi|=e,n)}function Ip(e,n,a,l,c){var f=H.p;H.p=f!==0&&8>f?f:8;var d=O.T,_={};O.T=_,Lu(e,!1,n,a);try{var S=c(),N=O.S;if(N!==null&&N(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var I=rE(S,l);Wa(e,n,I,Pt(e))}else Wa(e,n,l,Pt(e))}catch(k){Wa(e,n,{then:function(){},status:"rejected",reason:k},Pt())}finally{H.p=f,d!==null&&_.types!==null&&(d.types=_.types),O.T=d}}function hE(){}function Mu(e,n,a,l){if(e.tag!==5)throw Error(r(476));var c=Op(e).queue;Ip(e,c,n,K,a===null?hE:function(){return Dp(e),a(l)})}function Op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:K},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dp(e){var n=Op(e);n.next===null&&(n=e.alternate.memoizedState),Wa(e,n.next.queue,{},Pt())}function ku(){return ct(mr)}function Mp(){return Fe().memoizedState}function kp(){return Fe().memoizedState}function dE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Pt();e=ri(a);var l=li(n,e,a);l!==null&&(Rt(l,n,a),Fa(l,n,a)),n={cache:cu()},e.payload=n;return}n=n.return}}function mE(e,n,a){var l=Pt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zl(e)?Up(n,a):(a=Jc(e,n,a,l),a!==null&&(Rt(a,e,l),zp(a,n,l)))}function Lp(e,n,a){var l=Pt();Wa(e,n,a,l)}function Wa(e,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zl(e))Up(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var d=n.lastRenderedState,_=f(d,a);if(c.hasEagerState=!0,c.eagerState=_,Lt(_,d))return _l(e,n,c,0),De===null&&gl(),!1}catch{}finally{}if(a=Jc(e,n,c,l),a!==null)return Rt(a,e,l),zp(a,n,l),!0}return!1}function Lu(e,n,a,l){if(l={lane:2,revertLane:mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zl(e)){if(n)throw Error(r(479))}else n=Jc(e,a,l,2),n!==null&&Rt(n,e,2)}function zl(e){var n=e.alternate;return e===ee||n!==null&&n===ee}function Up(e,n){Ps=Il=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function zp(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,qd(e,a)}}var Ja={readContext:ct,use:Ml,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Ja.useEffectEvent=Be;var jp={readContext:ct,use:Ml,useCallback:function(e,n){return _t().memoizedState=[e,n===void 0?null:n],e},useContext:ct,useEffect:Sp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ll(4194308,4,Cp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ll(4194308,4,e,n)},useInsertionEffect:function(e,n){Ll(4,2,e,n)},useMemo:function(e,n){var a=_t();n=n===void 0?null:n;var l=e();if(Ji){Jn(!0);try{e()}finally{Jn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=_t();if(a!==void 0){var c=a(n);if(Ji){Jn(!0);try{a(n)}finally{Jn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=mE.bind(null,ee,e),[l.memoizedState,e]},useRef:function(e){var n=_t();return e={current:e},n.memoizedState=e},useState:function(e){e=xu(e);var n=e.queue,a=Lp.bind(null,ee,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ou,useDeferredValue:function(e,n){var a=_t();return Du(a,e,n)},useTransition:function(){var e=xu(!1);return e=Ip.bind(null,ee,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=ee,c=_t();if(pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),De===null)throw Error(r(349));(de&127)!==0||ap(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Sp(lp.bind(null,l,f,e),[e]),l.flags|=2048,Gs(9,{destroy:void 0},rp.bind(null,l,f,a,n),null),a},useId:function(){var e=_t(),n=De.identifierPrefix;if(pe){var a=_n,l=gn;a=(l&~(1<<32-kt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ol++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=lE++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ku,useFormState:gp,useActionState:gp,useOptimistic:function(e){var n=_t();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Lu.bind(null,ee,!0,a),a.dispatch=n,[e,n]},useMemoCache:Cu,useCacheRefresh:function(){return _t().memoizedState=dE.bind(null,ee)},useEffectEvent:function(e){var n=_t(),a={impl:e};return n.memoizedState=a,function(){if((Se&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Uu={readContext:ct,use:Ml,useCallback:Np,useContext:ct,useEffect:Iu,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:wp,useMemo:xp,useReducer:kl,useRef:bp,useState:function(){return kl(Mn)},useDebugValue:Ou,useDeferredValue:function(e,n){var a=Fe();return Rp(a,Ne.memoizedState,e,n)},useTransition:function(){var e=kl(Mn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Za(e),n]},useSyncExternalStore:sp,useId:Mp,useHostTransitionStatus:ku,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var a=Fe();return up(a,Ne,e,n)},useMemoCache:Cu,useCacheRefresh:kp};Uu.useEffectEvent=Ep;var Hp={readContext:ct,use:Ml,useCallback:Np,useContext:ct,useEffect:Iu,useImperativeHandle:Ap,useInsertionEffect:Tp,useLayoutEffect:wp,useMemo:xp,useReducer:Nu,useRef:bp,useState:function(){return Nu(Mn)},useDebugValue:Ou,useDeferredValue:function(e,n){var a=Fe();return Ne===null?Du(a,e,n):Rp(a,Ne.memoizedState,e,n)},useTransition:function(){var e=Nu(Mn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Za(e),n]},useSyncExternalStore:sp,useId:Mp,useHostTransitionStatus:ku,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var a=Fe();return Ne!==null?up(a,Ne,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:kp};Hp.useEffectEvent=Ep;function zu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:y({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ju={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Pt(),c=ri(l);c.payload=n,a!=null&&(c.callback=a),n=li(e,c,l),n!==null&&(Rt(n,e,l),Fa(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Pt(),c=ri(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=li(e,c,l),n!==null&&(Rt(n,e,l),Fa(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Pt(),l=ri(a);l.tag=2,n!=null&&(l.callback=n),n=li(e,l,a),n!==null&&(Rt(n,e,a),Fa(n,e,a))}};function Bp(e,n,a,l,c,f,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,d):n.prototype&&n.prototype.isPureReactComponent?!ja(a,l)||!ja(c,f):!0}function Pp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&ju.enqueueReplaceState(n,n.state,null)}function $i(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=y({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function qp(e){pl(e)}function Gp(e){console.error(e)}function Vp(e){pl(e)}function jl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Hu(e,n,a){return a=ri(a),a.tag=3,a.payload={element:null},a.callback=function(){jl(e,n)},a}function Fp(e){return e=ri(e),e.tag=3,e}function Qp(e,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Yp(n,a,l)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Yp(n,a,l),typeof c!="function"&&(di===null?di=new Set([this]):di.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function pE(e,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ls(n,a,c,!0),a=zt.current,a!==null){switch(a.tag){case 31:case 13:return $t===null?Zl():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Cl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ff(e,l,c)),!1;case 22:return a.flags|=65536,l===Cl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ff(e,l,c)),!1}throw Error(r(435,a.tag))}return ff(e,l,c),Zl(),!1}if(pe)return n=zt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==su&&(e=Error(r(422),{cause:l}),Pa(Xt(e,a)))):(l!==su&&(n=Error(r(423),{cause:l}),Pa(Xt(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Xt(l,a),c=Hu(e.stateNode,l,c),pu(e,c),Pe!==4&&(Pe=2)),!1;var f=Error(r(520),{cause:l});if(f=Xt(f,a),rr===null?rr=[f]:rr.push(f),Pe!==4&&(Pe=2),n===null)return!0;l=Xt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Hu(a.stateNode,l,e),pu(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(di===null||!di.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Fp(c),Qp(c,e,a,l),pu(a,c),!1}a=a.return}while(a!==null);return!1}var Bu=Error(r(461)),Xe=!1;function ut(e,n,a,l){n.child=e===null?Wm(n,null,a,l):Wi(n,e.child,a,l)}function Kp(e,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var d={};for(var _ in l)_!=="ref"&&(d[_]=l[_])}else d=l;return Qi(n),l=Su(e,n,a,d,f,c),_=Eu(),e!==null&&!Xe?(Tu(e,n,c),kn(e,n,c)):(pe&&_&&nu(n),n.flags|=1,ut(e,n,l,c),n.child)}function Xp(e,n,a,l,c){if(e===null){var f=a.type;return typeof f=="function"&&!$c(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zp(e,n,f,l,c)):(e=vl(a.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ku(e,c)){var d=f.memoizedProps;if(a=a.compare,a=a!==null?a:ja,a(d,l)&&e.ref===n.ref)return kn(e,n,c)}return n.flags|=1,e=xn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Zp(e,n,a,l,c){if(e!==null){var f=e.memoizedProps;if(ja(f,l)&&e.ref===n.ref)if(Xe=!1,n.pendingProps=l=f,Ku(e,c))(e.flags&131072)!==0&&(Xe=!0);else return n.lanes=e.lanes,kn(e,n,c)}return Pu(e,n,a,l,c)}function Wp(e,n,a,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Jp(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tl(n,f!==null?f.cachePool:null),f!==null?ep(n,f):_u(),tp(n);else return l=n.lanes=536870912,Jp(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Tl(n,f.cachePool),ep(n,f),ci(),n.memoizedState=null):(e!==null&&Tl(n,null),_u(),ci());return ut(e,n,c,a),n.child}function $a(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jp(e,n,a,l,c){var f=fu();return f=f===null?null:{parent:Qe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Tl(n,null),_u(),tp(n),e!==null&&Ls(e,n,l,!0),n.childLanes=c,null}function Hl(e,n){return n=Pl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,a){return Wi(n,e.child,null,a),e=Hl(n,n.pendingProps),e.flags|=2,jt(n),n.memoizedState=null,e}function gE(e,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(pe){if(l.mode==="hidden")return e=Hl(n,l),n.lanes=536870912,$a(null,e);if(vu(n),(e=Ue)?(e=f_(e,Jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},a=Um(e),a.return=n,n.child=a,ot=n,Ue=null)):e=null,e===null)throw ii(n);return n.lanes=536870912,null}return Hl(n,l)}var f=e.memoizedState;if(f!==null){var d=f.dehydrated;if(vu(n),c)if(n.flags&256)n.flags&=-257,n=$p(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Xe||Ls(e,n,a,!1),c=(a&e.childLanes)!==0,Xe||c){if(l=De,l!==null&&(d=Gd(l,a),d!==0&&d!==f.retryLane))throw f.retryLane=d,Gi(e,d),Rt(l,e,d),Bu;Zl(),n=$p(e,n,a)}else e=f.treeContext,Ue=en(d.nextSibling),ot=n,pe=!0,ni=null,Jt=!1,e!==null&&Hm(n,e),n=Hl(n,l),n.flags|=4096;return n}return e=xn(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Pu(e,n,a,l,c){return Qi(n),a=Su(e,n,a,l,void 0,c),l=Eu(),e!==null&&!Xe?(Tu(e,n,c),kn(e,n,c)):(pe&&l&&nu(n),n.flags|=1,ut(e,n,a,c),n.child)}function eg(e,n,a,l,c,f){return Qi(n),n.updateQueue=null,a=ip(n,l,a,c),np(e),l=Eu(),e!==null&&!Xe?(Tu(e,n,f),kn(e,n,f)):(pe&&l&&nu(n),n.flags|=1,ut(e,n,a,f),n.child)}function tg(e,n,a,l,c){if(Qi(n),n.stateNode===null){var f=Os,d=a.contextType;typeof d=="object"&&d!==null&&(f=ct(d)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ju,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},du(n),d=a.contextType,f.context=typeof d=="object"&&d!==null?ct(d):Os,f.state=n.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(zu(n,a,d,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(d=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),d!==f.state&&ju.enqueueReplaceState(f,f.state,null),Ka(n,l,f,c),Qa(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,S=$i(a,_);f.props=S;var N=f.context,I=a.contextType;d=Os,typeof I=="object"&&I!==null&&(d=ct(I));var k=a.getDerivedStateFromProps;I=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||N!==d)&&Pp(n,f,l,d),ai=!1;var x=n.memoizedState;f.state=x,Ka(n,l,f,c),Qa(),N=n.memoizedState,_||x!==N||ai?(typeof k=="function"&&(zu(n,a,k,l),N=n.memoizedState),(S=ai||Bp(n,a,S,l,x,N,d))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=d,l=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mu(e,n),d=n.memoizedProps,I=$i(a,d),f.props=I,k=n.pendingProps,x=f.context,N=a.contextType,S=Os,typeof N=="object"&&N!==null&&(S=ct(N)),_=a.getDerivedStateFromProps,(N=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(d!==k||x!==S)&&Pp(n,f,l,S),ai=!1,x=n.memoizedState,f.state=x,Ka(n,l,f,c),Qa();var R=n.memoizedState;d!==k||x!==R||ai||e!==null&&e.dependencies!==null&&Sl(e.dependencies)?(typeof _=="function"&&(zu(n,a,_,l),R=n.memoizedState),(I=ai||Bp(n,a,I,l,x,R,S)||e!==null&&e.dependencies!==null&&Sl(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,R,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,R,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=R),f.props=l,f.state=R,f.context=S,l=I):(typeof f.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Bl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Wi(n,e.child,null,c),n.child=Wi(n,null,a,c)):ut(e,n,a,c),n.memoizedState=f.state,e=n.child):e=kn(e,n,c),e}function ng(e,n,a,l){return Yi(),n.flags|=256,ut(e,n,a,l),n.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gu(e){return{baseLanes:e,cachePool:Ym()}}function Vu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Bt),e}function ig(e,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,d;if((d=f)||(d=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),d&&(c=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(pe){if(c?oi(n):ci(),(e=Ue)?(e=f_(e,Jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:gn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},a=Um(e),a.return=n,n.child=a,ot=n,Ue=null)):e=null,e===null)throw ii(n);return Nf(e)?n.lanes=32:n.lanes=536870912,null}var _=l.children;return l=l.fallback,c?(ci(),c=n.mode,_=Pl({mode:"hidden",children:_},c),l=Vi(l,c,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,l=n.child,l.memoizedState=Gu(a),l.childLanes=Vu(e,d,a),n.memoizedState=qu,$a(null,l)):(oi(n),Yu(n,_))}var S=e.memoizedState;if(S!==null&&(_=S.dehydrated,_!==null)){if(f)n.flags&256?(oi(n),n.flags&=-257,n=Fu(e,n,a)):n.memoizedState!==null?(ci(),n.child=e.child,n.flags|=128,n=null):(ci(),_=l.fallback,c=n.mode,l=Pl({mode:"visible",children:l.children},c),_=Vi(_,c,a,null),_.flags|=2,l.return=n,_.return=n,l.sibling=_,n.child=l,Wi(n,e.child,null,a),l=n.child,l.memoizedState=Gu(a),l.childLanes=Vu(e,d,a),n.memoizedState=qu,n=$a(null,l));else if(oi(n),Nf(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var N=d.dgst;d=N,l=Error(r(419)),l.stack="",l.digest=d,Pa({value:l,source:null,stack:null}),n=Fu(e,n,a)}else if(Xe||Ls(e,n,a,!1),d=(a&e.childLanes)!==0,Xe||d){if(d=De,d!==null&&(l=Gd(d,a),l!==0&&l!==S.retryLane))throw S.retryLane=l,Gi(e,l),Rt(d,e,l),Bu;Af(_)||Zl(),n=Fu(e,n,a)}else Af(_)?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,Ue=en(_.nextSibling),ot=n,pe=!0,ni=null,Jt=!1,e!==null&&Hm(n,e),n=Yu(n,l.children),n.flags|=4096);return n}return c?(ci(),_=l.fallback,c=n.mode,S=e.child,N=S.sibling,l=xn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,N!==null?_=xn(N,_):(_=Vi(_,c,a,null),_.flags|=2),_.return=n,l.return=n,l.sibling=_,n.child=l,$a(null,l),l=n.child,_=e.child.memoizedState,_===null?_=Gu(a):(c=_.cachePool,c!==null?(S=Qe._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=Ym(),_={baseLanes:_.baseLanes|a,cachePool:c}),l.memoizedState=_,l.childLanes=Vu(e,d,a),n.memoizedState=qu,$a(e.child,l)):(oi(n),a=e.child,e=a.sibling,a=xn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=a,n.memoizedState=null,a)}function Yu(e,n){return n=Pl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Pl(e,n){return e=Ut(22,e,null,n),e.lanes=0,e}function Fu(e,n,a){return Wi(n,e.child,null,a),e=Yu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sg(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),lu(e.return,n,a)}function Qu(e,n,a,l,c,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=c,d.treeForkCount=f)}function ag(e,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var d=Ye.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,j(Ye,d),ut(e,n,l,a),l=pe?Ba:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sg(e,a,n);else if(e.tag===19)sg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&Rl(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Qu(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Rl(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Qu(n,!0,a,null,f,l);break;case"together":Qu(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function kn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),hi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ls(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=xn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ku(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Sl(e)))}function _E(e,n,a){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),si(n,Qe,e.memoizedState.cache),Yi();break;case 27:case 5:Ca(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:si(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ig(e,n,a):(oi(n),e=kn(e,n,a),e!==null?e.sibling:null);oi(n);break;case 19:var c=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ls(e,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return ag(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),j(Ye,Ye.current),l)break;return null;case 22:return n.lanes=0,Wp(e,n,a,n.pendingProps);case 24:si(n,Qe,e.memoizedState.cache)}return kn(e,n,a)}function rg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Xe=!0;else{if(!Ku(e,a)&&(n.flags&128)===0)return Xe=!1,_E(e,n,a);Xe=(e.flags&131072)!==0}else Xe=!1,pe&&(n.flags&1048576)!==0&&jm(n,Ba,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Xi(n.elementType),n.type=e,typeof e=="function")$c(e)?(l=$i(e,l),n.tag=1,n=tg(null,n,e,l,a)):(n.tag=0,n=Pu(null,n,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===Le){n.tag=11,n=Kp(null,n,e,l,a);break e}else if(c===P){n.tag=14,n=Xp(null,n,e,l,a);break e}}throw n=Ot(e)||e,Error(r(306,n,""))}}return n;case 0:return Pu(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=$i(l,n.pendingProps),tg(e,n,l,c,a);case 3:e:{if(gt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,mu(e,n),Ka(n,l,null,a);var d=n.memoizedState;if(l=d.cache,si(n,Qe,l),l!==f.cache&&ou(n,[Qe],a,!0),Qa(),l=d.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ng(e,n,l,a);break e}else if(l!==c){c=Xt(Error(r(424)),n),Pa(c),n=ng(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=en(e.firstChild),ot=n,pe=!0,ni=null,Jt=!0,a=Wm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yi(),l===c){n=kn(e,n,a);break e}ut(e,n,l,a)}n=n.child}return n;case 26:return Bl(e,n),e===null?(a=__(n.type,null,n.pendingProps,null))?n.memoizedState=a:pe||(a=n.type,e=n.pendingProps,l=io(oe.current).createElement(a),l[lt]=n,l[Tt]=e,ft(l,a,e),nt(l),n.stateNode=l):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ca(n),e===null&&pe&&(l=n.stateNode=m_(n.type,n.pendingProps,oe.current),ot=n,Jt=!0,c=Ue,_i(n.type)?(xf=c,Ue=en(l.firstChild)):Ue=c),ut(e,n,n.pendingProps.children,a),Bl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&pe&&((c=l=Ue)&&(l=QE(l,n.type,n.pendingProps,Jt),l!==null?(n.stateNode=l,ot=n,Ue=en(l.firstChild),Jt=!1,c=!0):c=!1),c||ii(n)),Ca(n),c=n.type,f=n.pendingProps,d=e!==null?e.memoizedProps:null,l=f.children,Tf(c,f)?l=null:d!==null&&Tf(c,d)&&(n.flags|=32),n.memoizedState!==null&&(c=Su(e,n,oE,null,null,a),mr._currentValue=c),Bl(e,n),ut(e,n,l,a),n.child;case 6:return e===null&&pe&&((e=a=Ue)&&(a=KE(a,n.pendingProps,Jt),a!==null?(n.stateNode=a,ot=n,Ue=null,e=!0):e=!1),e||ii(n)),null;case 13:return ig(e,n,a);case 4:return gt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Wi(n,null,l,a):ut(e,n,l,a),n.child;case 11:return Kp(e,n,n.type,n.pendingProps,a);case 7:return ut(e,n,n.pendingProps,a),n.child;case 8:return ut(e,n,n.pendingProps.children,a),n.child;case 12:return ut(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,si(n,n.type,l.value),ut(e,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Qi(n),c=ct(c),l=l(c),n.flags|=1,ut(e,n,l,a),n.child;case 14:return Xp(e,n,n.type,n.pendingProps,a);case 15:return Zp(e,n,n.type,n.pendingProps,a);case 19:return ag(e,n,a);case 31:return gE(e,n,a);case 22:return Wp(e,n,a,n.pendingProps);case 24:return Qi(n),l=ct(Qe),e===null?(c=fu(),c===null&&(c=De,f=cu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},du(n),si(n,Qe,c)):((e.lanes&a)!==0&&(mu(e,n),Ka(n,null,null,a),Qa()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),si(n,Qe,l)):(l=f.cache,si(n,Qe,l),l!==c.cache&&ou(n,[Qe],a,!0))),ut(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ln(e){e.flags|=4}function Xu(e,n,a,l,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Mg())e.flags|=8192;else throw Zi=Cl,hu}else e.flags&=-16777217}function lg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E_(n))if(Mg())e.flags|=8192;else throw Zi=Cl,hu}function ql(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bd():536870912,e.lanes|=n,Qs|=n)}function er(e,n){if(!pe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function yE(e,n,a){var l=n.pendingProps;switch(iu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),On(Qe),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ks(n)?Ln(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,au())),ze(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Ln(n),f!==null?(ze(n),lg(n,f)):(ze(n),Xu(n,c,null,l,a))):f?f!==e.memoizedState?(Ln(n),ze(n),lg(n,f)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ln(n),ze(n),Xu(n,c,e,l,a)),null;case 27:if($r(n),a=oe.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ln(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ze(n),null}e=V.current,ks(n)?Bm(n):(e=m_(c,l,a),n.stateNode=e,Ln(n))}return ze(n),null;case 5:if($r(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ln(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ze(n),null}if(f=V.current,ks(n))Bm(n);else{var d=io(oe.current);switch(f){case 1:f=d.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=d.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=d.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=d.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?d.createElement(c,{is:l.is}):d.createElement(c)}}f[lt]=n,f[Tt]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)f.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=f;e:switch(ft(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ln(n)}}return ze(n),Xu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ln(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=oe.current,ks(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,c=ot,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[lt]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||i_(e.nodeValue,a)),e||ii(n,!0)}else e=io(e).createTextNode(l),e[lt]=n,n.stateNode=e}return ze(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=ks(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[lt]=n}else Yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else a=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(jt(n),n):(jt(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ze(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ks(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[lt]=n}else Yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),c=!1}else c=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(jt(n),n):(jt(n),null)}return jt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ql(n,n.updateQueue),ze(n),null);case 4:return Ve(),e===null&&yf(n.stateNode.containerInfo),ze(n),null;case 10:return On(n.type),ze(n),null;case 19:if(D(Ye),l=n.memoizedState,l===null)return ze(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)er(l,!1);else{if(Pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Rl(e),f!==null){for(n.flags|=128,er(l,!1),e=f.updateQueue,n.updateQueue=e,ql(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Lm(a,e),a=a.sibling;return j(Ye,Ye.current&1|2),pe&&Rn(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Dt()>Ql&&(n.flags|=128,c=!0,er(l,!1),n.lanes=4194304)}else{if(!c)if(e=Rl(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,ql(n,e),er(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!pe)return ze(n),null}else 2*Dt()-l.renderingStartTime>Ql&&a!==536870912&&(n.flags|=128,c=!0,er(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dt(),e.sibling=null,a=Ye.current,j(Ye,c?a&1|2:a&1),pe&&Rn(n,l.treeForkCount),e):(ze(n),null);case 22:case 23:return jt(n),yu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),a=n.updateQueue,a!==null&&ql(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&D(Ki),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),On(Qe),ze(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function vE(e,n){switch(iu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return On(Qe),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $r(n),null;case 31:if(n.memoizedState!==null){if(jt(n),n.alternate===null)throw Error(r(340));Yi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Yi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return D(Ye),null;case 4:return Ve(),null;case 10:return On(n.type),null;case 22:case 23:return jt(n),yu(),e!==null&&D(Ki),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return On(Qe),null;case 25:return null;default:return null}}function og(e,n){switch(iu(n),n.tag){case 3:On(Qe),Ve();break;case 26:case 27:case 5:$r(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&jt(n);break;case 13:jt(n);break;case 19:D(Ye);break;case 10:On(n.type);break;case 22:case 23:jt(n),yu(),e!==null&&D(Ki);break;case 24:On(Qe)}}function tr(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var f=a.create,d=a.inst;l=f(),d.destroy=l}a=a.next}while(a!==c)}}catch(_){Ae(n,n.return,_)}}function ui(e,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var d=l.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,c=n;var S=a,N=_;try{N()}catch(I){Ae(c,S,I)}}}l=l.next}while(l!==f)}}catch(I){Ae(n,n.return,I)}}function cg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{$m(n,a)}catch(l){Ae(e,e.return,l)}}}function ug(e,n,a){a.props=$i(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ae(e,n,l)}}function nr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){Ae(e,n,c)}}function yn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ae(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ae(e,n,c)}else a.current=null}function fg(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ae(e,e.return,c)}}function Zu(e,n,a){try{var l=e.stateNode;PE(l,e.type,a,n),l[Tt]=n}catch(c){Ae(e,e.return,c)}}function hg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_i(e.type)||e.tag===4}function Wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ju(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=An));else if(l!==4&&(l===27&&_i(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Ju(e,n,a),e=e.sibling;e!==null;)Ju(e,n,a),e=e.sibling}function Gl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&_i(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gl(e,n,a),e=e.sibling;e!==null;)Gl(e,n,a),e=e.sibling}function dg(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ft(n,l,a),n[lt]=e,n[Tt]=a}catch(f){Ae(e,e.return,f)}}var Un=!1,Ze=!1,$u=!1,mg=typeof WeakSet=="function"?WeakSet:Set,it=null;function bE(e,n){if(e=e.containerInfo,Sf=uo,e=Am(e),Fc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var d=0,_=-1,S=-1,N=0,I=0,k=e,x=null;t:for(;;){for(var R;k!==a||c!==0&&k.nodeType!==3||(_=d+c),k!==f||l!==0&&k.nodeType!==3||(S=d+l),k.nodeType===3&&(d+=k.nodeValue.length),(R=k.firstChild)!==null;)x=k,k=R;for(;;){if(k===e)break t;if(x===a&&++N===c&&(_=d),x===f&&++I===l&&(S=d),(R=k.nextSibling)!==null)break;k=x,x=k.parentNode}k=R}a=_===-1||S===-1?null:{start:_,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ef={focusedElem:e,selectionRange:a},uo=!1,it=n;it!==null;)if(n=it,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,it=e;else for(;it!==null;){switch(n=it,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var G=$i(a.type,c);e=l.getSnapshotBeforeUpdate(G,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Q){Ae(a,a.return,Q)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Cf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,it=e;break}it=n.return}}function pg(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jn(e,a),l&4&&tr(5,a);break;case 1:if(jn(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(d){Ae(a,a.return,d)}else{var c=$i(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ae(a,a.return,d)}}l&64&&cg(a),l&512&&nr(a,a.return);break;case 3:if(jn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{$m(e,n)}catch(d){Ae(a,a.return,d)}}break;case 27:n===null&&l&4&&dg(a);case 26:case 5:jn(e,a),n===null&&l&4&&fg(a),l&512&&nr(a,a.return);break;case 12:jn(e,a);break;case 31:jn(e,a),l&4&&yg(e,a);break;case 13:jn(e,a),l&4&&vg(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=RE.bind(null,a),XE(e,a))));break;case 22:if(l=a.memoizedState!==null||Un,!l){n=n!==null&&n.memoizedState!==null||Ze,c=Un;var f=Ze;Un=l,(Ze=n)&&!f?Hn(e,a,(a.subtreeFlags&8772)!==0):jn(e,a),Un=c,Ze=f}break;case 30:break;default:jn(e,a)}}function gg(e){var n=e.alternate;n!==null&&(e.alternate=null,gg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Rc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,Ct=!1;function zn(e,n,a){for(a=a.child;a!==null;)_g(e,n,a),a=a.sibling}function _g(e,n,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Aa,a)}catch{}switch(a.tag){case 26:Ze||yn(a,n),zn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||yn(a,n);var l=je,c=Ct;_i(a.type)&&(je=a.stateNode,Ct=!1),zn(e,n,a),fr(a.stateNode),je=l,Ct=c;break;case 5:Ze||yn(a,n);case 6:if(l=je,c=Ct,je=null,zn(e,n,a),je=l,Ct=c,je!==null)if(Ct)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(a.stateNode)}catch(f){Ae(a,n,f)}else try{je.removeChild(a.stateNode)}catch(f){Ae(a,n,f)}break;case 18:je!==null&&(Ct?(e=je,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ta(e)):c_(je,a.stateNode));break;case 4:l=je,c=Ct,je=a.stateNode.containerInfo,Ct=!0,zn(e,n,a),je=l,Ct=c;break;case 0:case 11:case 14:case 15:ui(2,a,n),Ze||ui(4,a,n),zn(e,n,a);break;case 1:Ze||(yn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ug(a,n,l)),zn(e,n,a);break;case 21:zn(e,n,a);break;case 22:Ze=(l=Ze)||a.memoizedState!==null,zn(e,n,a),Ze=l;break;default:zn(e,n,a)}}function yg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ta(e)}catch(a){Ae(n,n.return,a)}}}function vg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ta(e)}catch(a){Ae(n,n.return,a)}}function SE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new mg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new mg),n;default:throw Error(r(435,e.tag))}}function Vl(e,n){var a=SE(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=IE.bind(null,e,l);l.then(c,c)}})}function At(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(_i(_.type)){je=_.stateNode,Ct=!1;break e}break;case 5:je=_.stateNode,Ct=!1;break e;case 3:case 4:je=_.stateNode.containerInfo,Ct=!0;break e}_=_.return}if(je===null)throw Error(r(160));_g(f,d,c),je=null,Ct=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)bg(n,e),n=n.sibling}var ln=null;function bg(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(n,e),Nt(e),l&4&&(ui(3,e,e.return),tr(3,e),ui(5,e,e.return));break;case 1:At(n,e),Nt(e),l&512&&(Ze||a===null||yn(a,a.return)),l&64&&Un&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=ln;if(At(n,e),Nt(e),l&512&&(Ze||a===null||yn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ra]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ft(f,l,a),f[lt]=e,nt(f),l=f;break e;case"link":var d=b_("link","href",c).get(l+(a.href||""));if(d){for(var _=0;_<d.length;_++)if(f=d[_],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(_,1);break t}}f=c.createElement(l),ft(f,l,a),c.head.appendChild(f);break;case"meta":if(d=b_("meta","content",c).get(l+(a.content||""))){for(_=0;_<d.length;_++)if(f=d[_],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(_,1);break t}}f=c.createElement(l),ft(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[lt]=e,nt(f),l=f}e.stateNode=l}else S_(c,e.type,e.stateNode);else e.stateNode=v_(c,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?S_(c,e.type,e.stateNode):v_(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Zu(e,e.memoizedProps,a.memoizedProps)}break;case 27:At(n,e),Nt(e),l&512&&(Ze||a===null||yn(a,a.return)),a!==null&&l&4&&Zu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(At(n,e),Nt(e),l&512&&(Ze||a===null||yn(a,a.return)),e.flags&32){c=e.stateNode;try{ws(c,"")}catch(G){Ae(e,e.return,G)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Zu(e,c,a!==null?a.memoizedProps:c)),l&1024&&($u=!0);break;case 6:if(At(n,e),Nt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(G){Ae(e,e.return,G)}}break;case 3:if(ro=null,c=ln,ln=so(n.containerInfo),At(n,e),ln=c,Nt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ta(n.containerInfo)}catch(G){Ae(e,e.return,G)}$u&&($u=!1,Sg(e));break;case 4:l=ln,ln=so(e.stateNode.containerInfo),At(n,e),Nt(e),ln=l;break;case 12:At(n,e),Nt(e);break;case 31:At(n,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vl(e,l)));break;case 13:At(n,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fl=Dt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vl(e,l)));break;case 22:c=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,N=Un,I=Ze;if(Un=N||c,Ze=I||S,At(n,e),Ze=I,Un=N,Nt(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||S||Un||Ze||es(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){S=a=n;try{if(f=S.stateNode,c)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=S.stateNode;var k=S.memoizedProps.style,x=k!=null&&k.hasOwnProperty("display")?k.display:null;_.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(G){Ae(S,S.return,G)}}}else if(n.tag===6){if(a===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(G){Ae(S,S.return,G)}}}else if(n.tag===18){if(a===null){S=n;try{var R=S.stateNode;c?u_(R,!0):u_(S.stateNode,!1)}catch(G){Ae(S,S.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vl(e,a))));break;case 19:At(n,e),Nt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vl(e,l)));break;case 30:break;case 21:break;default:At(n,e),Nt(e)}}function Nt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(hg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Wu(e);Gl(e,f,c);break;case 5:var d=a.stateNode;a.flags&32&&(ws(d,""),a.flags&=-33);var _=Wu(e);Gl(e,_,d);break;case 3:case 4:var S=a.stateNode.containerInfo,N=Wu(e);Ju(e,N,S);break;default:throw Error(r(161))}}catch(I){Ae(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function jn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pg(e,n.alternate,n),n=n.sibling}function es(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ui(4,n,n.return),es(n);break;case 1:yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ug(n,n.return,a),es(n);break;case 27:fr(n.stateNode);case 26:case 5:yn(n,n.return),es(n);break;case 22:n.memoizedState===null&&es(n);break;case 30:es(n);break;default:es(n)}e=e.sibling}}function Hn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,d=f.flags;switch(f.tag){case 0:case 11:case 15:Hn(c,f,a),tr(4,f);break;case 1:if(Hn(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Ae(l,l.return,N)}if(l=f,c=l.updateQueue,c!==null){var _=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Jm(S[c],_)}catch(N){Ae(l,l.return,N)}}a&&d&64&&cg(f),nr(f,f.return);break;case 27:dg(f);case 26:case 5:Hn(c,f,a),a&&l===null&&d&4&&fg(f),nr(f,f.return);break;case 12:Hn(c,f,a);break;case 31:Hn(c,f,a),a&&d&4&&yg(c,f);break;case 13:Hn(c,f,a),a&&d&4&&vg(c,f);break;case 22:f.memoizedState===null&&Hn(c,f,a),nr(f,f.return);break;case 30:break;default:Hn(c,f,a)}n=n.sibling}}function ef(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qa(a))}function tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qa(e))}function on(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Eg(e,n,a,l),n=n.sibling}function Eg(e,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:on(e,n,a,l),c&2048&&tr(9,n);break;case 1:on(e,n,a,l);break;case 3:on(e,n,a,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qa(e)));break;case 12:if(c&2048){on(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,d=f.id,_=f.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ae(n,n.return,S)}}else on(e,n,a,l);break;case 31:on(e,n,a,l);break;case 13:on(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,d=n.alternate,n.memoizedState!==null?f._visibility&2?on(e,n,a,l):ir(e,n):f._visibility&2?on(e,n,a,l):(f._visibility|=2,Vs(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&ef(d,n);break;case 24:on(e,n,a,l),c&2048&&tf(n.alternate,n);break;default:on(e,n,a,l)}}function Vs(e,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,d=n,_=a,S=l,N=d.flags;switch(d.tag){case 0:case 11:case 15:Vs(f,d,_,S,c),tr(8,d);break;case 23:break;case 22:var I=d.stateNode;d.memoizedState!==null?I._visibility&2?Vs(f,d,_,S,c):ir(f,d):(I._visibility|=2,Vs(f,d,_,S,c)),c&&N&2048&&ef(d.alternate,d);break;case 24:Vs(f,d,_,S,c),c&&N&2048&&tf(d.alternate,d);break;default:Vs(f,d,_,S,c)}n=n.sibling}}function ir(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,c=l.flags;switch(l.tag){case 22:ir(a,l),c&2048&&ef(l.alternate,l);break;case 24:ir(a,l),c&2048&&tf(l.alternate,l);break;default:ir(a,l)}n=n.sibling}}var sr=8192;function Ys(e,n,a){if(e.subtreeFlags&sr)for(e=e.child;e!==null;)Tg(e,n,a),e=e.sibling}function Tg(e,n,a){switch(e.tag){case 26:Ys(e,n,a),e.flags&sr&&e.memoizedState!==null&&lT(a,ln,e.memoizedState,e.memoizedProps);break;case 5:Ys(e,n,a);break;case 3:case 4:var l=ln;ln=so(e.stateNode.containerInfo),Ys(e,n,a),ln=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=sr,sr=16777216,Ys(e,n,a),sr=l):Ys(e,n,a));break;default:Ys(e,n,a)}}function wg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ar(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];it=l,Ag(l,e)}wg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cg(e),e=e.sibling}function Cg(e){switch(e.tag){case 0:case 11:case 15:ar(e),e.flags&2048&&ui(9,e,e.return);break;case 3:ar(e);break;case 12:ar(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yl(e)):ar(e);break;default:ar(e)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];it=l,Ag(l,e)}wg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ui(8,n,n.return),Yl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Yl(n));break;default:Yl(n)}e=e.sibling}}function Ag(e,n){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:ui(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qa(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,it=l;else e:for(a=e;it!==null;){l=it;var c=l.sibling,f=l.return;if(gg(l),l===a){it=null;break e}if(c!==null){c.return=f,it=c;break e}it=f}}}var EE={getCacheForType:function(e){var n=ct(Qe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return ct(Qe).controller.signal}},TE=typeof WeakMap=="function"?WeakMap:Map,Se=0,De=null,ce=null,de=0,Ce=0,Ht=null,fi=!1,Fs=!1,nf=!1,Bn=0,Pe=0,hi=0,ts=0,sf=0,Bt=0,Qs=0,rr=null,xt=null,af=!1,Fl=0,Ng=0,Ql=1/0,Kl=null,di=null,Je=0,mi=null,Ks=null,Pn=0,rf=0,lf=null,xg=null,lr=0,of=null;function Pt(){return(Se&2)!==0&&de!==0?de&-de:O.T!==null?mf():Vd()}function Rg(){if(Bt===0)if((de&536870912)===0||pe){var e=nl;nl<<=1,(nl&3932160)===0&&(nl=262144),Bt=e}else Bt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Bt}function Rt(e,n,a){(e===De&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Xs(e,0),pi(e,de,Bt,!1)),xa(e,a),((Se&2)===0||e!==De)&&(e===De&&((Se&2)===0&&(ts|=a),Pe===4&&pi(e,de,Bt,!1)),vn(e))}function Ig(e,n,a){if((Se&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Na(e,n),c=l?AE(e,n):uf(e,n,!0),f=l;do{if(c===0){Fs&&!l&&pi(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!wE(a)){c=uf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;c=rr;var S=_.current.memoizedState.isDehydrated;if(S&&(Xs(_,d).flags|=256),d=uf(_,d,!1),d!==2){if(nf&&!S){_.errorRecoveryDisabledLanes|=f,ts|=f,c=4;break e}f=xt,xt=c,f!==null&&(xt===null?xt=f:xt.push.apply(xt,f))}c=d}if(f=!1,c!==2)continue}}if(c===1){Xs(e,0),pi(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:pi(l,n,Bt,!fi);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Fl+300-Dt(),10<c)){if(pi(l,n,Bt,!fi),sl(l,0,!0)!==0)break e;Pn=n,l.timeoutHandle=l_(Og.bind(null,l,a,xt,Kl,af,n,Bt,ts,Qs,fi,f,"Throttled",-0,0),c);break e}Og(l,a,xt,Kl,af,n,Bt,ts,Qs,fi,f,null,-0,0)}}break}while(!0);vn(e)}function Og(e,n,a,l,c,f,d,_,S,N,I,k,x,R){if(e.timeoutHandle=-1,k=n.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},Tg(n,f,k);var G=(f&62914560)===f?Fl-Dt():(f&4194048)===f?Ng-Dt():0;if(G=oT(k,G),G!==null){Pn=f,e.cancelPendingCommit=G(Hg.bind(null,e,n,f,a,l,c,d,_,S,I,k,null,x,R)),pi(e,f,d,!N);return}}Hg(e,n,f,a,l,c,d,_,S)}function wE(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!Lt(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pi(e,n,a,l){n&=~sf,n&=~ts,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-kt(c),d=1<<f;l[f]=-1,c&=~d}a!==0&&Pd(e,a,n)}function Xl(){return(Se&6)===0?(or(0),!1):!0}function cf(){if(ce!==null){if(Ce===0)var e=ce.return;else e=ce,In=Fi=null,wu(e),Hs=null,Va=0,e=ce;for(;e!==null;)og(e.alternate,e),e=e.return;ce=null}}function Xs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,VE(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Pn=0,cf(),De=e,ce=a=xn(e.current,null),de=n,Ce=0,Ht=null,fi=!1,Fs=Na(e,n),nf=!1,Qs=Bt=sf=ts=hi=Pe=0,xt=rr=null,af=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-kt(l),f=1<<c;n|=e[c],l&=~f}return Bn=n,gl(),a}function Dg(e,n){ee=null,O.H=Ja,n===js||n===wl?(n=Km(),Ce=3):n===hu?(n=Km(),Ce=4):Ce=n===Bu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ht=n,ce===null&&(Pe=1,jl(e,Xt(n,e.current)))}function Mg(){var e=zt.current;return e===null?!0:(de&4194048)===de?$t===null:(de&62914560)===de||(de&536870912)!==0?e===$t:!1}function kg(){var e=O.H;return O.H=Ja,e===null?Ja:e}function Lg(){var e=O.A;return O.A=EE,e}function Zl(){Pe=4,fi||(de&4194048)!==de&&zt.current!==null||(Fs=!0),(hi&134217727)===0&&(ts&134217727)===0||De===null||pi(De,de,Bt,!1)}function uf(e,n,a){var l=Se;Se|=2;var c=kg(),f=Lg();(De!==e||de!==n)&&(Kl=null,Xs(e,n)),n=!1;var d=Pe;e:do try{if(Ce!==0&&ce!==null){var _=ce,S=Ht;switch(Ce){case 8:cf(),d=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(n=!0);var N=Ce;if(Ce=0,Ht=null,Zs(e,_,S,N),a&&Fs){d=0;break e}break;default:N=Ce,Ce=0,Ht=null,Zs(e,_,S,N)}}CE(),d=Pe;break}catch(I){Dg(e,I)}while(!0);return n&&e.shellSuspendCounter++,In=Fi=null,Se=l,O.H=c,O.A=f,ce===null&&(De=null,de=0,gl()),d}function CE(){for(;ce!==null;)Ug(ce)}function AE(e,n){var a=Se;Se|=2;var l=kg(),c=Lg();De!==e||de!==n?(Kl=null,Ql=Dt()+500,Xs(e,n)):Fs=Na(e,n);e:do try{if(Ce!==0&&ce!==null){n=ce;var f=Ht;t:switch(Ce){case 1:Ce=0,Ht=null,Zs(e,n,f,1);break;case 2:case 9:if(Fm(f)){Ce=0,Ht=null,zg(n);break}n=function(){Ce!==2&&Ce!==9||De!==e||(Ce=7),vn(e)},f.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Fm(f)?(Ce=0,Ht=null,zg(n)):(Ce=0,Ht=null,Zs(e,n,f,7));break;case 5:var d=null;switch(ce.tag){case 26:d=ce.memoizedState;case 5:case 27:var _=ce;if(d?E_(d):_.stateNode.complete){Ce=0,Ht=null;var S=_.sibling;if(S!==null)ce=S;else{var N=_.return;N!==null?(ce=N,Wl(N)):ce=null}break t}}Ce=0,Ht=null,Zs(e,n,f,5);break;case 6:Ce=0,Ht=null,Zs(e,n,f,6);break;case 8:cf(),Pe=6;break e;default:throw Error(r(462))}}NE();break}catch(I){Dg(e,I)}while(!0);return In=Fi=null,O.H=l,O.A=c,Se=a,ce!==null?0:(De=null,de=0,gl(),Pe)}function NE(){for(;ce!==null&&!Zb();)Ug(ce)}function Ug(e){var n=rg(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,n===null?Wl(e):ce=n}function zg(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=eg(a,n,n.pendingProps,n.type,void 0,de);break;case 11:n=eg(a,n,n.pendingProps,n.type.render,n.ref,de);break;case 5:wu(n);default:og(a,n),n=ce=Lm(n,Bn),n=rg(a,n,Bn)}e.memoizedProps=e.pendingProps,n===null?Wl(e):ce=n}function Zs(e,n,a,l){In=Fi=null,wu(n),Hs=null,Va=0;var c=n.return;try{if(pE(e,c,n,a,de)){Pe=1,jl(e,Xt(a,e.current)),ce=null;return}}catch(f){if(c!==null)throw ce=c,f;Pe=1,jl(e,Xt(a,e.current)),ce=null;return}n.flags&32768?(pe||l===1?e=!0:Fs||(de&536870912)!==0?e=!1:(fi=e=!0,(l===2||l===9||l===3||l===6)&&(l=zt.current,l!==null&&l.tag===13&&(l.flags|=16384))),jg(n,e)):Wl(n)}function Wl(e){var n=e;do{if((n.flags&32768)!==0){jg(n,fi);return}e=n.return;var a=yE(n.alternate,n,Bn);if(a!==null){ce=a;return}if(n=n.sibling,n!==null){ce=n;return}ce=n=e}while(n!==null);Pe===0&&(Pe=5)}function jg(e,n){do{var a=vE(e.alternate,e);if(a!==null){a.flags&=32767,ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ce=e;return}ce=e=a}while(e!==null);Pe=6,ce=null}function Hg(e,n,a,l,c,f,d,_,S){e.cancelPendingCommit=null;do Jl();while(Je!==0);if((Se&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Wc,rS(e,a,f,d,_,S),e===De&&(ce=De=null,de=0),Ks=n,mi=e,Pn=a,rf=f,lf=c,xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,OE(el,function(){return Vg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=H.p,H.p=2,d=Se,Se|=4;try{bE(e,n,a)}finally{Se=d,H.p=c,O.T=l}}Je=1,Bg(),Pg(),qg()}}function Bg(){if(Je===1){Je=0;var e=mi,n=Ks,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=H.p;H.p=2;var c=Se;Se|=4;try{bg(n,e);var f=Ef,d=Am(e.containerInfo),_=f.focusedElem,S=f.selectionRange;if(d!==_&&_&&_.ownerDocument&&Cm(_.ownerDocument.documentElement,_)){if(S!==null&&Fc(_)){var N=S.start,I=S.end;if(I===void 0&&(I=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(I,_.value.length);else{var k=_.ownerDocument||document,x=k&&k.defaultView||window;if(x.getSelection){var R=x.getSelection(),G=_.textContent.length,Q=Math.min(S.start,G),Re=S.end===void 0?Q:Math.min(S.end,G);!R.extend&&Q>Re&&(d=Re,Re=Q,Q=d);var w=wm(_,Q),T=wm(_,Re);if(w&&T&&(R.rangeCount!==1||R.anchorNode!==w.node||R.anchorOffset!==w.offset||R.focusNode!==T.node||R.focusOffset!==T.offset)){var A=k.createRange();A.setStart(w.node,w.offset),R.removeAllRanges(),Q>Re?(R.addRange(A),R.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),R.addRange(A))}}}}for(k=[],R=_;R=R.parentNode;)R.nodeType===1&&k.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++){var M=k[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}uo=!!Sf,Ef=Sf=null}finally{Se=c,H.p=l,O.T=a}}e.current=n,Je=2}}function Pg(){if(Je===2){Je=0;var e=mi,n=Ks,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=H.p;H.p=2;var c=Se;Se|=4;try{pg(e,n.alternate,n)}finally{Se=c,H.p=l,O.T=a}}Je=3}}function qg(){if(Je===4||Je===3){Je=0,Wb();var e=mi,n=Ks,a=Pn,l=xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Je=5:(Je=0,Ks=mi=null,Gg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(di=null),Nc(a),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Aa,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=O.T,c=H.p,H.p=2,O.T=null;try{for(var f=e.onRecoverableError,d=0;d<l.length;d++){var _=l[d];f(_.value,{componentStack:_.stack})}}finally{O.T=n,H.p=c}}(Pn&3)!==0&&Jl(),vn(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===of?lr++:(lr=0,of=e):lr=0,or(0)}}function Gg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qa(n)))}function Jl(){return Bg(),Pg(),qg(),Vg()}function Vg(){if(Je!==5)return!1;var e=mi,n=rf;rf=0;var a=Nc(Pn),l=O.T,c=H.p;try{H.p=32>a?32:a,O.T=null,a=lf,lf=null;var f=mi,d=Pn;if(Je=0,Ks=mi=null,Pn=0,(Se&6)!==0)throw Error(r(331));var _=Se;if(Se|=4,Cg(f.current),Eg(f,f.current,d,a),Se=_,or(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Aa,f)}catch{}return!0}finally{H.p=c,O.T=l,Gg(e,n)}}function Yg(e,n,a){n=Xt(a,n),n=Hu(e.stateNode,n,2),e=li(e,n,2),e!==null&&(xa(e,2),vn(e))}function Ae(e,n,a){if(e.tag===3)Yg(e,e,a);else for(;n!==null;){if(n.tag===3){Yg(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(di===null||!di.has(l))){e=Xt(a,e),a=Fp(2),l=li(n,a,2),l!==null&&(Qp(a,l,n,e),xa(l,2),vn(l));break}}n=n.return}}function ff(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new TE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(nf=!0,c.add(a),e=xE.bind(null,e,n,a),n.then(e,e))}function xE(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(de&a)===a&&(Pe===4||Pe===3&&(de&62914560)===de&&300>Dt()-Fl?(Se&2)===0&&Xs(e,0):sf|=a,Qs===de&&(Qs=0)),vn(e)}function Fg(e,n){n===0&&(n=Bd()),e=Gi(e,n),e!==null&&(xa(e,n),vn(e))}function RE(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Fg(e,a)}function IE(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Fg(e,a)}function OE(e,n){return Tc(e,n)}var $l=null,Ws=null,hf=!1,eo=!1,df=!1,gi=0;function vn(e){e!==Ws&&e.next===null&&(Ws===null?$l=Ws=e:Ws=Ws.next=e),eo=!0,hf||(hf=!0,ME())}function or(e,n){if(!df&&eo){df=!0;do for(var a=!1,l=$l;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var d=l.suspendedLanes,_=l.pingedLanes;f=(1<<31-kt(42|e)+1)-1,f&=c&~(d&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zg(l,f))}else f=de,f=sl(l,l===De?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Na(l,f)||(a=!0,Zg(l,f));l=l.next}while(a);df=!1}}function DE(){Qg()}function Qg(){eo=hf=!1;var e=0;gi!==0&&GE()&&(e=gi);for(var n=Dt(),a=null,l=$l;l!==null;){var c=l.next,f=Kg(l,n);f===0?(l.next=null,a===null?$l=c:a.next=c,c===null&&(Ws=a)):(a=l,(e!==0||(f&3)!==0)&&(eo=!0)),l=c}Je!==0&&Je!==5||or(e),gi!==0&&(gi=0)}function Kg(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var d=31-kt(f),_=1<<d,S=c[d];S===-1?((_&a)===0||(_&l)!==0)&&(c[d]=aS(_,n)):S<=n&&(e.expiredLanes|=_),f&=~_}if(n=De,a=de,a=sl(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&wc(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Na(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&wc(l),Nc(a)){case 2:case 8:a=jd;break;case 32:a=el;break;case 268435456:a=Hd;break;default:a=el}return l=Xg.bind(null,e),a=Tc(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&wc(l),e.callbackPriority=2,e.callbackNode=null,2}function Xg(e,n){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Jl()&&e.callbackNode!==a)return null;var l=de;return l=sl(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ig(e,l,n),Kg(e,Dt()),e.callbackNode!=null&&e.callbackNode===a?Xg.bind(null,e):null)}function Zg(e,n){if(Jl())return null;Ig(e,n,!0)}function ME(){YE(function(){(Se&6)!==0?Tc(zd,DE):Qg()})}function mf(){if(gi===0){var e=Us;e===0&&(e=tl,tl<<=1,(tl&261888)===0&&(tl=256)),gi=e}return gi}function Wg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ol(""+e)}function Jg(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function kE(e,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Wg((c[Tt]||null).action),d=l.submitter;d&&(n=(n=d[Tt]||null)?Wg(n.formAction):d.getAttribute("formAction"),n!==null&&(f=n,d=null));var _=new hl("action","action",null,l,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gi!==0){var S=d?Jg(c,d):new FormData(c);Mu(a,{pending:!0,data:S,method:c.method,action:f},null,S)}}else typeof f=="function"&&(_.preventDefault(),S=d?Jg(c,d):new FormData(c),Mu(a,{pending:!0,data:S,method:c.method,action:f},f,S))},currentTarget:c}]})}}for(var pf=0;pf<Zc.length;pf++){var gf=Zc[pf],LE=gf.toLowerCase(),UE=gf[0].toUpperCase()+gf.slice(1);rn(LE,"on"+UE)}rn(Rm,"onAnimationEnd"),rn(Im,"onAnimationIteration"),rn(Om,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(JS,"onTransitionRun"),rn($S,"onTransitionStart"),rn(eE,"onTransitionCancel"),rn(Dm,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cr));function $g(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var d=l.length-1;0<=d;d--){var _=l[d],S=_.instance,N=_.currentTarget;if(_=_.listener,S!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=N;try{f(c)}catch(I){pl(I)}c.currentTarget=null,f=S}else for(d=0;d<l.length;d++){if(_=l[d],S=_.instance,N=_.currentTarget,_=_.listener,S!==f&&c.isPropagationStopped())break e;f=_,c.currentTarget=N;try{f(c)}catch(I){pl(I)}c.currentTarget=null,f=S}}}}function ue(e,n){var a=n[xc];a===void 0&&(a=n[xc]=new Set);var l=e+"__bubble";a.has(l)||(e_(n,e,2,!1),a.add(l))}function _f(e,n,a){var l=0;n&&(l|=4),e_(a,e,l,n)}var to="_reactListening"+Math.random().toString(36).slice(2);function yf(e){if(!e[to]){e[to]=!0,Qd.forEach(function(a){a!=="selectionchange"&&(zE.has(a)||_f(a,!1,e),_f(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[to]||(n[to]=!0,_f("selectionchange",!1,n))}}function e_(e,n,a,l){switch(R_(n)){case 2:var c=fT;break;case 8:c=hT;break;default:c=Mf}a=c.bind(null,n,a,e),c=void 0,!zc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function vf(e,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var d=l.tag;if(d===3||d===4){var _=l.stateNode.containerInfo;if(_===c)break;if(d===4)for(d=l.return;d!==null;){var S=d.tag;if((S===3||S===4)&&d.stateNode.containerInfo===c)return;d=d.return}for(;_!==null;){if(d=vs(_),d===null)return;if(S=d.tag,S===5||S===6||S===26||S===27){l=f=d;continue e}_=_.parentNode}}l=l.return}am(function(){var N=f,I=Lc(a),k=[];e:{var x=Mm.get(e);if(x!==void 0){var R=hl,G=e;switch(e){case"keypress":if(ul(a)===0)break e;case"keydown":case"keyup":R=IS;break;case"focusin":G="focus",R=Pc;break;case"focusout":G="blur",R=Pc;break;case"beforeblur":case"afterblur":R=Pc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=yS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=MS;break;case Rm:case Im:case Om:R=SS;break;case Dm:R=LS;break;case"scroll":case"scrollend":R=gS;break;case"wheel":R=zS;break;case"copy":case"cut":case"paste":R=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=um;break;case"toggle":case"beforetoggle":R=HS}var Q=(n&4)!==0,Re=!Q&&(e==="scroll"||e==="scrollend"),w=Q?x!==null?x+"Capture":null:x;Q=[];for(var T=N,A;T!==null;){var M=T;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||w===null||(M=Oa(T,w),M!=null&&Q.push(ur(T,M,A))),Re)break;T=T.return}0<Q.length&&(x=new R(x,G,null,a,I),k.push({event:x,listeners:Q}))}}if((n&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",x&&a!==kc&&(G=a.relatedTarget||a.fromElement)&&(vs(G)||G[ys]))break e;if((R||x)&&(x=I.window===I?I:(x=I.ownerDocument)?x.defaultView||x.parentWindow:window,R?(G=a.relatedTarget||a.toElement,R=N,G=G?vs(G):null,G!==null&&(Re=u(G),Q=G.tag,G!==Re||Q!==5&&Q!==27&&Q!==6)&&(G=null)):(R=null,G=N),R!==G)){if(Q=om,M="onMouseLeave",w="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(Q=um,M="onPointerLeave",w="onPointerEnter",T="pointer"),Re=R==null?x:Ia(R),A=G==null?x:Ia(G),x=new Q(M,T+"leave",R,a,I),x.target=Re,x.relatedTarget=A,M=null,vs(I)===N&&(Q=new Q(w,T+"enter",G,a,I),Q.target=A,Q.relatedTarget=Re,M=Q),Re=M,R&&G)t:{for(Q=jE,w=R,T=G,A=0,M=w;M;M=Q(M))A++;M=0;for(var F=T;F;F=Q(F))M++;for(;0<A-M;)w=Q(w),A--;for(;0<M-A;)T=Q(T),M--;for(;A--;){if(w===T||T!==null&&w===T.alternate){Q=w;break t}w=Q(w),T=Q(T)}Q=null}else Q=null;R!==null&&t_(k,x,R,Q,!1),G!==null&&Re!==null&&t_(k,Re,G,Q,!0)}}e:{if(x=N?Ia(N):window,R=x.nodeName&&x.nodeName.toLowerCase(),R==="select"||R==="input"&&x.type==="file")var _e=ym;else if(gm(x))if(vm)_e=XS;else{_e=QS;var Y=FS}else R=x.nodeName,!R||R.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?N&&Mc(N.elementType)&&(_e=ym):_e=KS;if(_e&&(_e=_e(e,N))){_m(k,_e,a,I);break e}Y&&Y(e,x,N),e==="focusout"&&N&&x.type==="number"&&N.memoizedProps.value!=null&&Dc(x,"number",x.value)}switch(Y=N?Ia(N):window,e){case"focusin":(gm(Y)||Y.contentEditable==="true")&&(xs=Y,Qc=N,Ha=null);break;case"focusout":Ha=Qc=xs=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Nm(k,a,I);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":Nm(k,a,I)}var ne;if(Gc)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Ns?mm(e,a)&&(me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(fm&&a.locale!=="ko"&&(Ns||me!=="onCompositionStart"?me==="onCompositionEnd"&&Ns&&(ne=rm()):(ei=I,jc="value"in ei?ei.value:ei.textContent,Ns=!0)),Y=no(N,me),0<Y.length&&(me=new cm(me,e,null,a,I),k.push({event:me,listeners:Y}),ne?me.data=ne:(ne=pm(a),ne!==null&&(me.data=ne)))),(ne=PS?qS(e,a):GS(e,a))&&(me=no(N,"onBeforeInput"),0<me.length&&(Y=new cm("onBeforeInput","beforeinput",null,a,I),k.push({event:Y,listeners:me}),Y.data=ne)),kE(k,e,N,a,I)}$g(k,n)})}function ur(e,n,a){return{instance:e,listener:n,currentTarget:a}}function no(e,n){for(var a=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Oa(e,a),c!=null&&l.unshift(ur(e,c,f)),c=Oa(e,n),c!=null&&l.push(ur(e,c,f))),e.tag===3)return l;e=e.return}return[]}function jE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,a,l,c){for(var f=n._reactName,d=[];a!==null&&a!==l;){var _=a,S=_.alternate,N=_.stateNode;if(_=_.tag,S!==null&&S===l)break;_!==5&&_!==26&&_!==27||N===null||(S=N,c?(N=Oa(a,f),N!=null&&d.unshift(ur(a,N,S))):c||(N=Oa(a,f),N!=null&&d.push(ur(a,N,S)))),a=a.return}d.length!==0&&e.push({event:n,listeners:d})}var HE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function n_(e){return(typeof e=="string"?e:""+e).replace(HE,`
`).replace(BE,"")}function i_(e,n){return n=n_(n),n_(e)===n}function xe(e,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ws(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ws(e,""+l);break;case"className":rl(e,"class",l);break;case"tabIndex":rl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rl(e,a,l);break;case"style":im(e,l,f);break;case"data":if(n!=="object"){rl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ol(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&xe(e,n,"name",c.name,c,null),xe(e,n,"formEncType",c.formEncType,c,null),xe(e,n,"formMethod",c.formMethod,c,null),xe(e,n,"formTarget",c.formTarget,c,null)):(xe(e,n,"encType",c.encType,c,null),xe(e,n,"method",c.method,c,null),xe(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ol(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=An);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ol(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ue("beforetoggle",e),ue("toggle",e),al(e,"popover",l);break;case"xlinkActuate":Cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":al(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mS.get(a)||a,al(e,a,l))}}function bf(e,n,a,l,c,f){switch(a){case"style":im(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ws(e,l):(typeof l=="number"||typeof l=="bigint")&&ws(e,""+l);break;case"onScroll":l!=null&&ue("scroll",e);break;case"onScrollEnd":l!=null&&ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[Tt]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):al(e,a,l)}}}function ft(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var d=a[f];if(d!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:xe(e,n,f,d,a,null)}}c&&xe(e,n,"srcSet",a.srcSet,a,null),l&&xe(e,n,"src",a.src,a,null);return;case"input":ue("invalid",e);var _=f=d=c=null,S=null,N=null;for(l in a)if(a.hasOwnProperty(l)){var I=a[l];if(I!=null)switch(l){case"name":c=I;break;case"type":d=I;break;case"checked":S=I;break;case"defaultChecked":N=I;break;case"value":f=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:xe(e,n,l,I,a,null)}}$d(e,f,_,S,N,d,c,!1);return;case"select":ue("invalid",e),l=d=f=null;for(c in a)if(a.hasOwnProperty(c)&&(_=a[c],_!=null))switch(c){case"value":f=_;break;case"defaultValue":d=_;break;case"multiple":l=_;default:xe(e,n,c,_,a,null)}n=f,a=d,e.multiple=!!l,n!=null?Ts(e,!!l,n,!1):a!=null&&Ts(e,!!l,a,!0);return;case"textarea":ue("invalid",e),f=c=l=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":l=_;break;case"defaultValue":c=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:xe(e,n,d,_,a,null)}tm(e,l,c,f);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:xe(e,n,S,l,a,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(l=0;l<cr.length;l++)ue(cr[l],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:xe(e,n,N,l,a,null)}return;default:if(Mc(n)){for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!==void 0&&bf(e,n,I,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&xe(e,n,_,l,a,null))}function PE(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,d=null,_=null,S=null,N=null,I=null;for(R in a){var k=a[R];if(a.hasOwnProperty(R)&&k!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":S=k;default:l.hasOwnProperty(R)||xe(e,n,R,null,l,k)}}for(var x in l){var R=l[x];if(k=a[x],l.hasOwnProperty(x)&&(R!=null||k!=null))switch(x){case"type":f=R;break;case"name":c=R;break;case"checked":N=R;break;case"defaultChecked":I=R;break;case"value":d=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,n));break;default:R!==k&&xe(e,n,x,R,l,k)}}Oc(e,d,_,S,N,I,f,c);return;case"select":R=d=_=x=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":R=S;default:l.hasOwnProperty(f)||xe(e,n,f,null,l,S)}for(c in l)if(f=l[c],S=a[c],l.hasOwnProperty(c)&&(f!=null||S!=null))switch(c){case"value":x=f;break;case"defaultValue":_=f;break;case"multiple":d=f;default:f!==S&&xe(e,n,c,f,l,S)}n=_,a=d,l=R,x!=null?Ts(e,!!a,x,!1):!!l!=!!a&&(n!=null?Ts(e,!!a,n,!0):Ts(e,!!a,a?[]:"",!1));return;case"textarea":R=x=null;for(_ in a)if(c=a[_],a.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:xe(e,n,_,null,l,c)}for(d in l)if(c=l[d],f=a[d],l.hasOwnProperty(d)&&(c!=null||f!=null))switch(d){case"value":x=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&xe(e,n,d,c,l,f)}em(e,x,R);return;case"option":for(var G in a)if(x=a[G],a.hasOwnProperty(G)&&x!=null&&!l.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:xe(e,n,G,null,l,x)}for(S in l)if(x=l[S],R=a[S],l.hasOwnProperty(S)&&x!==R&&(x!=null||R!=null))switch(S){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:xe(e,n,S,x,l,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Q in a)x=a[Q],a.hasOwnProperty(Q)&&x!=null&&!l.hasOwnProperty(Q)&&xe(e,n,Q,null,l,x);for(N in l)if(x=l[N],R=a[N],l.hasOwnProperty(N)&&x!==R&&(x!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,n));break;default:xe(e,n,N,x,l,R)}return;default:if(Mc(n)){for(var Re in a)x=a[Re],a.hasOwnProperty(Re)&&x!==void 0&&!l.hasOwnProperty(Re)&&bf(e,n,Re,void 0,l,x);for(I in l)x=l[I],R=a[I],!l.hasOwnProperty(I)||x===R||x===void 0&&R===void 0||bf(e,n,I,x,l,R);return}}for(var w in a)x=a[w],a.hasOwnProperty(w)&&x!=null&&!l.hasOwnProperty(w)&&xe(e,n,w,null,l,x);for(k in l)x=l[k],R=a[k],!l.hasOwnProperty(k)||x===R||x==null&&R==null||xe(e,n,k,x,l,R)}function s_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,d=c.initiatorType,_=c.duration;if(f&&_&&s_(d)){for(d=0,_=c.responseEnd,l+=1;l<a.length;l++){var S=a[l],N=S.startTime;if(N>_)break;var I=S.transferSize,k=S.initiatorType;I&&s_(k)&&(S=S.responseEnd,d+=I*(S<_?1:(_-N)/(S-N)))}if(--l,n+=8*(f+d)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sf=null,Ef=null;function io(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Tf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function GE(){var e=window.event;return e&&e.type==="popstate"?e===wf?!1:(wf=e,!0):(wf=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,YE=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(FE)}:l_;function FE(e){setTimeout(function(){throw e})}function _i(e){return e==="head"}function c_(e,n){var a=n,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),ta(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")fr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fr(a);for(var f=a.firstChild;f;){var d=f.nextSibling,_=f.nodeName;f[Ra]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=d}}else a==="body"&&fr(e.ownerDocument.body);a=c}while(a);ta(n)}function u_(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Cf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cf(a),Rc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function QE(e,n,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ra])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function KE(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=en(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=en(e.nextSibling),e===null))return null;return e}function Af(e){return e.data==="$?"||e.data==="$~"}function Nf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function XE(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var xf=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return en(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function d_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function m_(e,n,a){switch(n=io(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function fr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Rc(e)}var tn=new Map,p_=new Set;function so(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=H.d;H.d={f:ZE,r:WE,D:JE,C:$E,L:eT,m:tT,X:iT,S:nT,M:sT};function ZE(){var e=qn.f(),n=Xl();return e||n}function WE(e){var n=bs(e);n!==null&&n.tag===5&&n.type==="form"?Dp(n):qn.r(e)}var Js=typeof document>"u"?null:document;function g_(e,n,a){var l=Js;if(l&&typeof n=="string"&&n){var c=Qt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),p_.has(c)||(p_.add(c),e={rel:e,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ft(n,"link",e),nt(n),l.head.appendChild(n)))}}function JE(e){qn.D(e),g_("dns-prefetch",e,null)}function $E(e,n){qn.C(e,n),g_("preconnect",e,n)}function eT(e,n,a){qn.L(e,n,a);var l=Js;if(l&&e&&n){var c='link[rel="preload"][as="'+Qt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Qt(a.imageSizes)+'"]')):c+='[href="'+Qt(e)+'"]';var f=c;switch(n){case"style":f=$s(e);break;case"script":f=ea(e)}tn.has(f)||(e=y({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),tn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(hr(f))||n==="script"&&l.querySelector(dr(f))||(n=l.createElement("link"),ft(n,"link",e),nt(n),l.head.appendChild(n)))}}function tT(e,n){qn.m(e,n);var a=Js;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Qt(l)+'"][href="'+Qt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ea(e)}if(!tn.has(f)&&(e=y({rel:"modulepreload",href:e},n),tn.set(f,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dr(f)))return}l=a.createElement("link"),ft(l,"link",e),nt(l),a.head.appendChild(l)}}}function nT(e,n,a){qn.S(e,n,a);var l=Js;if(l&&e){var c=Ss(l).hoistableStyles,f=$s(e);n=n||"default";var d=c.get(f);if(!d){var _={loading:0,preload:null};if(d=l.querySelector(hr(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},a),(a=tn.get(f))&&Rf(e,a);var S=d=l.createElement("link");nt(S),ft(S,"link",e),S._p=new Promise(function(N,I){S.onload=N,S.onerror=I}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ao(d,n,l)}d={type:"stylesheet",instance:d,count:1,state:_},c.set(f,d)}}}function iT(e,n){qn.X(e,n);var a=Js;if(a&&e){var l=Ss(a).hoistableScripts,c=ea(e),f=l.get(c);f||(f=a.querySelector(dr(c)),f||(e=y({src:e,async:!0},n),(n=tn.get(c))&&If(e,n),f=a.createElement("script"),nt(f),ft(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sT(e,n){qn.M(e,n);var a=Js;if(a&&e){var l=Ss(a).hoistableScripts,c=ea(e),f=l.get(c);f||(f=a.querySelector(dr(c)),f||(e=y({src:e,async:!0,type:"module"},n),(n=tn.get(c))&&If(e,n),f=a.createElement("script"),nt(f),ft(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function __(e,n,a,l){var c=(c=oe.current)?so(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$s(a.href),a=Ss(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$s(a.href);var f=Ss(c).hoistableStyles,d=f.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,d),(f=c.querySelector(hr(e)))&&!f._p&&(d.instance=f,d.state.loading=5),tn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tn.set(e,a),f||aT(c,e,a,d.state))),n&&l===null)throw Error(r(528,""));return d}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ea(a),a=Ss(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function $s(e){return'href="'+Qt(e)+'"'}function hr(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function aT(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ft(n,"link",a),nt(n),e.head.appendChild(n))}function ea(e){return'[src="'+Qt(e)+'"]'}function dr(e){return"script[async]"+e}function v_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Qt(a.href)+'"]');if(l)return n.instance=l,nt(l),l;var c=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),nt(l),ft(l,"style",c),ao(l,a.precedence,e),n.instance=l;case"stylesheet":c=$s(a.href);var f=e.querySelector(hr(c));if(f)return n.state.loading|=4,n.instance=f,nt(f),f;l=y_(a),(c=tn.get(c))&&Rf(l,c),f=(e.ownerDocument||e).createElement("link"),nt(f);var d=f;return d._p=new Promise(function(_,S){d.onload=_,d.onerror=S}),ft(f,"link",l),n.state.loading|=4,ao(f,a.precedence,e),n.instance=f;case"script":return f=ea(a.src),(c=e.querySelector(dr(f)))?(n.instance=c,nt(c),c):(l=a,(c=tn.get(f))&&(l=y({},a),If(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),nt(c),ft(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ao(l,a.precedence,e));return n.instance}function ao(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,d=0;d<l.length;d++){var _=l[d];if(_.dataset.precedence===n)f=_;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function If(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ro=null;function b_(e,n,a){if(ro===null){var l=new Map,c=ro=new Map;c.set(a,l)}else c=ro,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Ra]||f[lt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var d=f.getAttribute(n)||"";d=e+d;var _=l.get(d);_?_.push(f):l.set(d,[f])}}return l}function S_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function rT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lT(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=$s(l.href),f=n.querySelector(hr(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lo.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,nt(f);return}f=n.ownerDocument||n,l=y_(l),(c=tn.get(c))&&Rf(l,c),f=f.createElement("link"),nt(f);var d=f;d._p=new Promise(function(_,S){d.onload=_,d.onerror=S}),ft(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=lo.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Of=0;function oT(e,n){return e.stylesheets&&e.count===0&&co(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&co(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Of===0&&(Of=62500*qE());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&co(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Of?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function lo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)co(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oo=null;function co(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oo=new Map,n.forEach(cT,e),oo=null,lo.call(e))}function cT(e,n){if(!(n.state.loading&4)){var a=oo.get(e);if(a)var l=a.get(null);else{a=new Map,oo.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var d=c[f];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),l=d)}l&&a.set(null,l)}c=n.instance,d=c.getAttribute("data-precedence"),f=a.get(d)||l,f===l&&a.set(null,c),a.set(d,c),this.count++,l=lo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var mr={$$typeof:ie,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function uT(e,n,a,l,c,f,d,_,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.hiddenUpdates=Cc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function T_(e,n,a,l,c,f,d,_,S,N,I,k){return e=new uT(e,n,a,d,S,N,I,k,_),n=1,f===!0&&(n|=24),f=Ut(3,null,null,n),e.current=f,f.stateNode=e,n=cu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},du(f),e}function w_(e){return e?(e=Os,e):Os}function C_(e,n,a,l,c,f){c=w_(c),l.context===null?l.context=c:l.pendingContext=c,l=ri(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=li(e,l,n),a!==null&&(Rt(a,e,n),Fa(a,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Df(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function N_(e){if(e.tag===13||e.tag===31){var n=Gi(e,67108864);n!==null&&Rt(n,e,67108864),Df(e,67108864)}}function x_(e){if(e.tag===13||e.tag===31){var n=Pt();n=Ac(n);var a=Gi(e,n);a!==null&&Rt(a,e,n),Df(e,n)}}var uo=!0;function fT(e,n,a,l){var c=O.T;O.T=null;var f=H.p;try{H.p=2,Mf(e,n,a,l)}finally{H.p=f,O.T=c}}function hT(e,n,a,l){var c=O.T;O.T=null;var f=H.p;try{H.p=8,Mf(e,n,a,l)}finally{H.p=f,O.T=c}}function Mf(e,n,a,l){if(uo){var c=kf(l);if(c===null)vf(e,n,l,fo,a),I_(e,l);else if(mT(c,e,n,a,l))l.stopPropagation();else if(I_(e,l),n&4&&-1<dT.indexOf(e)){for(;c!==null;){var f=bs(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var d=ji(f.pendingLanes);if(d!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var S=1<<31-kt(d);_.entanglements[1]|=S,d&=~S}vn(f),(Se&6)===0&&(Ql=Dt()+500,or(0))}}break;case 31:case 13:_=Gi(f,2),_!==null&&Rt(_,f,2),Xl(),Df(f,2)}if(f=kf(l),f===null&&vf(e,n,l,fo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else vf(e,n,l,null,a)}}function kf(e){return e=Lc(e),Lf(e)}var fo=null;function Lf(e){if(fo=null,e=vs(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fo=e,null}function R_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jb()){case zd:return 2;case jd:return 8;case el:case $b:return 32;case Hd:return 268435456;default:return 32}default:return 32}}var Uf=!1,yi=null,vi=null,bi=null,pr=new Map,gr=new Map,Si=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":pr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(n.pointerId)}}function _r(e,n,a,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=bs(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function mT(e,n,a,l,c){switch(n){case"focusin":return yi=_r(yi,e,n,a,l,c),!0;case"dragenter":return vi=_r(vi,e,n,a,l,c),!0;case"mouseover":return bi=_r(bi,e,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return pr.set(f,_r(pr.get(f)||null,e,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,gr.set(f,_r(gr.get(f)||null,e,n,a,l,c)),!0}return!1}function O_(e){var n=vs(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Yd(e.priority,function(){x_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Yd(e.priority,function(){x_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ho(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=kf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);kc=l,a.target.dispatchEvent(l),kc=null}else return n=bs(a),n!==null&&N_(n),e.blockedOn=a,!1;n.shift()}return!0}function D_(e,n,a){ho(e)&&a.delete(n)}function pT(){Uf=!1,yi!==null&&ho(yi)&&(yi=null),vi!==null&&ho(vi)&&(vi=null),bi!==null&&ho(bi)&&(bi=null),pr.forEach(D_),gr.forEach(D_)}function mo(e,n){e.blockedOn===n&&(e.blockedOn=null,Uf||(Uf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,pT)))}var po=null;function M_(e){po!==e&&(po=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){po===e&&(po=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Lf(l||a)===null)continue;break}var f=bs(a);f!==null&&(e.splice(n,3),n-=3,Mu(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ta(e){function n(S){return mo(S,e)}yi!==null&&mo(yi,e),vi!==null&&mo(vi,e),bi!==null&&mo(bi,e),pr.forEach(n),gr.forEach(n);for(var a=0;a<Si.length;a++){var l=Si[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Si.length&&(a=Si[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Si.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],d=c[Tt]||null;if(typeof f=="function")d||M_(a);else if(d){var _=null;if(f&&f.hasAttribute("formAction")){if(c=f,d=f[Tt]||null)_=d.formAction;else if(Lf(c)!==null)continue}else _=d.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),M_(a)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(d){return c=d})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function zf(e){this._internalRoot=e}go.prototype.render=zf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Pt();C_(a,l,e,n,null,null)},go.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;C_(e.current,2,null,e,null,null),Xl(),n[ys]=null}};function go(e){this._internalRoot=e}go.prototype.unstable_scheduleHydration=function(e){if(e){var n=Vd();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Si.length&&n!==0&&n<Si[a].priority;a++);Si.splice(a,0,e),a===0&&O_(e)}};var L_=t.version;if(L_!=="19.2.3")throw Error(r(527,L_,"19.2.3"));H.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var gT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{Aa=_o.inject(gT),Mt=_o}catch{}}return vr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",c=qp,f=Gp,d=Vp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=T_(e,1,!1,null,null,a,l,null,c,f,d,k_),e[ys]=n.current,yf(e),new zf(n)},vr.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,c="",f=qp,d=Gp,_=Vp,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),n=T_(e,1,!0,n,a??null,l,c,S,f,d,_,k_),n.context=w_(null),a=n.current,l=Pt(),l=Ac(l),c=ri(l),c.callback=null,li(a,c,l),a=l,n.current.lanes=a,xa(n,a),vn(n),e[ys]=n.current,yf(e),new go(n)},vr.version="19.2.3",vr}var Y_;function NT(){if(Y_)return Bf.exports;Y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bf.exports=AT(),Bf.exports}var xT=NT();const RT=dv(xT);var pt=(s=>(s.JAPANESE="Japanese",s.DZONGKHA="Dzongkha",s))(pt||{});const IT=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(s,t){if(!s)throw _a(t)},_a=function(s){return new Error("Firebase Database ("+mv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},OT=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],h=s[i++],p=s[i++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const u=s[i++],h=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},Mh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],h=o+1<s.length,p=h?s[o+1]:0,m=o+2<s.length,g=m?s[o+2]:0,v=u>>2,y=(u&3)<<4|p>>4;let b=(p&15)<<2|g>>6,U=g&63;m||(U=64,h||(b=64)),r.push(i[v],i[y],i[b],i[U])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(pv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):OT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const g=o<s.length?i[s.charAt(o)]:64;++o;const y=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||p==null||g==null||y==null)throw new DT;const b=u<<2|p>>4;if(r.push(b),g!==64){const U=p<<4&240|g>>2;if(r.push(U),y!==64){const L=g<<6&192|y;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gv=function(s){const t=pv(s);return Mh.encodeByteArray(t,!0)},Ao=function(s){return gv(s).replace(/\./g,"")},No=function(s){try{return Mh.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(s){return _v(void 0,s)}function _v(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!kT(i)||(s[i]=_v(s[i],t[i]));return s}function kT(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=()=>LT().__FIREBASE_DEFAULTS__,zT=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&No(s[1]);return t&&JSON.parse(t)},kh=()=>{try{return IT()||UT()||zT()||jT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},yv=s=>{var t,i;return(i=(t=kh())==null?void 0:t.emulatorHosts)==null?void 0:i[s]},HT=s=>{const t=yv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},vv=()=>{var s;return(s=kh())==null?void 0:s.config},bv=s=>{var t;return(t=kh())==null?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ao(JSON.stringify(i)),Ao(JSON.stringify(h)),""].join(".")}const wr={};function PT(){const s={prod:[],emulator:[]};for(const t of Object.keys(wr))wr[t]?s.emulator.push(t):s.prod.push(t);return s}function qT(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Q_=!1;function Ev(s,t){if(typeof window>"u"||typeof document>"u"||!ya(window.location.host)||wr[s]===t||wr[s]||Q_)return;wr[s]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=PT().prod.length>0;function h(){const b=document.getElementById(r);b&&b.remove()}function p(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,U){b.setAttribute("width","24"),b.setAttribute("id",U),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Q_=!0,h()},b}function v(b,U){b.setAttribute("id",U),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=qT(r),U=i("text"),L=document.getElementById(U)||document.createElement("span"),q=i("learnmore"),X=document.getElementById(q)||document.createElement("a"),te=i("preprendIcon"),se=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ie=b.element;p(ie),v(X,q);const Le=g();m(se,te),ie.append(se,L,X,Le),document.body.appendChild(ie)}u?(L.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function GT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tv(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function wv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VT(){const s=St();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function YT(){return mv.NODE_ADMIN===!0}function Cv(){try{return typeof indexedDB=="object"}catch{return!1}}function Av(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}function FT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="FirebaseError";class Tn extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=QT,Object.setPrototypeOf(this,Tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ms.prototype.create)}}class ms{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?KT(u,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Tn(o,p,r)}}function KT(s,t){return s.replace(XT,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const XT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(s){return JSON.parse(s)}function et(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(s){let t={},i={},r={},o="";try{const u=s.split(".");t=Or(No(u[0])||""),i=Or(No(u[1])||""),o=u[2],r=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:r,signature:o}},ZT=function(s){const t=Nv(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},WT=function(s){const t=Nv(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function ua(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function oh(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function xo(s,t,i){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=t.call(i,s[o],o,s));return r}function Di(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=s[o],h=t[o];if(K_(u)&&K_(h)){if(!Di(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function K_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const r=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)r[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)r[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const b=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,v;for(let y=0;y<80;y++){y<40?y<20?(g=p^u&(h^p),v=1518500249):(g=u^h^p,v=1859775393):y<60?(g=u&h|p&(u|h),v=2400959708):(g=u^h^p,v=3395469782);const b=(o<<5|o>>>27)+g+m+v+r[y]&4294967295;m=p,p=h,h=(u<<30|u>>>2)&4294967295,u=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const r=i-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(u[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<i;)if(u[h]=t[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)t[r]=this.chain_[o]>>u&255,++r;return t}}function $T(s,t){const i=new e1(s,t);return i.subscribe.bind(i)}class e1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");t1(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=Vf),o.error===void 0&&(o.error=Vf),o.complete===void 0&&(o.complete=Vf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Vf(){}function Wo(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,z(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;o=65536+(u<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Jo=function(s){let t=0;for(let i=0;i<s.length;i++){const r=s.charCodeAt(i);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=1e3,s1=2,a1=14400*1e3,r1=.5;function X_(s,t=i1,i=s1){const r=t*Math.pow(i,s),o=Math.round(r1*r*(Math.random()-.5)*2);return Math.min(a1,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(s){return s&&s._delegate?s._delegate:s}class pn{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new Gr;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(c1(t))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ns){return this.instances.has(t)}getOptions(t=ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&h.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ns){return this.component?this.component.multipleInstances?t:ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(s){return s===ns?void 0:s}function c1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new l1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ie||(Ie={}));const f1={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},h1=Ie.INFO,d1={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},m1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=d1[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $o{constructor(t){this.name=t,this._logLevel=h1,this._logHandler=m1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?f1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...t),this._logHandler(this,Ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...t),this._logHandler(this,Ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...t),this._logHandler(this,Ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...t),this._logHandler(this,Ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...t),this._logHandler(this,Ie.ERROR,...t)}}const p1=(s,t)=>t.some(i=>s instanceof i);let Z_,W_;function g1(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,ch=new WeakMap,Rv=new WeakMap,Yf=new WeakMap,Uh=new WeakMap;function y1(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{i(xi(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&xv.set(i,s)}).catch(()=>{}),Uh.set(t,s),t}function v1(s){if(ch.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{i(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});ch.set(s,t)}let uh={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return ch.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Rv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xi(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function b1(s){uh=s(uh)}function S1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Ff(this),t,...i);return Rv.set(r,t.sort?t.sort():[t]),xi(r)}:_1().includes(s)?function(...t){return s.apply(Ff(this),t),xi(xv.get(this))}:function(...t){return xi(s.apply(Ff(this),t))}}function E1(s){return typeof s=="function"?S1(s):(s instanceof IDBTransaction&&v1(s),p1(s,g1())?new Proxy(s,uh):s)}function xi(s){if(s instanceof IDBRequest)return y1(s);if(Yf.has(s))return Yf.get(s);const t=E1(s);return t!==s&&(Yf.set(s,t),Uh.set(t,s)),t}const Ff=s=>Uh.get(s);function Iv(s,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(s,t),p=xi(h);return r&&h.addEventListener("upgradeneeded",m=>{r(xi(h.result),m.oldVersion,m.newVersion,xi(h.transaction),m)}),i&&h.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const T1=["get","getKey","getAll","getAllKeys","count"],w1=["put","add","delete","clear"],Qf=new Map;function J_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Qf.get(t))return Qf.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=w1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||T1.includes(i)))return;const u=async function(h,...p){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),o&&m.done]))[0]};return Qf.set(t,u),u}b1(s=>({...s,get:(t,i,r)=>J_(t,i)||s.get(t,i,r),has:(t,i)=>!!J_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(A1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function A1(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fh="@firebase/app",$_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new $o("@firebase/app"),N1="@firebase/app-compat",x1="@firebase/analytics-compat",R1="@firebase/analytics",I1="@firebase/app-check-compat",O1="@firebase/app-check",D1="@firebase/auth",M1="@firebase/auth-compat",k1="@firebase/database",L1="@firebase/data-connect",U1="@firebase/database-compat",z1="@firebase/functions",j1="@firebase/functions-compat",H1="@firebase/installations",B1="@firebase/installations-compat",P1="@firebase/messaging",q1="@firebase/messaging-compat",G1="@firebase/performance",V1="@firebase/performance-compat",Y1="@firebase/remote-config",F1="@firebase/remote-config-compat",Q1="@firebase/storage",K1="@firebase/storage-compat",X1="@firebase/firestore",Z1="@firebase/ai",W1="@firebase/firestore-compat",J1="firebase",$1="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="[DEFAULT]",ew={[fh]:"fire-core",[N1]:"fire-core-compat",[R1]:"fire-analytics",[x1]:"fire-analytics-compat",[O1]:"fire-app-check",[I1]:"fire-app-check-compat",[D1]:"fire-auth",[M1]:"fire-auth-compat",[k1]:"fire-rtdb",[L1]:"fire-data-connect",[U1]:"fire-rtdb-compat",[z1]:"fire-fn",[j1]:"fire-fn-compat",[H1]:"fire-iid",[B1]:"fire-iid-compat",[P1]:"fire-fcm",[q1]:"fire-fcm-compat",[G1]:"fire-perf",[V1]:"fire-perf-compat",[Y1]:"fire-rc",[F1]:"fire-rc-compat",[Q1]:"fire-gcs",[K1]:"fire-gcs-compat",[X1]:"fire-fst",[W1]:"fire-fst-compat",[Z1]:"fire-vertex","fire-js":"fire-js",[J1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,tw=new Map,dh=new Map;function ey(s,t){try{s.container.addComponent(t)}catch(i){Kn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Sn(s){const t=s.name;if(dh.has(t))return Kn.debug(`There were multiple attempts to register component ${t}.`),!1;dh.set(t,s);for(const i of Ro.values())ey(i,s);for(const i of tw.values())ey(i,s);return!0}function ps(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function cn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new ms("app","Firebase",nw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=$1;function Ov(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:hh,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ri.create("bad-app-name",{appName:String(o)});if(i||(i=vv()),!i)throw Ri.create("no-options");const u=Ro.get(o);if(u){if(Di(i,u.options)&&Di(r,u.config))return u;throw Ri.create("duplicate-app",{appName:o})}const h=new u1(o);for(const m of dh.values())h.addComponent(m);const p=new iw(i,r,h);return Ro.set(o,p),p}function zh(s=hh){const t=Ro.get(s);if(!t&&s===hh&&vv())return Ov();if(!t)throw Ri.create("no-app",{appName:s});return t}function sn(s,t,i){let r=ew[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kn.warn(h.join(" "));return}Sn(new pn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebase-heartbeat-database",aw=1,Dr="firebase-heartbeat-store";let Kf=null;function Dv(){return Kf||(Kf=Iv(sw,aw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Dr)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ri.create("idb-open",{originalErrorMessage:s.message})})),Kf}async function rw(s){try{const i=(await Dv()).transaction(Dr),r=await i.objectStore(Dr).get(Mv(s));return await i.done,r}catch(t){if(t instanceof Tn)Kn.warn(t.message);else{const i=Ri.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Kn.warn(i.message)}}}async function ty(s,t){try{const r=(await Dv()).transaction(Dr,"readwrite");await r.objectStore(Dr).put(t,Mv(s)),await r.done}catch(i){if(i instanceof Tn)Kn.warn(i.message);else{const r=Ri.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Kn.warn(r.message)}}}function Mv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=1024,ow=30;class cw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ny();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ow){const h=hw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ny(),{heartbeatsToSend:r,unsentEntries:o}=uw(this._heartbeatsCache.heartbeats),u=Ao(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Kn.warn(i),""}}}function ny(){return new Date().toISOString().substring(0,10)}function uw(s,t=lw){const i=[];let r=s.slice();for(const o of s){const u=i.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),iy(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),iy(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class fw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cv()?Av().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ty(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return ty(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function iy(s){return Ao(JSON.stringify({version:2,heartbeats:s})).length}function hw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(s){Sn(new pn("platform-logger",t=>new C1(t),"PRIVATE")),Sn(new pn("heartbeat",t=>new cw(t),"PRIVATE")),sn(fh,$_,s),sn(fh,$_,"esm2020"),sn("fire-js","")}dw("");var mw="firebase",pw="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(mw,pw,"app");var sy={};const ay="@firebase/database",ry="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv="";function gw(s){kv=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),et(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Or(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return wn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _w(t)}}catch{}return new yw},ss=Lv("localStorage"),vw=Lv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new $o("@firebase/database"),bw=(function(){let s=1;return function(){return s++}})(),Uv=function(s){const t=n1(s),i=new JT;i.update(t);const r=i.digest();return Mh.encodeByteArray(r)},Vr=function(...s){let t="";for(let i=0;i<s.length;i++){const r=s[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Vr.apply(null,r):typeof r=="object"?t+=et(r):t+=r,t+=" "}return t};let Cr=null,ly=!0;const Sw=function(s,t){z(!0,"Can't turn on custom loggers persistently."),sa.logLevel=Ie.VERBOSE,Cr=sa.log.bind(sa)},ht=function(...s){if(ly===!0&&(ly=!1,Cr===null&&vw.get("logging_enabled")===!0&&Sw()),Cr){const t=Vr.apply(null,s);Cr(t)}},Yr=function(s){return function(...t){ht(s,...t)}},mh=function(...s){const t="FIREBASE INTERNAL ERROR: "+Vr(...s);sa.error(t)},Xn=function(...s){const t=`FIREBASE FATAL ERROR: ${Vr(...s)}`;throw sa.error(t),new Error(t)},vt=function(...s){const t="FIREBASE WARNING: "+Vr(...s);sa.warn(t)},Ew=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jh=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},Tw=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},fa="[MIN_NAME]",os="[MAX_NAME]",gs=function(s,t){if(s===t)return 0;if(s===fa||t===os)return-1;if(t===fa||s===os)return 1;{const i=oy(s),r=oy(t);return i!==null?r!==null?i-r===0?s.length-t.length:i-r:-1:r!==null?1:s<t?-1:1}},ww=function(s,t){return s===t?0:s<t?-1:1},br=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+et(t))},Hh=function(s){if(typeof s!="object"||s===null)return et(s);const t=[];for(const r in s)t.push(r);t.sort();let i="{";for(let r=0;r<t.length;r++)r!==0&&(i+=","),i+=et(t[r]),i+=":",i+=Hh(s[t[r]]);return i+="}",i},zv=function(s,t){const i=s.length;if(i<=t)return[s];const r=[];for(let o=0;o<i;o+=t)o+t>i?r.push(s.substring(o,i)):r.push(s.substring(o,o+t));return r};function dt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const jv=function(s){z(!jh(s),"Invalid JSON number");const t=11,i=52,r=(1<<t-1)-1;let o,u,h,p,m;s===0?(u=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(s)/Math.LN2),r),u=p+r,h=Math.round(s*Math.pow(2,i-p)-Math.pow(2,i))):(u=0,h=Math.round(s/Math.pow(2,1-r-i))));const g=[];for(m=i;m;m-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(m=t;m;m-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(o?1:0),g.reverse();const v=g.join("");let y="";for(m=0;m<64;m+=8){let b=parseInt(v.substr(m,8),2).toString(16);b.length===1&&(b="0"+b),y=y+b}return y.toLowerCase()},Cw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Aw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Nw(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const r=new Error(s+" at "+t._path.toString()+": "+i);return r.code=s.toUpperCase(),r}const xw=new RegExp("^-?(0*)\\d{1,10}$"),Rw=-2147483648,Iw=2147483647,oy=function(s){if(xw.test(s)){const t=Number(s);if(t>=Rw&&t<=Iw)return t}return null},Sa=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw vt("Exception was thrown by user callback.",i),t},Math.floor(0))}},Ow=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ar=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,cn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)==null||i.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,i,r){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,r):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(t)}}class So{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}So.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="5",Hv="v",Bv="s",Pv="r",qv="f",Gv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vv="ls",Yv="p",ph="ac",Fv="websocket",Qv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(t,i,r,o,u=!1,h="",p=!1,m=!1,g=null){this.secure=i,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ss.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ss.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function kw(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Xv(s,t,i){z(typeof t=="string","typeof type must == string"),z(typeof i=="object","typeof params must == object");let r;if(t===Fv)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===Qv)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);kw(s)&&(i.ns=s.namespace);const o=[];return dt(i,(u,h)=>{o.push(u+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.counters_={}}incrementCounter(t,i=1){wn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return MT(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf={},Zf={};function Ph(s){const t=s.toString();return Xf[t]||(Xf[t]=new Lw),Xf[t]}function Uw(s,t){const i=s.toString();return Zf[i]||(Zf[i]=t()),Zf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Sa(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="start",jw="close",Hw="pLPCommand",Bw="pRTLPCB",Zv="id",Wv="pw",Jv="ser",Pw="cb",qw="seg",Gw="ts",Vw="d",Yw="dframe",$v=1870,e0=30,Fw=$v-e0,Qw=25e3,Kw=3e4;class ia{constructor(t,i,r,o,u,h,p){this.connId=t,this.repoInfo=i,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yr(t),this.stats_=Ph(i),this.urlFn=m=>(this.appCheckToken&&(m[ph]=this.appCheckToken),Xv(i,Qv,m))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new zw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Kw)),Tw(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qh((...u)=>{const[h,p,m,g,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===cy)this.id=p,this.password=m;else if(h===jw)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,p]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[cy]="t",r[Jv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Pw]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hv]=Bh,this.transportSessionId&&(r[Bv]=this.transportSessionId),this.lastSessionId&&(r[Vv]=this.lastSessionId),this.applicationId&&(r[Yv]=this.applicationId),this.appCheckToken&&(r[ph]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gv.test(location.hostname)&&(r[Pv]=qv);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ia.forceAllow_=!0}static forceDisallow(){ia.forceDisallow_=!0}static isAvailable(){return ia.forceAllow_?!0:!ia.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Cw()&&!Aw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=et(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=gv(i),o=zv(r,Fw);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[Yw]="t",r[Zv]=t,r[Wv]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=et(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class qh{constructor(t,i,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=bw(),window[Hw+this.uniqueCallbackIdentifier]=t,window[Bw+this.uniqueCallbackIdentifier]=i,this.myIFrame=qh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){ht("frame writing exception"),p.stack&&ht(p.stack),ht(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ht("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Zv]=this.myID,t[Wv]=this.myPW,t[Jv]=this.currentSerial;let i=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+e0+r.length<=$v;){const h=this.pendingSegs.shift();r=r+"&"+qw+o+"="+h.seg+"&"+Gw+o+"="+h.ts+"&"+Vw+o+"="+h.d,o++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,r){this.pendingSegs.push({seg:t,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(r,Math.floor(Qw)),u=()=>{clearTimeout(o),r()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{ht("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=16384,Zw=45e3;let Io=null;typeof MozWebSocket<"u"?Io=MozWebSocket:typeof WebSocket<"u"&&(Io=WebSocket);class un{constructor(t,i,r,o,u,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yr(this.connId),this.stats_=Ph(i),this.connURL=un.connectionURL_(i,h,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const h={};return h[Hv]=Bh,typeof location<"u"&&location.hostname&&Gv.test(location.hostname)&&(h[Pv]=qv),i&&(h[Bv]=i),r&&(h[Vv]=r),o&&(h[ph]=o),u&&(h[Yv]=u),Xv(t,Fv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ss.set("previous_websocket_failure",!0);try{let r;YT(),this.mySock=new Io(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){un.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Io!==null&&!un.forceDisallow_}static previouslyFailed(){return ss.isInMemoryStorage||ss.get("previous_websocket_failure")===!0}markConnectionHealthy(){ss.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Or(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(z(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=et(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=zv(i,Xw);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Zw))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}un.responsesRequiredToBeHealthy=2;un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{static get ALL_TRANSPORTS(){return[ia,un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=un&&un.isAvailable();let r=i&&!un.previouslyFailed();if(t.webSocketOnly&&(i||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[un];else{const o=this.transports_=[];for(const u of Mr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Mr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Mr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=6e4,Jw=5e3,$w=10*1024,eC=100*1024,Wf="t",uy="d",tC="s",fy="r",nC="e",hy="o",dy="a",my="n",py="p",iC="h";class sC{constructor(t,i,r,o,u,h,p,m,g,v){this.id=t,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yr("c:"+this.id+":"),this.transportManager_=new Mr(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ar(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$w?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Wf in t){const i=t[Wf];i===dy?this.upgradeIfSecondaryHealthy_():i===fy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===hy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=br("t",t),r=br("d",t);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:py,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:dy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:my,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=br("t",t),r=br("d",t);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=br(Wf,t);if(uy in t){const r=t[uy];if(i===iC){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===my){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===tC?this.onConnectionShutdown_(r):i===fy?this.onReset_(r):i===nC?mh("Server Error: "+r):i===hy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Bh!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Ar(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ww))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ar(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Jw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:py,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ss.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{put(t,i,r,o){}merge(t,i,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,r){}onDisconnectMerge(t,i,r){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t){this.allowedEvents_=t,this.listeners_={},z(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,i)}}on(t,i,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:r});const o=this.getInitialEvent(t);o&&i.apply(r,o)}off(t,i,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let u=0;u<o.length;u++)if(o[u].callback===i&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(t){z(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends n0{static getInstance(){return new Oo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return z(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=32,_y=768;class Oe{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ve(){return new Oe("")}function re(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Mi(s){return s.pieces_.length-s.pieceNum_}function ke(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Oe(s.pieces_,t)}function Gh(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function aC(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function kr(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function i0(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Oe(t,0)}function qe(s,t){const i=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)i.push(s.pieces_[r]);if(t instanceof Oe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)i.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&i.push(r[o])}return new Oe(i,0)}function fe(s){return s.pieceNum_>=s.pieces_.length}function yt(s,t){const i=re(s),r=re(t);if(i===null)return t;if(i===r)return yt(ke(s),ke(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function rC(s,t){const i=kr(s,0),r=kr(t,0);for(let o=0;o<i.length&&o<r.length;o++){const u=gs(i[o],r[o]);if(u!==0)return u}return i.length===r.length?0:i.length<r.length?-1:1}function Vh(s,t){if(Mi(s)!==Mi(t))return!1;for(let i=s.pieceNum_,r=t.pieceNum_;i<=s.pieces_.length;i++,r++)if(s.pieces_[i]!==t.pieces_[r])return!1;return!0}function nn(s,t){let i=s.pieceNum_,r=t.pieceNum_;if(Mi(s)>Mi(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[r])return!1;++i,++r}return!0}class lC{constructor(t,i){this.errorPrefix_=i,this.parts_=kr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jo(this.parts_[r]);s0(this)}}function oC(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Jo(t),s0(s)}function cC(s){const t=s.parts_.pop();s.byteLength_-=Jo(t),s.parts_.length>0&&(s.byteLength_-=1)}function s0(s){if(s.byteLength_>_y)throw new Error(s.errorPrefix_+"has a key path longer than "+_y+" bytes ("+s.byteLength_+").");if(s.parts_.length>gy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gy+") or object contains a cycle "+is(s))}function is(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends n0{static getInstance(){return new Yh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return z(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=1e3,uC=300*1e3,yy=30*1e3,fC=1.3,hC=3e4,dC="server_kill",vy=3;class Qn extends t0{constructor(t,i,r,o,u,h,p,m){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=Qn.nextPersistentConnectionId_++,this.log_=Yr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sr,this.maxReconnectDelay_=uC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Oo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_(et(u)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Gr,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?i.resolve(p):i.reject(p)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},h="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(h,u,p=>{const m=p.d,g=p.s;Qn.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&wn(t,"w")){const r=ua(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||WT(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=ZT(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),z(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t},h="n";o&&(u.q=r,u.t=o),this.sendRequest(h,u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const h={p:i,d:r};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+et(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):mh("Unrecognized action received from server: "+et(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hC&&(this.reconnectDelay_=Sr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Qn.nextConnectionId_++,u=this.lastSessionId;let h=!1,p=null;const m=function(){p?p.close():(h=!0,r())},g=function(y){z(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(y)};this.realtime_={close:m,sendRequest:g};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);h?ht("getToken() completed but was canceled"):(ht("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,p=new sC(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,U=>{vt(U+" ("+this.repoInfo_.toString()+")"),this.interrupt(dC)},u))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&vt(y),m())}}}interrupt(t){ht("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ht("Resuming connection for reason: "+t),delete this.interruptReasons_[t],oh(this.interruptReasons_)&&(this.reconnectDelay_=Sr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(u=>Hh(u)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Oe(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){ht("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vy&&(this.reconnectDelay_=yy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ht("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+kv.replace(/\./g,"-")]=1,Lh()?t["framework.cordova"]=1:wv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Oo.getInstance().currentlyOnline();return oh(this.interruptReasons_)&&t}}Qn.nextPersistentConnectionId_=0;Qn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new le(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const r=new le(fa,t),o=new le(fa,i);return this.compare(r,o)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo;class a0 extends ec{static get __EMPTY_NODE(){return yo}static set __EMPTY_NODE(t){yo=t}compare(t,i){return gs(t.name,i.name)}isDefinedOn(t){throw _a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return le.MIN}maxPost(){return new le(os,yo)}makePost(t,i){return z(typeof t=="string","KeyIndex indexValue must always be a string."),new le(t,yo)}toString(){return".key"}}const aa=new a0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,i,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?r(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class at{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??at.RED,this.left=o??It.EMPTY_NODE,this.right=u??It.EMPTY_NODE}copy(t,i,r,o,u){return new at(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return It.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class mC{copy(t,i,r,o,u){return this}insert(t,i,r){return new at(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(t,i=It.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new It(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(t){return new It(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,at.BLACK,null,null))}get(t){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(t,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(t){let i,r=this.root_,o=null;for(;!r.isEmpty();)if(i=this.comparator_(t,r.key),i===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new vo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new vo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new vo(this.root_,null,this.comparator_,!0,t)}}It.EMPTY_NODE=new mC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(s,t){return gs(s.name,t.name)}function Fh(s,t){return gs(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;function gC(s){gh=s}const r0=function(s){return typeof s=="number"?"number:"+jv(s):"string:"+s},l0=function(s){if(s.isLeafNode()){const t=s.val();z(typeof t=="string"||typeof t=="number"||typeof t=="object"&&wn(t,".sv"),"Priority must be a string or number.")}else z(s===gh||s.isEmpty(),"priority of unexpected type.");z(s===gh||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by;class st{static set __childrenNodeConstructor(t){by=t}static get __childrenNodeConstructor(){return by}constructor(t,i=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),l0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new st(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return fe(t)?this:re(t)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=re(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(z(r!==".priority"||Mi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+r0(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=jv(this.value_):t+=this.value_,this.lazyHash_=Uv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===st.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof st.__childrenNodeConstructor?-1:(z(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(i),u=st.VALUE_TYPE_ORDER.indexOf(r);return z(o>=0,"Unknown leaf type: "+i),z(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0,c0;function _C(s){o0=s}function yC(s){c0=s}class vC extends ec{compare(t,i){const r=t.node.getPriority(),o=i.node.getPriority(),u=r.compareTo(o);return u===0?gs(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return le.MIN}maxPost(){return new le(os,new st("[PRIORITY-POST]",c0))}makePost(t,i){const r=o0(t);return new le(i,new st("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ge=new vC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=Math.log(2);class SC{constructor(t){const i=u=>parseInt(Math.log(u)/bC,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Do=function(s,t,i,r){s.sort(t);const o=function(m,g){const v=g-m;let y,b;if(v===0)return null;if(v===1)return y=s[m],b=i?i(y):y,new at(b,y.node,at.BLACK,null,null);{const U=parseInt(v/2,10)+m,L=o(m,U),q=o(U+1,g);return y=s[U],b=i?i(y):y,new at(b,y.node,at.BLACK,L,q)}},u=function(m){let g=null,v=null,y=s.length;const b=function(L,q){const X=y-L,te=y;y-=L;const se=o(X+1,te),ie=s[X],Le=i?i(ie):ie;U(new at(Le,ie.node,q,null,se))},U=function(L){g?(g.left=L,g=L):(v=L,g=L)};for(let L=0;L<m.count;++L){const q=m.nextBitIsOne(),X=Math.pow(2,m.count-(L+1));q?b(X,at.BLACK):(b(X,at.BLACK),b(X,at.RED))}return v},h=new SC(s.length),p=u(h);return new It(r||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf;const na={};class Vn{static get Default(){return z(na&&Ge,"ChildrenNode.ts has not been loaded"),Jf=Jf||new Vn({".priority":na},{".priority":Ge}),Jf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ua(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof It?i:null}hasIndex(t){return wn(this.indexSet_,t.toString())}addIndex(t,i){z(t!==aa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=i.getIterator(le.Wrap);let h=u.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=u.getNext();let p;o?p=Do(r,t.getCompare()):p=na;const m=t.toString(),g={...this.indexSet_};g[m]=t;const v={...this.indexes_};return v[m]=p,new Vn(v,g)}addToIndexes(t,i){const r=xo(this.indexes_,(o,u)=>{const h=ua(this.indexSet_,u);if(z(h,"Missing index implementation for "+u),o===na)if(h.isDefinedOn(t.node)){const p=[],m=i.getIterator(le.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),Do(p,h.getCompare())}else return na;else{const p=i.get(t.name);let m=o;return p&&(m=m.remove(new le(t.name,p))),m.insert(t,t.node)}});return new Vn(r,this.indexSet_)}removeFromIndexes(t,i){const r=xo(this.indexes_,o=>{if(o===na)return o;{const u=i.get(t.name);return u?o.remove(new le(t.name,u)):o}});return new Vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er;class Z{static get EMPTY_NODE(){return Er||(Er=new Z(new It(Fh),null,Vn.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&l0(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Er}updatePriority(t){return this.children_.isEmpty()?this:new Z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?Er:i}}getChild(t){const i=re(t);return i===null?this:this.getImmediateChild(i).getChild(ke(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(z(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const r=new le(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?Er:this.priorityNode_;return new Z(o,h,u)}}updateChild(t,i){const r=re(t);if(r===null)return i;{z(re(t)!==".priority"||Mi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ke(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(Ge,(h,p)=>{i[h]=p.val(t),r++,u&&Z.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*r){const h=[];for(const p in i)h[p]=i[p];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+r0(this.getPriority().val())+":"),this.forEachChild(Ge,(i,r)=>{const o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Uv(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new le(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new le(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new le(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,le.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,le.Wrap);let u=o.peek();for(;u!=null&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Fr?-1:0}withIndex(t){if(t===aa||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new Z(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===aa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ge),o=i.getIterator(Ge);let u=r.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===aa?null:this.indexMap_.get(t.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class EC extends Z{constructor(){super(new It(Fh),Z.EMPTY_NODE,Vn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Z.EMPTY_NODE}isEmpty(){return!1}}const Fr=new EC;Object.defineProperties(le,{MIN:{value:new le(fa,Z.EMPTY_NODE)},MAX:{value:new le(os,Fr)}});a0.__EMPTY_NODE=Z.EMPTY_NODE;st.__childrenNodeConstructor=Z;gC(Fr);yC(Fr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=!0;function $e(s,t=null){if(s===null)return Z.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),z(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new st(i,$e(t))}if(!(s instanceof Array)&&TC){const i=[];let r=!1;if(dt(s,(h,p)=>{if(h.substring(0,1)!=="."){const m=$e(p);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),i.push(new le(h,m)))}}),i.length===0)return Z.EMPTY_NODE;const u=Do(i,pC,h=>h.name,Fh);if(r){const h=Do(i,Ge.getCompare());return new Z(u,$e(t),new Vn({".priority":h},{".priority":Ge}))}else return new Z(u,$e(t),Vn.Default)}else{let i=Z.EMPTY_NODE;return dt(s,(r,o)=>{if(wn(s,r)&&r.substring(0,1)!=="."){const u=$e(o);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority($e(t))}}_C($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends ec{constructor(t){super(),this.indexPath_=t,z(!fe(t)&&re(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const r=this.extractChild(t.node),o=this.extractChild(i.node),u=r.compareTo(o);return u===0?gs(t.name,i.name):u}makePost(t,i){const r=$e(t),o=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new le(i,o)}maxPost(){const t=Z.EMPTY_NODE.updateChild(this.indexPath_,Fr);return new le(os,t)}toString(){return kr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends ec{compare(t,i){const r=t.node.compareTo(i.node);return r===0?gs(t.name,i.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(t,i){const r=$e(t);return new le(i,r)}toString(){return".value"}}const AC=new CC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(s){return{type:"value",snapshotNode:s}}function ha(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Lr(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Ur(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function NC(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t){this.index_=t}updateChild(t,i,r,o,u,h){z(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(i);return p.getChild(o).equals(r.getChild(o))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?t.hasChild(i)?h.trackChildChange(Lr(i,p)):z(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(ha(i,r)):h.trackChildChange(Ur(i,r,p))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(t,i,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Ge,(o,u)=>{i.hasChild(o)||r.trackChildChange(Lr(o,u))}),i.isLeafNode()||i.forEachChild(Ge,(o,u)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(u)||r.trackChildChange(Ur(o,u,h))}else r.trackChildChange(ha(o,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?Z.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this.indexedFilter_=new Qh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zr.getStartPost_(t),this.endPost_=zr.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&r}updateChild(t,i,r,o,u,h){return this.matches(new le(i,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,r,o,u,h)}updateFullNode(t,i,r){i.isLeafNode()&&(i=Z.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const u=this;return i.forEachChild(Ge,(h,p)=>{u.matches(new le(h,p))||(o=o.updateImmediateChild(h,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zr(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,r,o,u,h){return this.rangedFilter_.matches(new le(i,r))||(r=Z.EMPTY_NODE),t.getImmediateChild(i).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,r,o,u,h):this.fullLimitUpdateChild_(t,i,r,u,h)}updateFullNode(t,i,r){let o;if(i.isLeafNode()||i.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const p=u.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))o=o.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const p=u.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:o=o.updateImmediateChild(p.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,r,o,u){let h;if(this.reverse_){const y=this.index_.getCompare();h=(b,U)=>y(U,b)}else h=this.index_.getCompare();const p=t;z(p.numChildren()===this.limit_,"");const m=new le(i,r),g=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),v=this.rangedFilter_.matches(m);if(p.hasChild(i)){const y=p.getImmediateChild(i);let b=o.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===i||p.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const U=b==null?1:h(b,m);if(v&&!r.isEmpty()&&U>=0)return u!=null&&u.trackChildChange(Ur(i,r,y)),p.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(Lr(i,y));const q=p.updateImmediateChild(i,Z.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(u!=null&&u.trackChildChange(ha(b.name,b.node)),q.updateImmediateChild(b.name,b.node)):q}}else return r.isEmpty()?t:v&&h(g,m)>=0?(u!=null&&(u.trackChildChange(Lr(g.name,g.node)),u.trackChildChange(ha(i,r))),p.updateImmediateChild(i,r).updateImmediateChild(g.name,Z.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fa}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:os}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const t=new Kh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function RC(s){return s.loadsAllData()?new Qh(s.getIndex()):s.hasLimit()?new xC(s):new zr(s)}function Sy(s){const t={};if(s.isDefault())return t;let i;if(s.index_===Ge?i="$priority":s.index_===AC?i="$value":s.index_===aa?i="$key":(z(s.index_ instanceof wC,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=et(i),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";t[r]=et(s.indexStartValue_),s.startNameSet_&&(t[r]+=","+et(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";t[r]=et(s.indexEndValue_),s.endNameSet_&&(t[r]+=","+et(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function Ey(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==Ge&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends t0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(z(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Yr("p:rest:"),this.listens_={}}listen(t,i,r,o){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const h=Mo.getListenId_(t,r),p={};this.listens_[h]=p;const m=Sy(t._queryParams);this.restRequest_(u+".json",m,(g,v)=>{let y=v;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(u,y,!1,r),ua(this.listens_,h)===p){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",o(b,null)}})}unlisten(t,i){const r=Mo.getListenId_(t,i);delete this.listens_[r]}get(t){const i=Sy(t._queryParams),r=t._path.toString(),o=new Gr;return this.restRequest_(r+".json",i,(u,h)=>{let p=h;u===404&&(p=null,u=null),u===null?(this.onDataUpdate_(r,p,!1,null),o.resolve(p)):o.reject(new Error(p))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(i.auth=o.accessToken),u&&u.token&&(i.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+va(i);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Or(p.responseText)}catch{vt("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,m)}else p.status!==401&&p.status!==404&&vt("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(){return{value:null,children:new Map}}function f0(s,t,i){if(fe(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const r=re(t);s.children.has(r)||s.children.set(r,ko());const o=s.children.get(r);t=ke(t),f0(o,t,i)}}function _h(s,t,i){s.value!==null?i(t,s.value):OC(s,(r,o)=>{const u=new Oe(t.toString()+"/"+r);_h(o,u,i)})}function OC(s,t){s.children.forEach((i,r)=>{t(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&dt(this.last_,(r,o)=>{i[r]=i[r]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=10*1e3,MC=30*1e3,kC=300*1e3;class LC{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new DC(t);const r=Ty+(MC-Ty)*Math.random();Ar(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),i={};let r=!1;dt(t,(o,u)=>{u>0&&wn(this.statsToReport_,o)&&(i[o]=u,r=!0)}),r&&this.server_.reportStats(i),Ar(this.reportStats_.bind(this),Math.floor(Math.random()*2*kC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fn||(fn={}));function Xh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,i,r){this.path=t,this.affectedTree=i,this.revert=r,this.type=fn.ACK_USER_WRITE,this.source=Xh()}operationForChild(t){if(fe(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Oe(t));return new Lo(ve(),i,this.revert)}}else return z(re(this.path)===t,"operationForChild called for unrelated child."),new Lo(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,i){this.source=t,this.path=i,this.type=fn.LISTEN_COMPLETE}operationForChild(t){return fe(this.path)?new jr(this.source,ve()):new jr(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,i,r){this.source=t,this.path=i,this.snap=r,this.type=fn.OVERWRITE}operationForChild(t){return fe(this.path)?new cs(this.source,ve(),this.snap.getImmediateChild(t)):new cs(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,i,r){this.source=t,this.path=i,this.children=r,this.type=fn.MERGE}operationForChild(t){if(fe(this.path)){const i=this.children.subtree(new Oe(t));return i.isEmpty()?null:i.value?new cs(this.source,ve(),i.value):new da(this.source,ve(),i)}else return z(re(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new da(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,i,r){this.node_=t,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(fe(t))return this.isFullyInitialized()&&!this.filtered_;const i=re(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zC(s,t,i,r){const o=[],u=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(NC(h.childName,h.snapshotNode))}),Tr(s,o,"child_removed",t,r,i),Tr(s,o,"child_added",t,r,i),Tr(s,o,"child_moved",u,r,i),Tr(s,o,"child_changed",t,r,i),Tr(s,o,"value",t,r,i),o}function Tr(s,t,i,r,o,u){const h=r.filter(p=>p.type===i);h.sort((p,m)=>HC(s,p,m)),h.forEach(p=>{const m=jC(s,p,u);o.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,s.query_))})})}function jC(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function HC(s,t,i){if(t.childName==null||i.childName==null)throw _a("Should only compare child_ events.");const r=new le(t.childName,t.snapshotNode),o=new le(i.childName,i.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(s,t){return{eventCache:s,serverCache:t}}function Nr(s,t,i,r){return tc(new ki(t,i,r),s.serverCache)}function h0(s,t,i,r){return tc(s.eventCache,new ki(t,i,r))}function Uo(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function us(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;const BC=()=>($f||($f=new It(ww)),$f);class Me{static fromObject(t){let i=new Me(null);return dt(t,(r,o)=>{i=i.set(new Oe(r),o)}),i}constructor(t,i=BC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ve(),value:this.value};if(fe(t))return null;{const r=re(t),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(ke(t),i);return u!=null?{path:qe(new Oe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(fe(t))return this;{const i=re(t),r=this.children.get(i);return r!==null?r.subtree(ke(t)):new Me(null)}}set(t,i){if(fe(t))return new Me(i,this.children);{const r=re(t),u=(this.children.get(r)||new Me(null)).set(ke(t),i),h=this.children.insert(r,u);return new Me(this.value,h)}}remove(t){if(fe(t))return this.children.isEmpty()?new Me(null):new Me(null,this.children);{const i=re(t),r=this.children.get(i);if(r){const o=r.remove(ke(t));let u;return o.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,o),this.value===null&&u.isEmpty()?new Me(null):new Me(this.value,u)}else return this}}get(t){if(fe(t))return this.value;{const i=re(t),r=this.children.get(i);return r?r.get(ke(t)):null}}setTree(t,i){if(fe(t))return i;{const r=re(t),u=(this.children.get(r)||new Me(null)).setTree(ke(t),i);let h;return u.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,u),new Me(this.value,h)}}fold(t){return this.fold_(ve(),t)}fold_(t,i){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(qe(t,o),i)}),i(t,this.value,r)}findOnPath(t,i){return this.findOnPath_(t,ve(),i)}findOnPath_(t,i,r){const o=this.value?r(i,this.value):!1;if(o)return o;if(fe(t))return null;{const u=re(t),h=this.children.get(u);return h?h.findOnPath_(ke(t),qe(i,u),r):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ve(),i)}foreachOnPath_(t,i,r){if(fe(t))return this;{this.value&&r(i,this.value);const o=re(t),u=this.children.get(o);return u?u.foreachOnPath_(ke(t),qe(i,o),r):new Me(null)}}foreach(t){this.foreach_(ve(),t)}foreach_(t,i){this.children.inorderTraversal((r,o)=>{o.foreach_(qe(t,r),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,r)=>{r.value&&t(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.writeTree_=t}static empty(){return new dn(new Me(null))}}function xr(s,t,i){if(fe(t))return new dn(new Me(i));{const r=s.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let u=r.value;const h=yt(o,t);return u=u.updateChild(h,i),new dn(s.writeTree_.set(o,u))}else{const o=new Me(i),u=s.writeTree_.setTree(t,o);return new dn(u)}}}function yh(s,t,i){let r=s;return dt(i,(o,u)=>{r=xr(r,qe(t,o),u)}),r}function wy(s,t){if(fe(t))return dn.empty();{const i=s.writeTree_.setTree(t,new Me(null));return new dn(i)}}function vh(s,t){return _s(s,t)!=null}function _s(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(yt(i.path,t)):null}function Cy(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ge,(r,o)=>{t.push(new le(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new le(r,o.value))}),t}function Ii(s,t){if(fe(t))return s;{const i=_s(s,t);return i!=null?new dn(new Me(i)):new dn(s.writeTree_.subtree(t))}}function bh(s){return s.writeTree_.isEmpty()}function ma(s,t){return d0(ve(),s.writeTree_,t)}function d0(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let r=null;return t.children.inorderTraversal((o,u)=>{o===".priority"?(z(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=d0(qe(s,o),u,i)}),!i.getChild(s).isEmpty()&&r!==null&&(i=i.updateChild(qe(s,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(s,t){return _0(t,s)}function PC(s,t,i,r,o){z(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:r,visible:o}),o&&(s.visibleWrites=xr(s.visibleWrites,t,i)),s.lastWriteId=r}function qC(s,t,i,r){z(r>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:t,children:i,writeId:r,visible:!0}),s.visibleWrites=yh(s.visibleWrites,t,i),s.lastWriteId=r}function GC(s,t){for(let i=0;i<s.allWrites.length;i++){const r=s.allWrites[i];if(r.writeId===t)return r}return null}function VC(s,t){const i=s.allWrites.findIndex(p=>p.writeId===t);z(i>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[i];s.allWrites.splice(i,1);let o=r.visible,u=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const p=s.allWrites[h];p.visible&&(h>=i&&YC(p,r.path)?o=!1:nn(r.path,p.path)&&(u=!0)),h--}if(o){if(u)return FC(s),!0;if(r.snap)s.visibleWrites=wy(s.visibleWrites,r.path);else{const p=r.children;dt(p,m=>{s.visibleWrites=wy(s.visibleWrites,qe(r.path,m))})}return!0}else return!1}function YC(s,t){if(s.snap)return nn(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&nn(qe(s.path,i),t))return!0;return!1}function FC(s){s.visibleWrites=m0(s.allWrites,QC,ve()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function QC(s){return s.visible}function m0(s,t,i){let r=dn.empty();for(let o=0;o<s.length;++o){const u=s[o];if(t(u)){const h=u.path;let p;if(u.snap)nn(i,h)?(p=yt(i,h),r=xr(r,p,u.snap)):nn(h,i)&&(p=yt(h,i),r=xr(r,ve(),u.snap.getChild(p)));else if(u.children){if(nn(i,h))p=yt(i,h),r=yh(r,p,u.children);else if(nn(h,i))if(p=yt(h,i),fe(p))r=yh(r,ve(),u.children);else{const m=ua(u.children,re(p));if(m){const g=m.getChild(ke(p));r=xr(r,ve(),g)}}}else throw _a("WriteRecord should have .snap or .children")}}return r}function p0(s,t,i,r,o){if(!r&&!o){const u=_s(s.visibleWrites,t);if(u!=null)return u;{const h=Ii(s.visibleWrites,t);if(bh(h))return i;if(i==null&&!vh(h,ve()))return null;{const p=i||Z.EMPTY_NODE;return ma(h,p)}}}else{const u=Ii(s.visibleWrites,t);if(!o&&bh(u))return i;if(!o&&i==null&&!vh(u,ve()))return null;{const h=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(nn(g.path,t)||nn(t,g.path))},p=m0(s.allWrites,h,t),m=i||Z.EMPTY_NODE;return ma(p,m)}}}function KC(s,t,i){let r=Z.EMPTY_NODE;const o=_s(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ge,(u,h)=>{r=r.updateImmediateChild(u,h)}),r;if(i){const u=Ii(s.visibleWrites,t);return i.forEachChild(Ge,(h,p)=>{const m=ma(Ii(u,new Oe(h)),p);r=r.updateImmediateChild(h,m)}),Cy(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const u=Ii(s.visibleWrites,t);return Cy(u).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function XC(s,t,i,r,o){z(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=qe(t,i);if(vh(s.visibleWrites,u))return null;{const h=Ii(s.visibleWrites,u);return bh(h)?o.getChild(i):ma(h,o.getChild(i))}}function ZC(s,t,i,r){const o=qe(t,i),u=_s(s.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(i)){const h=Ii(s.visibleWrites,o);return ma(h,r.getNode().getImmediateChild(i))}else return null}function WC(s,t){return _s(s.visibleWrites,t)}function JC(s,t,i,r,o,u,h){let p;const m=Ii(s.visibleWrites,t),g=_s(m,ve());if(g!=null)p=g;else if(i!=null)p=ma(m,i);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const v=[],y=h.getCompare(),b=u?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let U=b.getNext();for(;U&&v.length<o;)y(U,r)!==0&&v.push(U),U=b.getNext();return v}else return[]}function $C(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function zo(s,t,i,r){return p0(s.writeTree,s.treePath,t,i,r)}function Jh(s,t){return KC(s.writeTree,s.treePath,t)}function Ay(s,t,i,r){return XC(s.writeTree,s.treePath,t,i,r)}function jo(s,t){return WC(s.writeTree,qe(s.treePath,t))}function eA(s,t,i,r,o,u){return JC(s.writeTree,s.treePath,t,i,r,o,u)}function $h(s,t,i){return ZC(s.writeTree,s.treePath,t,i)}function g0(s,t){return _0(qe(s.treePath,t),s.writeTree)}function _0(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,r=t.childName;z(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),z(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,Ur(r,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,Lr(r,o.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,ha(r,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,Ur(r,t.snapshotNode,o.oldSnap));else throw _a("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{getCompleteChild(t){return null}getChildAfterChild(t,i,r){return null}}const y0=new nA;class ed{constructor(t,i,r=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ki(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $h(this.writes_,t,r)}}getChildAfterChild(t,i,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:us(this.viewCache_),u=eA(this.writes_,o,i,1,r,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(s){return{filter:s}}function sA(s,t){z(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),z(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function aA(s,t,i,r,o){const u=new tA;let h,p;if(i.type===fn.OVERWRITE){const g=i;g.source.fromUser?h=Sh(s,t,g.path,g.snap,r,o,u):(z(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!fe(g.path),h=Ho(s,t,g.path,g.snap,r,o,p,u))}else if(i.type===fn.MERGE){const g=i;g.source.fromUser?h=lA(s,t,g.path,g.children,r,o,u):(z(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),h=Eh(s,t,g.path,g.children,r,o,p,u))}else if(i.type===fn.ACK_USER_WRITE){const g=i;g.revert?h=uA(s,t,g.path,r,o,u):h=oA(s,t,g.path,g.affectedTree,r,o,u)}else if(i.type===fn.LISTEN_COMPLETE)h=cA(s,t,i.path,r,u);else throw _a("Unknown operation type: "+i.type);const m=u.getChanges();return rA(t,h,m),{viewCache:h,changes:m}}function rA(s,t,i){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Uo(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(u0(Uo(t)))}}function v0(s,t,i,r,o,u){const h=t.eventCache;if(jo(r,i)!=null)return t;{let p,m;if(fe(i))if(z(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=us(t),v=g instanceof Z?g:Z.EMPTY_NODE,y=Jh(r,v);p=s.filter.updateFullNode(t.eventCache.getNode(),y,u)}else{const g=zo(r,us(t));p=s.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=re(i);if(g===".priority"){z(Mi(i)===1,"Can't have a priority with additional path components");const v=h.getNode();m=t.serverCache.getNode();const y=Ay(r,i,v,m);y!=null?p=s.filter.updatePriority(v,y):p=h.getNode()}else{const v=ke(i);let y;if(h.isCompleteForChild(g)){m=t.serverCache.getNode();const b=Ay(r,i,h.getNode(),m);b!=null?y=h.getNode().getImmediateChild(g).updateChild(v,b):y=h.getNode().getImmediateChild(g)}else y=$h(r,g,t.serverCache);y!=null?p=s.filter.updateChild(h.getNode(),g,y,v,o,u):p=h.getNode()}}return Nr(t,p,h.isFullyInitialized()||fe(i),s.filter.filtersNodes())}}function Ho(s,t,i,r,o,u,h,p){const m=t.serverCache;let g;const v=h?s.filter:s.filter.getIndexedFilter();if(fe(i))g=v.updateFullNode(m.getNode(),r,null);else if(v.filtersNodes()&&!m.isFiltered()){const U=m.getNode().updateChild(i,r);g=v.updateFullNode(m.getNode(),U,null)}else{const U=re(i);if(!m.isCompleteForPath(i)&&Mi(i)>1)return t;const L=ke(i),X=m.getNode().getImmediateChild(U).updateChild(L,r);U===".priority"?g=v.updatePriority(m.getNode(),X):g=v.updateChild(m.getNode(),U,X,L,y0,null)}const y=h0(t,g,m.isFullyInitialized()||fe(i),v.filtersNodes()),b=new ed(o,y,u);return v0(s,y,i,o,b,p)}function Sh(s,t,i,r,o,u,h){const p=t.eventCache;let m,g;const v=new ed(o,t,u);if(fe(i))g=s.filter.updateFullNode(t.eventCache.getNode(),r,h),m=Nr(t,g,!0,s.filter.filtersNodes());else{const y=re(i);if(y===".priority")g=s.filter.updatePriority(t.eventCache.getNode(),r),m=Nr(t,g,p.isFullyInitialized(),p.isFiltered());else{const b=ke(i),U=p.getNode().getImmediateChild(y);let L;if(fe(b))L=r;else{const q=v.getCompleteChild(y);q!=null?Gh(b)===".priority"&&q.getChild(i0(b)).isEmpty()?L=q:L=q.updateChild(b,r):L=Z.EMPTY_NODE}if(U.equals(L))m=t;else{const q=s.filter.updateChild(p.getNode(),y,L,b,v,h);m=Nr(t,q,p.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function Ny(s,t){return s.eventCache.isCompleteForChild(t)}function lA(s,t,i,r,o,u,h){let p=t;return r.foreach((m,g)=>{const v=qe(i,m);Ny(t,re(v))&&(p=Sh(s,p,v,g,o,u,h))}),r.foreach((m,g)=>{const v=qe(i,m);Ny(t,re(v))||(p=Sh(s,p,v,g,o,u,h))}),p}function xy(s,t,i){return i.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function Eh(s,t,i,r,o,u,h,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;fe(i)?g=r:g=new Me(null).setTree(i,r);const v=t.serverCache.getNode();return g.children.inorderTraversal((y,b)=>{if(v.hasChild(y)){const U=t.serverCache.getNode().getImmediateChild(y),L=xy(s,U,b);m=Ho(s,m,new Oe(y),L,o,u,h,p)}}),g.children.inorderTraversal((y,b)=>{const U=!t.serverCache.isCompleteForChild(y)&&b.value===null;if(!v.hasChild(y)&&!U){const L=t.serverCache.getNode().getImmediateChild(y),q=xy(s,L,b);m=Ho(s,m,new Oe(y),q,o,u,h,p)}}),m}function oA(s,t,i,r,o,u,h){if(jo(o,i)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(r.value!=null){if(fe(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return Ho(s,t,i,m.getNode().getChild(i),o,u,p,h);if(fe(i)){let g=new Me(null);return m.getNode().forEachChild(aa,(v,y)=>{g=g.set(new Oe(v),y)}),Eh(s,t,i,g,o,u,p,h)}else return t}else{let g=new Me(null);return r.foreach((v,y)=>{const b=qe(i,v);m.isCompleteForPath(b)&&(g=g.set(v,m.getNode().getChild(b)))}),Eh(s,t,i,g,o,u,p,h)}}function cA(s,t,i,r,o){const u=t.serverCache,h=h0(t,u.getNode(),u.isFullyInitialized()||fe(i),u.isFiltered());return v0(s,h,i,r,y0,o)}function uA(s,t,i,r,o,u){let h;if(jo(r,i)!=null)return t;{const p=new ed(r,t,o),m=t.eventCache.getNode();let g;if(fe(i)||re(i)===".priority"){let v;if(t.serverCache.isFullyInitialized())v=zo(r,us(t));else{const y=t.serverCache.getNode();z(y instanceof Z,"serverChildren would be complete if leaf node"),v=Jh(r,y)}v=v,g=s.filter.updateFullNode(m,v,u)}else{const v=re(i);let y=$h(r,v,t.serverCache);y==null&&t.serverCache.isCompleteForChild(v)&&(y=m.getImmediateChild(v)),y!=null?g=s.filter.updateChild(m,v,y,ke(i),p,u):t.eventCache.getNode().hasChild(v)?g=s.filter.updateChild(m,v,Z.EMPTY_NODE,ke(i),p,u):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=zo(r,us(t)),h.isLeafNode()&&(g=s.filter.updateFullNode(g,h,u)))}return h=t.serverCache.isFullyInitialized()||jo(r,ve())!=null,Nr(t,g,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Qh(r.getIndex()),u=RC(r);this.processor_=iA(u);const h=i.serverCache,p=i.eventCache,m=o.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),g=u.updateFullNode(Z.EMPTY_NODE,p.getNode(),null),v=new ki(m,h.isFullyInitialized(),o.filtersNodes()),y=new ki(g,p.isFullyInitialized(),u.filtersNodes());this.viewCache_=tc(y,v),this.eventGenerator_=new UC(this.query_)}get query(){return this.query_}}function hA(s){return s.viewCache_.serverCache.getNode()}function dA(s){return Uo(s.viewCache_)}function mA(s,t){const i=us(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!fe(t)&&!i.getImmediateChild(re(t)).isEmpty())?i.getChild(t):null}function Ry(s){return s.eventRegistrations_.length===0}function pA(s,t){s.eventRegistrations_.push(t)}function Iy(s,t,i){const r=[];if(i){z(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(i,o);h&&r.push(h)})}if(t){let o=[];for(let u=0;u<s.eventRegistrations_.length;++u){const h=s.eventRegistrations_[u];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function Oy(s,t,i,r){t.type===fn.MERGE&&t.source.queryId!==null&&(z(us(s.viewCache_),"We should always have a full cache before handling merges"),z(Uo(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,u=aA(s.processor_,o,t,i,r);return sA(s.processor_,u.viewCache),z(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,b0(s,u.changes,u.viewCache.eventCache.getNode(),null)}function gA(s,t){const i=s.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ge,(u,h)=>{r.push(ha(u,h))}),i.isFullyInitialized()&&r.push(u0(i.getNode())),b0(s,r,i.getNode(),t)}function b0(s,t,i,r){const o=r?[r]:s.eventRegistrations_;return zC(s.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;class S0{constructor(){this.views=new Map}}function _A(s){z(!Bo,"__referenceConstructor has already been defined"),Bo=s}function yA(){return z(Bo,"Reference.ts has not been loaded"),Bo}function vA(s){return s.views.size===0}function td(s,t,i,r){const o=t.source.queryId;if(o!==null){const u=s.views.get(o);return z(u!=null,"SyncTree gave us an op for an invalid query."),Oy(u,t,i,r)}else{let u=[];for(const h of s.views.values())u=u.concat(Oy(h,t,i,r));return u}}function E0(s,t,i,r,o){const u=t._queryIdentifier,h=s.views.get(u);if(!h){let p=zo(i,o?r:null),m=!1;p?m=!0:r instanceof Z?(p=Jh(i,r),m=!1):(p=Z.EMPTY_NODE,m=!1);const g=tc(new ki(p,m,!1),new ki(r,o,!1));return new fA(t,g)}return h}function bA(s,t,i,r,o,u){const h=E0(s,t,r,o,u);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),pA(h,i),gA(h,i)}function SA(s,t,i,r){const o=t._queryIdentifier,u=[];let h=[];const p=Li(s);if(o==="default")for(const[m,g]of s.views.entries())h=h.concat(Iy(g,i,r)),Ry(g)&&(s.views.delete(m),g.query._queryParams.loadsAllData()||u.push(g.query));else{const m=s.views.get(o);m&&(h=h.concat(Iy(m,i,r)),Ry(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return p&&!Li(s)&&u.push(new(yA())(t._repo,t._path)),{removed:u,events:h}}function T0(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Oi(s,t){let i=null;for(const r of s.views.values())i=i||mA(r,t);return i}function w0(s,t){if(t._queryParams.loadsAllData())return ic(s);{const r=t._queryIdentifier;return s.views.get(r)}}function C0(s,t){return w0(s,t)!=null}function Li(s){return ic(s)!=null}function ic(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po;function EA(s){z(!Po,"__referenceConstructor has already been defined"),Po=s}function TA(){return z(Po,"Reference.ts has not been loaded"),Po}let wA=1;class Dy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Me(null),this.pendingWriteTree_=$C(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function A0(s,t,i,r,o){return PC(s.pendingWriteTree_,t,i,r,o),o?Ea(s,new cs(Xh(),t,i)):[]}function CA(s,t,i,r){qC(s.pendingWriteTree_,t,i,r);const o=Me.fromObject(i);return Ea(s,new da(Xh(),t,o))}function Ni(s,t,i=!1){const r=GC(s.pendingWriteTree_,t);if(VC(s.pendingWriteTree_,t)){let u=new Me(null);return r.snap!=null?u=u.set(ve(),!0):dt(r.children,h=>{u=u.set(new Oe(h),!0)}),Ea(s,new Lo(r.path,u,i))}else return[]}function Qr(s,t,i){return Ea(s,new cs(Zh(),t,i))}function AA(s,t,i){const r=Me.fromObject(i);return Ea(s,new da(Zh(),t,r))}function NA(s,t){return Ea(s,new jr(Zh(),t))}function xA(s,t,i){const r=id(s,i);if(r){const o=sd(r),u=o.path,h=o.queryId,p=yt(u,t),m=new jr(Wh(h),p);return ad(s,u,m)}else return[]}function qo(s,t,i,r,o=!1){const u=t._path,h=s.syncPointTree_.get(u);let p=[];if(h&&(t._queryIdentifier==="default"||C0(h,t))){const m=SA(h,t,i,r);vA(h)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const g=m.removed;if(p=m.events,!o){const v=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,y=s.syncPointTree_.findOnPath(u,(b,U)=>Li(U));if(v&&!y){const b=s.syncPointTree_.subtree(u);if(!b.isEmpty()){const U=OA(b);for(let L=0;L<U.length;++L){const q=U[L],X=q.query,te=I0(s,q);s.listenProvider_.startListening(Rr(X),Hr(s,X),te.hashFn,te.onComplete)}}}!y&&g.length>0&&!r&&(v?s.listenProvider_.stopListening(Rr(t),null):g.forEach(b=>{const U=s.queryToTagMap.get(sc(b));s.listenProvider_.stopListening(Rr(b),U)}))}DA(s,g)}return p}function N0(s,t,i,r){const o=id(s,r);if(o!=null){const u=sd(o),h=u.path,p=u.queryId,m=yt(h,t),g=new cs(Wh(p),m,i);return ad(s,h,g)}else return[]}function RA(s,t,i,r){const o=id(s,r);if(o){const u=sd(o),h=u.path,p=u.queryId,m=yt(h,t),g=Me.fromObject(i),v=new da(Wh(p),m,g);return ad(s,h,v)}else return[]}function Th(s,t,i,r=!1){const o=t._path;let u=null,h=!1;s.syncPointTree_.foreachOnPath(o,(b,U)=>{const L=yt(b,o);u=u||Oi(U,L),h=h||Li(U)});let p=s.syncPointTree_.get(o);p?(h=h||Li(p),u=u||Oi(p,ve())):(p=new S0,s.syncPointTree_=s.syncPointTree_.set(o,p));let m;u!=null?m=!0:(m=!1,u=Z.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((U,L)=>{const q=Oi(L,ve());q&&(u=u.updateImmediateChild(U,q))}));const g=C0(p,t);if(!g&&!t._queryParams.loadsAllData()){const b=sc(t);z(!s.queryToTagMap.has(b),"View does not exist, but we have a tag");const U=MA();s.queryToTagMap.set(b,U),s.tagToQueryMap.set(U,b)}const v=nc(s.pendingWriteTree_,o);let y=bA(p,t,i,v,u,m);if(!g&&!h&&!r){const b=w0(p,t);y=y.concat(kA(s,t,b))}return y}function nd(s,t,i){const o=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(t,(h,p)=>{const m=yt(h,t),g=Oi(p,m);if(g)return g});return p0(o,t,u,i,!0)}function IA(s,t){const i=t._path;let r=null;s.syncPointTree_.foreachOnPath(i,(g,v)=>{const y=yt(g,i);r=r||Oi(v,y)});let o=s.syncPointTree_.get(i);o?r=r||Oi(o,ve()):(o=new S0,s.syncPointTree_=s.syncPointTree_.set(i,o));const u=r!=null,h=u?new ki(r,!0,!1):null,p=nc(s.pendingWriteTree_,t._path),m=E0(o,t,p,u?h.getNode():Z.EMPTY_NODE,u);return dA(m)}function Ea(s,t){return x0(t,s.syncPointTree_,null,nc(s.pendingWriteTree_,ve()))}function x0(s,t,i,r){if(fe(s.path))return R0(s,t,i,r);{const o=t.get(ve());i==null&&o!=null&&(i=Oi(o,ve()));let u=[];const h=re(s.path),p=s.operationForChild(h),m=t.children.get(h);if(m&&p){const g=i?i.getImmediateChild(h):null,v=g0(r,h);u=u.concat(x0(p,m,g,v))}return o&&(u=u.concat(td(o,s,r,i))),u}}function R0(s,t,i,r){const o=t.get(ve());i==null&&o!=null&&(i=Oi(o,ve()));let u=[];return t.children.inorderTraversal((h,p)=>{const m=i?i.getImmediateChild(h):null,g=g0(r,h),v=s.operationForChild(h);v&&(u=u.concat(R0(v,p,m,g)))}),o&&(u=u.concat(td(o,s,r,i))),u}function I0(s,t){const i=t.query,r=Hr(s,i);return{hashFn:()=>(hA(t)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?xA(s,i._path,r):NA(s,i._path);{const u=Nw(o,i);return qo(s,i,null,u)}}}}function Hr(s,t){const i=sc(t);return s.queryToTagMap.get(i)}function sc(s){return s._path.toString()+"$"+s._queryIdentifier}function id(s,t){return s.tagToQueryMap.get(t)}function sd(s){const t=s.indexOf("$");return z(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Oe(s.substr(0,t))}}function ad(s,t,i){const r=s.syncPointTree_.get(t);z(r,"Missing sync point for query tag that we're tracking");const o=nc(s.pendingWriteTree_,t);return td(r,i,o,null)}function OA(s){return s.fold((t,i,r)=>{if(i&&Li(i))return[ic(i)];{let o=[];return i&&(o=T0(i)),dt(r,(u,h)=>{o=o.concat(h)}),o}})}function Rr(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(TA())(s._repo,s._path):s}function DA(s,t){for(let i=0;i<t.length;++i){const r=t[i];if(!r._queryParams.loadsAllData()){const o=sc(r),u=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(u)}}}function MA(){return wA++}function kA(s,t,i){const r=t._path,o=Hr(s,t),u=I0(s,i),h=s.listenProvider_.startListening(Rr(t),o,u.hashFn,u.onComplete),p=s.syncPointTree_.subtree(r);if(o)z(!Li(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((g,v,y)=>{if(!fe(g)&&v&&Li(v))return[ic(v).query];{let b=[];return v&&(b=b.concat(T0(v).map(U=>U.query))),dt(y,(U,L)=>{b=b.concat(L)}),b}});for(let g=0;g<m.length;++g){const v=m[g];s.listenProvider_.stopListening(Rr(v),Hr(s,v))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new rd(i)}node(){return this.node_}}class ld{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=qe(this.path_,t);return new ld(this.syncTree_,i)}node(){return nd(this.syncTree_,this.path_)}}const LA=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},My=function(s,t,i){if(!s||typeof s!="object")return s;if(z(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return UA(s[".sv"],t,i);if(typeof s[".sv"]=="object")return zA(s[".sv"],t);z(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},UA=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:z(!1,"Unexpected server value: "+s)}},zA=function(s,t,i){s.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&z(!1,"Unexpected increment value: "+r);const o=t.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},O0=function(s,t,i,r){return od(t,new ld(i,s),r)},D0=function(s,t,i){return od(s,new rd(t),i)};function od(s,t,i){const r=s.getPriority().val(),o=My(r,t.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const h=s,p=My(h.getValue(),t,i);return p!==h.getValue()||o!==h.getPriority().val()?new st(p,$e(o)):s}else{const h=s;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new st(o))),h.forEachChild(Ge,(p,m)=>{const g=od(m,t.getImmediateChild(p),i);g!==m&&(u=u.updateImmediateChild(p,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t="",i=null,r={children:{},childCount:0}){this.name=t,this.parent=i,this.node=r}}function ud(s,t){let i=t instanceof Oe?t:new Oe(t),r=s,o=re(i);for(;o!==null;){const u=ua(r.node.children,o)||{children:{},childCount:0};r=new cd(o,r,u),i=ke(i),o=re(i)}return r}function Ta(s){return s.node.value}function M0(s,t){s.node.value=t,wh(s)}function k0(s){return s.node.childCount>0}function jA(s){return Ta(s)===void 0&&!k0(s)}function ac(s,t){dt(s.node.children,(i,r)=>{t(new cd(i,s,r))})}function L0(s,t,i,r){i&&t(s),ac(s,o=>{L0(o,t,!0)})}function HA(s,t,i){let r=s.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Kr(s){return new Oe(s.parent===null?s.name:Kr(s.parent)+"/"+s.name)}function wh(s){s.parent!==null&&BA(s.parent,s.name,s)}function BA(s,t,i){const r=jA(i),o=wn(s.node.children,t);r&&o?(delete s.node.children[t],s.node.childCount--,wh(s)):!r&&!o&&(s.node.children[t]=i.node,s.node.childCount++,wh(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=/[\[\].#$\/\u0000-\u001F\u007F]/,qA=/[\[\].#$\u0000-\u001F\u007F]/,eh=10*1024*1024,fd=function(s){return typeof s=="string"&&s.length!==0&&!PA.test(s)},U0=function(s){return typeof s=="string"&&s.length!==0&&!qA.test(s)},GA=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),U0(s)},VA=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!jh(s)||s&&typeof s=="object"&&wn(s,".sv")},z0=function(s,t,i,r){r&&t===void 0||rc(Wo(s,"value"),t,i)},rc=function(s,t,i){const r=i instanceof Oe?new lC(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+is(r));if(typeof t=="function")throw new Error(s+"contains a function "+is(r)+" with contents = "+t.toString());if(jh(t))throw new Error(s+"contains "+t.toString()+" "+is(r));if(typeof t=="string"&&t.length>eh/3&&Jo(t)>eh)throw new Error(s+"contains a string greater than "+eh+" utf8 bytes "+is(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,u=!1;if(dt(t,(h,p)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!fd(h)))throw new Error(s+" contains an invalid key ("+h+") "+is(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oC(r,h),rc(s,p,r),cC(r)}),o&&u)throw new Error(s+' contains ".value" child '+is(r)+" in addition to actual children.")}},YA=function(s,t){let i,r;for(i=0;i<t.length;i++){r=t[i];const u=kr(r);for(let h=0;h<u.length;h++)if(!(u[h]===".priority"&&h===u.length-1)){if(!fd(u[h]))throw new Error(s+"contains an invalid key ("+u[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(rC);let o=null;for(i=0;i<t.length;i++){if(r=t[i],o!==null&&nn(o,r))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},FA=function(s,t,i,r){const o=Wo(s,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const u=[];dt(t,(h,p)=>{const m=new Oe(h);if(rc(o,p,qe(i,m)),Gh(m)===".priority"&&!VA(p))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(m)}),YA(o,u)},j0=function(s,t,i,r){if(!U0(i))throw new Error(Wo(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QA=function(s,t,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),j0(s,t,i)},hd=function(s,t){if(re(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},KA=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!fd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!GA(i))throw new Error(Wo(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lc(s,t){let i=null;for(let r=0;r<t.length;r++){const o=t[r],u=o.getPath();i!==null&&!Vh(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(o)}i&&s.eventLists_.push(i)}function H0(s,t,i){lc(s,i),B0(s,r=>Vh(r,t))}function an(s,t,i){lc(s,i),B0(s,r=>nn(r,t)||nn(t,r))}function B0(s,t){s.recursionDepth_++;let i=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const u=o.path;t(u)?(ZA(s.eventLists_[r]),s.eventLists_[r]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function ZA(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const r=i.getEventRunner();Cr&&ht("event: "+i.toString()),Sa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="repo_interrupt",JA=25;class $A{constructor(t,i,r,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ko(),this.transactionQueueTree_=new cd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function eN(s,t,i){if(s.stats_=Ph(s.repoInfo_),s.forceRestClient_||Ow())s.server_=new Mo(s.repoInfo_,(r,o,u,h)=>{ky(s,r,o,u,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Ly(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Qn(s.repoInfo_,t,(r,o,u,h)=>{ky(s,r,o,u,h)},r=>{Ly(s,r)},r=>{tN(s,r)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=Uw(s.repoInfo_,()=>new LC(s.stats_,s.server_)),s.infoData_=new IC,s.infoSyncTree_=new Dy({startListening:(r,o,u,h)=>{let p=[];const m=s.infoData_.getNode(r._path);return m.isEmpty()||(p=Qr(s.infoSyncTree_,r._path,m),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),dd(s,"connected",!1),s.serverSyncTree_=new Dy({startListening:(r,o,u,h)=>(s.server_.listen(r,u,o,(p,m)=>{const g=h(p,m);an(s.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function P0(s){const i=s.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function oc(s){return LA({timestamp:P0(s)})}function ky(s,t,i,r,o){s.dataUpdateCount++;const u=new Oe(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(r){const m=xo(i,g=>$e(g));h=RA(s.serverSyncTree_,u,m,o)}else{const m=$e(i);h=N0(s.serverSyncTree_,u,m,o)}else if(r){const m=xo(i,g=>$e(g));h=AA(s.serverSyncTree_,u,m)}else{const m=$e(i);h=Qr(s.serverSyncTree_,u,m)}let p=u;h.length>0&&(p=pa(s,u)),an(s.eventQueue_,p,h)}function Ly(s,t){dd(s,"connected",t),t===!1&&aN(s)}function tN(s,t){dt(t,(i,r)=>{dd(s,i,r)})}function dd(s,t,i){const r=new Oe("/.info/"+t),o=$e(i);s.infoData_.updateSnapshot(r,o);const u=Qr(s.infoSyncTree_,r,o);an(s.eventQueue_,r,u)}function md(s){return s.nextWriteId_++}function nN(s,t,i){const r=IA(s.serverSyncTree_,t);return r!=null?Promise.resolve(r):s.server_.get(t).then(o=>{const u=$e(o).withIndex(t._queryParams.getIndex());Th(s.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Qr(s.serverSyncTree_,t._path,u);else{const p=Hr(s.serverSyncTree_,t);h=N0(s.serverSyncTree_,t._path,u,p)}return an(s.eventQueue_,t._path,h),qo(s.serverSyncTree_,t,i,null,!0),u},o=>(Xr(s,"get for query "+et(t)+" failed: "+o),Promise.reject(new Error(o))))}function iN(s,t,i,r,o){Xr(s,"set",{path:t.toString(),value:i,priority:r});const u=oc(s),h=$e(i,r),p=nd(s.serverSyncTree_,t),m=D0(h,p,u),g=md(s),v=A0(s.serverSyncTree_,t,m,g,!0);lc(s.eventQueue_,v),s.server_.put(t.toString(),h.val(!0),(b,U)=>{const L=b==="ok";L||vt("set at "+t+" failed: "+b);const q=Ni(s.serverSyncTree_,g,!L);an(s.eventQueue_,t,q),Ch(s,o,b,U)});const y=gd(s,t);pa(s,y),an(s.eventQueue_,y,[])}function sN(s,t,i,r){Xr(s,"update",{path:t.toString(),value:i});let o=!0;const u=oc(s),h={};if(dt(i,(p,m)=>{o=!1,h[p]=O0(qe(t,p),$e(m),s.serverSyncTree_,u)}),o)ht("update() called with empty data.  Don't do anything."),Ch(s,r,"ok",void 0);else{const p=md(s),m=CA(s.serverSyncTree_,t,h,p);lc(s.eventQueue_,m),s.server_.merge(t.toString(),i,(g,v)=>{const y=g==="ok";y||vt("update at "+t+" failed: "+g);const b=Ni(s.serverSyncTree_,p,!y),U=b.length>0?pa(s,t):t;an(s.eventQueue_,U,b),Ch(s,r,g,v)}),dt(i,g=>{const v=gd(s,qe(t,g));pa(s,v)}),an(s.eventQueue_,t,[])}}function aN(s){Xr(s,"onDisconnectEvents");const t=oc(s),i=ko();_h(s.onDisconnect_,ve(),(o,u)=>{const h=O0(o,u,s.serverSyncTree_,t);f0(i,o,h)});let r=[];_h(i,ve(),(o,u)=>{r=r.concat(Qr(s.serverSyncTree_,o,u));const h=gd(s,o);pa(s,h)}),s.onDisconnect_=ko(),an(s.eventQueue_,ve(),r)}function rN(s,t,i){let r;re(t._path)===".info"?r=Th(s.infoSyncTree_,t,i):r=Th(s.serverSyncTree_,t,i),H0(s.eventQueue_,t._path,r)}function lN(s,t,i){let r;re(t._path)===".info"?r=qo(s.infoSyncTree_,t,i):r=qo(s.serverSyncTree_,t,i),H0(s.eventQueue_,t._path,r)}function oN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(WA)}function Xr(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),ht(i,...t)}function Ch(s,t,i,r){t&&Sa(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let u=o;r&&(u+=": "+r);const h=new Error(u);h.code=o,t(h)}})}function q0(s,t,i){return nd(s.serverSyncTree_,t,i)||Z.EMPTY_NODE}function pd(s,t=s.transactionQueueTree_){if(t||cc(s,t),Ta(t)){const i=V0(s,t);z(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&cN(s,Kr(t),i)}else k0(t)&&ac(t,i=>{pd(s,i)})}function cN(s,t,i){const r=i.map(g=>g.currentWriteId),o=q0(s,t,r);let u=o;const h=o.hash();for(let g=0;g<i.length;g++){const v=i[g];z(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=yt(t,v.path);u=u.updateChild(y,v.currentOutputSnapshotRaw)}const p=u.val(!0),m=t;s.server_.put(m.toString(),p,g=>{Xr(s,"transaction put response",{path:m.toString(),status:g});let v=[];if(g==="ok"){const y=[];for(let b=0;b<i.length;b++)i[b].status=2,v=v.concat(Ni(s.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&y.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();cc(s,ud(s.transactionQueueTree_,t)),pd(s,s.transactionQueueTree_),an(s.eventQueue_,t,v);for(let b=0;b<y.length;b++)Sa(y[b])}else{if(g==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{vt("transaction at "+m.toString()+" failed: "+g);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=g}pa(s,t)}},h)}function pa(s,t){const i=G0(s,t),r=Kr(i),o=V0(s,i);return uN(s,o,r),r}function uN(s,t,i){if(t.length===0)return;const r=[];let o=[];const h=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=yt(i,m.path);let v=!1,y;if(z(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)v=!0,y=m.abortReason,o=o.concat(Ni(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=JA)v=!0,y="maxretry",o=o.concat(Ni(s.serverSyncTree_,m.currentWriteId,!0));else{const b=q0(s,m.path,h);m.currentInputSnapshot=b;const U=t[p].update(b.val());if(U!==void 0){rc("transaction failed: Data returned ",U,m.path);let L=$e(U);typeof U=="object"&&U!=null&&wn(U,".priority")||(L=L.updatePriority(b.getPriority()));const X=m.currentWriteId,te=oc(s),se=D0(L,b,te);m.currentOutputSnapshotRaw=L,m.currentOutputSnapshotResolved=se,m.currentWriteId=md(s),h.splice(h.indexOf(X),1),o=o.concat(A0(s.serverSyncTree_,m.path,se,m.currentWriteId,m.applyLocally)),o=o.concat(Ni(s.serverSyncTree_,X,!0))}else v=!0,y="nodata",o=o.concat(Ni(s.serverSyncTree_,m.currentWriteId,!0))}an(s.eventQueue_,i,o),o=[],v&&(t[p].status=2,(function(b){setTimeout(b,Math.floor(0))})(t[p].unwatcher),t[p].onComplete&&(y==="nodata"?r.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):r.push(()=>t[p].onComplete(new Error(y),!1,null))))}cc(s,s.transactionQueueTree_);for(let p=0;p<r.length;p++)Sa(r[p]);pd(s,s.transactionQueueTree_)}function G0(s,t){let i,r=s.transactionQueueTree_;for(i=re(t);i!==null&&Ta(r)===void 0;)r=ud(r,i),t=ke(t),i=re(t);return r}function V0(s,t){const i=[];return Y0(s,t,i),i.sort((r,o)=>r.order-o.order),i}function Y0(s,t,i){const r=Ta(t);if(r)for(let o=0;o<r.length;o++)i.push(r[o]);ac(t,o=>{Y0(s,o,i)})}function cc(s,t){const i=Ta(t);if(i){let r=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[r]=i[o],r++);i.length=r,M0(t,i.length>0?i:void 0)}ac(t,r=>{cc(s,r)})}function gd(s,t){const i=Kr(G0(s,t)),r=ud(s.transactionQueueTree_,t);return HA(r,o=>{th(s,o)}),th(s,r),L0(r,o=>{th(s,o)}),i}function th(s,t){const i=Ta(t);if(i){const r=[];let o=[],u=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(z(u===h-1,"All SENT items should be at beginning of queue."),u=h,i[h].status=3,i[h].abortReason="set"):(z(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Ni(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&r.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?M0(t,void 0):i.length=u+1,an(s.eventQueue_,Kr(t),o);for(let h=0;h<r.length;h++)Sa(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(s){let t="";const i=s.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let o=i[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function hN(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${i}' in query '${s}'`)}return t}const Uy=function(s,t){const i=dN(s),r=i.namespace;i.domain==="firebase.com"&&Xn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Ew();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Kv(i.host,i.secure,r,o,t,"",r!==i.subdomain),path:new Oe(i.pathString)}},dN=function(s){let t="",i="",r="",o="",u="",h=!0,p="https",m=443;if(typeof s=="string"){let g=s.indexOf("//");g>=0&&(p=s.substring(0,g-1),s=s.substring(g+2));let v=s.indexOf("/");v===-1&&(v=s.length);let y=s.indexOf("?");y===-1&&(y=s.length),t=s.substring(0,Math.min(v,y)),v<y&&(o=fN(s.substring(v,y)));const b=hN(s.substring(Math.min(s.length,y)));g=t.indexOf(":"),g>=0?(h=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const U=t.slice(0,g);if(U.toLowerCase()==="localhost")i="localhost";else if(U.split(".").length<=2)i=U;else{const L=t.indexOf(".");r=t.substring(0,L).toLowerCase(),i=t.substring(L+1),u=r}"ns"in b&&(u=b.ns)}return{host:t,port:m,domain:i,subdomain:r,secure:h,scheme:p,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mN=(function(){let s=0;const t=[];return function(i){const r=i===s;s=i;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=zy.charAt(i%64),i=Math.floor(i/64);z(i===0,"Cannot push at time == 0");let h=u.join("");if(r){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=zy.charAt(t[o]);return z(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t,i,r,o){this.eventType=t,this.eventRegistration=i,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class gN{constructor(t,i,r){this.eventRegistration=t,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,i,r,o){this._repo=t,this._path=i,this._queryParams=r,this._orderByCalled=o}get key(){return fe(this._path)?null:Gh(this._path)}get ref(){return new Wn(this._repo,this._path)}get _queryIdentifier(){const t=Ey(this._queryParams),i=Hh(t);return i==="{}"?"default":i}get _queryObject(){return Ey(this._queryParams)}isEqual(t){if(t=rt(t),!(t instanceof _d))return!1;const i=this._repo===t._repo,r=Vh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+aC(this._path)}}class Wn extends _d{constructor(t,i){super(t,i,new Kh,!1)}get parent(){const t=i0(this._path);return t===null?null:new Wn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Br{constructor(t,i,r){this._node=t,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Oe(t),r=Pr(this.ref,t);return new Br(this._node.getChild(i),r,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new Br(o,Pr(this.ref,r),Ge)))}hasChild(t){const i=new Oe(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gt(s,t){return s=rt(s),s._checkNotDeleted("ref"),t!==void 0?Pr(s._root,t):s._root}function Pr(s,t){return s=rt(s),re(s._path)===null?QA("child","path",t):j0("child","path",t),new Wn(s._repo,qe(s._path,t))}function Q0(s,t){s=rt(s),hd("push",s._path),z0("push",t,s._path,!0);const i=P0(s._repo),r=mN(i),o=Pr(s,r),u=Pr(s,r);let h;return h=Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function _N(s){return hd("remove",s._path),uc(s,null)}function uc(s,t){s=rt(s),hd("set",s._path),z0("set",t,s._path,!1);const i=new Gr;return iN(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}function Ah(s,t){FA("update",t,s._path);const i=new Gr;return sN(s._repo,s._path,t,i.wrapCallback(()=>{})),i.promise}function Ui(s){s=rt(s);const t=new F0(()=>{}),i=new fc(t);return nN(s._repo,s,i).then(r=>new Br(r,new Wn(s._repo,s._path),s._queryParams.getIndex()))}class fc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const r=i._queryParams.getIndex();return new pN("value",this,new Br(t.snapshotNode,new Wn(i._repo,i._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new gN(this,t,i):null}matches(t){return t instanceof fc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function yN(s,t,i,r,o){const u=new F0(i,void 0),h=new fc(u);return rN(s._repo,s,h),()=>lN(s._repo,s,h)}function K0(s,t,i,r){return yN(s,"value",t)}_A(Wn);EA(Wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="FIREBASE_DATABASE_EMULATOR_HOST",Nh={};let bN=!1;function SN(s,t,i,r){const o=t.lastIndexOf(":"),u=t.substring(0,o),h=ya(u);s.repoInfo_=new Kv(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(s.authTokenProvider_=r)}function EN(s,t,i,r,o){let u=r||s.options.databaseURL;u===void 0&&(s.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ht("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Uy(u,o),p=h.repoInfo,m;typeof process<"u"&&sy&&(m=sy[vN]),m?(u=`http://${m}?ns=${p.namespace}`,h=Uy(u,o),p=h.repoInfo):h.repoInfo.secure;const g=new Mw(s.name,s.options,t);KA("Invalid Firebase Database URL",h),fe(h.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=wN(p,s,g,new Dw(s,i));return new CN(v,s)}function TN(s,t){const i=Nh[t];(!i||i[s.key]!==s)&&Xn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),oN(s),delete i[s.key]}function wN(s,t,i,r){let o=Nh[t.name];o||(o={},Nh[t.name]=o);let u=o[s.toURLString()];return u&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new $A(s,bN,i,r),o[s.toURLString()]=u,u}class CN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wn(this._repo,ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xn("Cannot call "+t+" on a deleted database.")}}function AN(s=zh(),t){const i=ps(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const r=HT("database");r&&NN(i,...r)}return i}function NN(s,t,i,r={}){s=rt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Di(r,u.repoInfo_.emulatorOptions))return;Xn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new So(So.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:BT(r.mockUserToken,s.app.options.projectId);h=new So(p)}ya(t)&&(Sv(t),Ev("Database",!0)),SN(u,o,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(s){gw(ba),Sn(new pn("database",(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return EN(r,o,u,i)},"PUBLIC").setMultipleInstances(!0)),sn(ay,ry,s),sn(ay,ry,"esm2020")}Qn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};Qn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};xN();const X0="@firebase/installations",yd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=1e4,W0=`w:${yd}`,J0="FIS_v2",RN="https://firebaseinstallations.googleapis.com/v1",IN=3600*1e3,ON="installations",DN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fs=new ms(ON,DN,MN);function $0(s){return s instanceof Tn&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb({projectId:s}){return`${RN}/projects/${s}/installations`}function tb(s){return{token:s.token,requestStatus:2,expiresIn:LN(s.expiresIn),creationTime:Date.now()}}async function nb(s,t){const r=(await t.json()).error;return fs.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ib({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function kN(s,{refreshToken:t}){const i=ib(s);return i.append("Authorization",UN(t)),i}async function sb(s){const t=await s();return t.status>=500&&t.status<600?s():t}function LN(s){return Number(s.replace("s","000"))}function UN(s){return`${J0} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=eb(s),o=ib(s),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:i,authVersion:J0,appId:s.appId,sdkVersion:W0},p={method:"POST",headers:o,body:JSON.stringify(h)},m=await sb(()=>fetch(r,p));if(m.ok){const g=await m.json();return{fid:g.fid||i,registrationStatus:2,refreshToken:g.refreshToken,authToken:tb(g.authToken)}}else throw await nb("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(s){return new Promise(t=>{setTimeout(t,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=/^[cdef][\w-]{21}$/,xh="";function BN(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=PN(s);return HN.test(i)?i:xh}catch{return xh}}function PN(s){return jN(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Map;function lb(s,t){const i=hc(s);ob(i,t),qN(i,t)}function ob(s,t){const i=rb.get(s);if(i)for(const r of i)r(t)}function qN(s,t){const i=GN();i&&i.postMessage({key:s,fid:t}),VN()}let as=null;function GN(){return!as&&"BroadcastChannel"in self&&(as=new BroadcastChannel("[Firebase] FID Change"),as.onmessage=s=>{ob(s.data.key,s.data.fid)}),as}function VN(){rb.size===0&&as&&(as.close(),as=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebase-installations-database",FN=1,hs="firebase-installations-store";let nh=null;function vd(){return nh||(nh=Iv(YN,FN,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(hs)}}})),nh}async function Go(s,t){const i=hc(s),o=(await vd()).transaction(hs,"readwrite"),u=o.objectStore(hs),h=await u.get(i);return await u.put(t,i),await o.done,(!h||h.fid!==t.fid)&&lb(s,t.fid),t}async function cb(s){const t=hc(s),r=(await vd()).transaction(hs,"readwrite");await r.objectStore(hs).delete(t),await r.done}async function dc(s,t){const i=hc(s),o=(await vd()).transaction(hs,"readwrite"),u=o.objectStore(hs),h=await u.get(i),p=t(h);return p===void 0?await u.delete(i):await u.put(p,i),await o.done,p&&(!h||h.fid!==p.fid)&&lb(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(s){let t;const i=await dc(s.appConfig,r=>{const o=QN(r),u=KN(s,o);return t=u.registrationPromise,u.installationEntry});return i.fid===xh?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function QN(s){const t=s||{fid:BN(),registrationStatus:0};return ub(t)}function KN(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(fs.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=XN(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:ZN(s)}:{installationEntry:t}}async function XN(s,t){try{const i=await zN(s,t);return Go(s.appConfig,i)}catch(i){throw $0(i)&&i.customData.serverCode===409?await cb(s.appConfig):await Go(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function ZN(s){let t=await jy(s.appConfig);for(;t.registrationStatus===1;)await ab(100),t=await jy(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await bd(s);return r||i}return t}function jy(s){return dc(s,t=>{if(!t)throw fs.create("installation-not-found");return ub(t)})}function ub(s){return WN(s)?{fid:s.fid,registrationStatus:0}:s}function WN(s){return s.registrationStatus===1&&s.registrationTime+Z0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN({appConfig:s,heartbeatServiceProvider:t},i){const r=$N(s,i),o=kN(s,i),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:W0,appId:s.appId}},p={method:"POST",headers:o,body:JSON.stringify(h)},m=await sb(()=>fetch(r,p));if(m.ok){const g=await m.json();return tb(g)}else throw await nb("Generate Auth Token",m)}function $N(s,{fid:t}){return`${eb(s)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(s,t=!1){let i;const r=await dc(s.appConfig,u=>{if(!fb(u))throw fs.create("not-registered");const h=u.authToken;if(!t&&nx(h))return u;if(h.requestStatus===1)return i=ex(s,t),u;{if(!navigator.onLine)throw fs.create("app-offline");const p=sx(u);return i=tx(s,p),p}});return i?await i:r.authToken}async function ex(s,t){let i=await Hy(s.appConfig);for(;i.authToken.requestStatus===1;)await ab(100),i=await Hy(s.appConfig);const r=i.authToken;return r.requestStatus===0?Sd(s,t):r}function Hy(s){return dc(s,t=>{if(!fb(t))throw fs.create("not-registered");const i=t.authToken;return ax(i)?{...t,authToken:{requestStatus:0}}:t})}async function tx(s,t){try{const i=await JN(s,t),r={...t,authToken:i};return await Go(s.appConfig,r),i}catch(i){if($0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await cb(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Go(s.appConfig,r)}throw i}}function fb(s){return s!==void 0&&s.registrationStatus===2}function nx(s){return s.requestStatus===2&&!ix(s)}function ix(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+IN}function sx(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function ax(s){return s.requestStatus===1&&s.requestTime+Z0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(s){const t=s,{installationEntry:i,registrationPromise:r}=await bd(t);return r?r.catch(console.error):Sd(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(s,t=!1){const i=s;return await ox(i),(await Sd(i,t)).token}async function ox(s){const{registrationPromise:t}=await bd(s);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(s){if(!s||!s.options)throw ih("App Configuration");if(!s.name)throw ih("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw ih(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function ih(s){return fs.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="installations",ux="installations-internal",fx=s=>{const t=s.getProvider("app").getImmediate(),i=cx(t),r=ps(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},hx=s=>{const t=s.getProvider("app").getImmediate(),i=ps(t,hb).getImmediate();return{getId:()=>rx(i),getToken:o=>lx(i,o)}};function dx(){Sn(new pn(hb,fx,"PUBLIC")),Sn(new pn(ux,hx,"PRIVATE"))}dx();sn(X0,yd);sn(X0,yd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="analytics",mx="firebase_id",px="origin",gx=60*1e3,_x="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ed="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt=new $o("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qt=new ms("analytics","Analytics",yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(s){if(!s.startsWith(Ed)){const t=qt.create("invalid-gtag-resource",{gtagURL:s});return bt.warn(t.message),""}return s}function db(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function bx(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function Sx(s,t){const i=bx("firebase-js-sdk-policy",{createScriptURL:vx}),r=document.createElement("script"),o=`${Ed}?l=${s}&id=${t}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Ex(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function Tx(s,t,i,r,o,u){const h=r[o];try{if(h)await t[h];else{const m=(await db(i)).find(g=>g.measurementId===o);m&&await t[m.appId]}}catch(p){bt.error(p)}s("config",o,u)}async function wx(s,t,i,r,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const p=await db(i);for(const m of h){const g=p.find(y=>y.measurementId===m),v=g&&t[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),s("event",r,o||{})}catch(u){bt.error(u)}}function Cx(s,t,i,r){async function o(u,...h){try{if(u==="event"){const[p,m]=h;await wx(s,t,i,p,m)}else if(u==="config"){const[p,m]=h;await Tx(s,t,i,r,p,m)}else if(u==="consent"){const[p,m]=h;s("consent",p,m)}else if(u==="get"){const[p,m,g]=h;s("get",p,m,g)}else if(u==="set"){const[p]=h;s("set",p)}else s(u,...h)}catch(p){bt.error(p)}}return o}function Ax(s,t,i,r,o){let u=function(...h){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=Cx(u,s,t,i),{gtagCore:u,wrappedGtag:window[o]}}function Nx(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Ed)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=30,Rx=1e3;class Ix{constructor(t={},i=Rx){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const mb=new Ix;function Ox(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function Dx(s){var h;const{appId:t,apiKey:i}=s,r={method:"GET",headers:Ox(i)},o=_x.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let p="";try{const m=await u.json();(h=m.error)!=null&&h.message&&(p=m.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()}async function Mx(s,t=mb,i){const{appId:r,apiKey:o,measurementId:u}=s.options;if(!r)throw qt.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw qt.create("no-api-key")}const h=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Ux;return setTimeout(async()=>{p.abort()},gx),pb({appId:r,apiKey:o,measurementId:u},h,p,t)}async function pb(s,{throttleEndTimeMillis:t,backoffCount:i},r,o=mb){var p;const{appId:u,measurementId:h}=s;try{await kx(r,t)}catch(m){if(h)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:h};throw m}try{const m=await Dx(s);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!Lx(g)){if(o.deleteThrottleMetadata(u),h)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:u,measurementId:h};throw m}const v=Number((p=g==null?void 0:g.customData)==null?void 0:p.httpStatus)===503?X_(i,o.intervalMillis,xx):X_(i,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+v,backoffCount:i+1};return o.setThrottleMetadata(u,y),bt.debug(`Calling attemptFetch again in ${v} millis`),pb(s,y,r,o)}}function kx(s,t){return new Promise((i,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(i,o);s.addEventListener(()=>{clearTimeout(u),r(qt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Lx(s){if(!(s instanceof Tn)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class Ux{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function zx(s,t,i,r,o){if(o&&o.global){s("event",i,r);return}else{const u=await t,h={...r,send_to:u};s("event",i,h)}}async function jx(s,t,i,r){if(r&&r.global){const o={};for(const u of Object.keys(i))o[`user_properties.${u}`]=i[u];return s("set",o),Promise.resolve()}else{const o=await t;s("config",o,{update:!0,user_properties:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(){if(Cv())try{await Av()}catch(s){return bt.warn(qt.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return bt.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Bx(s,t,i,r,o,u,h){const p=Mx(s);p.then(b=>{i[b.measurementId]=b.appId,s.options.measurementId&&b.measurementId!==s.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>bt.error(b)),t.push(p);const m=Hx().then(b=>{if(b)return r.getId()}),[g,v]=await Promise.all([p,m]);Nx(u)||Sx(u,g.measurementId),o("js",new Date);const y=(h==null?void 0:h.config)??{};return y[px]="firebase",y.update=!0,v!=null&&(y[mx]=v),o("config",g.measurementId,y),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t){this.app=t}_delete(){return delete ra[this.app.options.appId],Promise.resolve()}}let ra={},By=[];const Py={};let sh="dataLayer",qx="gtag",qy,Td,Gy=!1;function Gx(){const s=[];if(Tv()&&s.push("This is a browser extension environment."),FT()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=qt.create("invalid-analytics-context",{errorInfo:t});bt.warn(i.message)}}function Vx(s,t,i){Gx();const r=s.options.appId;if(!r)throw qt.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qt.create("no-api-key");if(ra[r]!=null)throw qt.create("already-exists",{id:r});if(!Gy){Ex(sh);const{wrappedGtag:u,gtagCore:h}=Ax(ra,By,Py,sh,qx);Td=u,qy=h,Gy=!0}return ra[r]=Bx(s,By,Py,t,qy,sh,i),new Px(s)}function Yx(s=zh()){s=rt(s);const t=ps(s,Vo);return t.isInitialized()?t.getImmediate():Fx(s)}function Fx(s,t={}){const i=ps(s,Vo);if(i.isInitialized()){const o=i.getImmediate();if(Di(t,i.getOptions()))return o;throw qt.create("already-initialized")}return i.initialize({options:t})}function Qx(s,t,i){s=rt(s),jx(Td,ra[s.app.options.appId],t,i).catch(r=>bt.error(r))}function Kx(s,t,i,r){s=rt(s),zx(Td,ra[s.app.options.appId],t,i,r).catch(o=>bt.error(o))}const Vy="@firebase/analytics",Yy="0.10.19";function Xx(){Sn(new pn(Vo,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return Vx(r,o,i)},"PUBLIC")),Sn(new pn("analytics-internal",s,"PRIVATE")),sn(Vy,Yy),sn(Vy,Yy,"esm2020");function s(t){try{const i=t.getProvider(Vo).getImmediate();return{logEvent:(r,o,u)=>Kx(i,r,o,u),setUserProperties:(r,o)=>Qx(i,r,o)}}catch(i){throw qt.create("interop-component-reg-failed",{reason:i})}}}Xx();function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zx=gb,_b=new ms("auth","Firebase",gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new $o("@firebase/auth");function Wx(s,...t){Yo.logLevel<=Ie.WARN&&Yo.warn(`Auth (${ba}): ${s}`,...t)}function Eo(s,...t){Yo.logLevel<=Ie.ERROR&&Yo.error(`Auth (${ba}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(s,...t){throw Cd(s,...t)}function mn(s,...t){return Cd(s,...t)}function wd(s,t,i){const r={...Zx(),[t]:i};return new ms("auth","Firebase",r).create(t,{appName:s.name})}function ls(s){return wd(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jx(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&En(s,"argument-error"),wd(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cd(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return _b.create(s,...t)}function W(s,t,...i){if(!s)throw Cd(t,...i)}function Yn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Eo(t),new Error(t)}function Zn(s,t){s||Yn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function $x(){return Fy()==="http:"||Fy()==="https:"}function Fy(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($x()||Tv()||"connection"in navigator)?navigator.onLine:!0}function tR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,i){this.shortDelay=t,this.longDelay=i,Zn(i>t,"Short delay should be less than long delay!"),this.isMobile=Lh()||wv()}get(){return eR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(s,t){Zn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sR=new Zr(3e4,6e4);function Nd(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function wa(s,t,i,r,o={}){return vb(s,o,async()=>{let u={},h={};r&&(t==="GET"?h=r:u={body:JSON.stringify(r)});const p=va({key:s.config.apiKey,...h}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:m,...u};return GT()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&ya(s.emulatorConfig.host)&&(g.credentials="include"),yb.fetch()(await bb(s,s.config.apiHost,i,p),g)})}async function vb(s,t,i){s._canInitEmulator=!1;const r={...nR,...t};try{const o=new rR(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw bo(s,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bo(s,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw bo(s,"email-already-in-use",h);if(m==="USER_DISABLED")throw bo(s,"user-disabled",h);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw wd(s,v,g);En(s,v)}}catch(o){if(o instanceof Tn)throw o;En(s,"network-request-failed",{message:String(o)})}}async function aR(s,t,i,r,o={}){const u=await wa(s,t,i,r,o);return"mfaPendingCredential"in u&&En(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function bb(s,t,i,r){const o=`${t}${i}?${r}`,u=s,h=u.config.emulator?Ad(s.config,o):`${s.config.apiScheme}://${o}`;return iR.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class rR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),sR.get())})}}function bo(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=mn(s,t,r);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(s,t){return wa(s,"POST","/v1/accounts:delete",t)}async function Fo(s,t){return wa(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oR(s,t=!1){const i=rt(s),r=await i.getIdToken(t),o=xd(r);W(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Ir(ah(o.auth_time)),issuedAtTime:Ir(ah(o.iat)),expirationTime:Ir(ah(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ah(s){return Number(s)*1e3}function xd(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Eo("JWT malformed, contained fewer than 3 sections"),null;try{const o=No(i);return o?JSON.parse(o):(Eo("Failed to decode base64 JWT payload"),null)}catch(o){return Eo("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Qy(s){const t=xd(s);return W(t,"internal-error"),W(typeof t.exp<"u","internal-error"),W(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qr(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Tn&&cR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function cR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(s){var y;const t=s.auth,i=await s.getIdToken(),r=await qr(s,Fo(t,{idToken:i}));W(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=(y=o.providerUserInfo)!=null&&y.length?Sb(o.providerUserInfo):[],h=hR(s.providerData,u),p=s.isAnonymous,m=!(s.email&&o.passwordHash)&&!(h!=null&&h.length),g=p?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ih(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(s,v)}async function fR(s){const t=rt(s);await Qo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hR(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function Sb(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(s,t){const i=await vb(s,{},async()=>{const r=va({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,h=await bb(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:r};return s.emulatorConfig&&ya(s.emulatorConfig.host)&&(m.credentials="include"),yb.fetch()(h,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mR(s,t){return wa(s,"POST","/v2/accounts:revokeToken",Nd(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){W(t.idToken,"internal-error"),W(typeof t.idToken<"u","internal-error"),W(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Qy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){W(t.length!==0,"internal-error");const i=Qy(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await dR(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,h=new la;return r&&(W(typeof r=="string","internal-error",{appName:t}),h.refreshToken=r),o&&(W(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(W(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(s,t){W(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class hn{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ih(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await qr(this,this.stsTokenManager.getToken(this.auth,t));return W(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return oR(this,t)}reload(){return fR(this)}_assign(t){this!==t&&(W(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Qo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(ls(this.auth));const t=await this.getIdToken();return await qr(this,lR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,u=i.phoneNumber??void 0,h=i.photoURL??void 0,p=i.tenantId??void 0,m=i._redirectEventId??void 0,g=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:U,providerData:L,stsTokenManager:q}=i;W(y&&q,t,"internal-error");const X=la.fromJSON(this.name,q);W(typeof y=="string",t,"internal-error"),Ti(r,t.name),Ti(o,t.name),W(typeof b=="boolean",t,"internal-error"),W(typeof U=="boolean",t,"internal-error"),Ti(u,t.name),Ti(h,t.name),Ti(p,t.name),Ti(m,t.name),Ti(g,t.name),Ti(v,t.name);const te=new hn({uid:y,auth:t,email:o,emailVerified:b,displayName:r,isAnonymous:U,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:X,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(te.providerData=L.map(se=>({...se}))),m&&(te._redirectEventId=m),te}static async _fromIdTokenResponse(t,i,r=!1){const o=new la;o.updateFromServerResponse(i);const u=new hn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Qo(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];W(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Sb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new la;p.updateFromIdToken(r);const m=new hn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ih(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map;function Fn(s){Zn(s instanceof Function,"Expected a class definition");let t=Ky.get(s);return t?(Zn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Ky.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Eb.type="NONE";const Xy=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(s,t,i){return`firebase:${s}:${t}:${i}`}class oa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=To(this.userKey,o.apiKey,u),this.fullPersistenceKey=To("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fo(this.auth,{idToken:t}).catch(()=>{});return i?hn._fromGetAccountInfoResponse(this.auth,i,t):null}return hn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new oa(Fn(Xy),t,r);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Fn(Xy);const h=To(r,t.config.apiKey,t.name);let p=null;for(const g of i)try{const v=await g._get(h);if(v){let y;if(typeof v=="string"){const b=await Fo(t,{idToken:v}).catch(()=>{});if(!b)break;y=await hn._fromGetAccountInfoResponse(t,b,v)}else y=hn._fromJSON(t,v);g!==u&&(p=y),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new oa(u,t,r):(u=m[0],p&&await u._set(h,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new oa(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ab(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xb(t))return"Blackberry";if(Rb(t))return"Webos";if(wb(t))return"Safari";if((t.includes("chrome/")||Cb(t))&&!t.includes("edge/"))return"Chrome";if(Nb(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Tb(s=St()){return/firefox\//i.test(s)}function wb(s=St()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cb(s=St()){return/crios\//i.test(s)}function Ab(s=St()){return/iemobile/i.test(s)}function Nb(s=St()){return/android/i.test(s)}function xb(s=St()){return/blackberry/i.test(s)}function Rb(s=St()){return/webos/i.test(s)}function Rd(s=St()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function pR(s=St()){var t;return Rd(s)&&!!((t=window.navigator)!=null&&t.standalone)}function gR(){return VT()&&document.documentMode===10}function Ib(s=St()){return Rd(s)||Nb(s)||Rb(s)||xb(s)||/windows phone/i.test(s)||Ab(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s,t=[]){let i;switch(s){case"Browser":i=Zy(St());break;case"Worker":i=`${Zy(St())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((h,p)=>{try{const m=t(u);h(m)}catch(m){p(m)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(s,t={}){return wa(s,"GET","/v2/passwordPolicy",Nd(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6;class bR{constructor(t){var r;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wy(this),this.idTokenSubscription=new Wy(this),this.beforeStateQueue=new _R(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Fn(i)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await oa.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fo(this,{idToken:t}),r=await hn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(cn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=r==null?void 0:r._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===p)&&(m!=null&&m.user)&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qo(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(ls(this));const i=t?rt(t):null;return i&&W(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&W(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yR(this),i=new bR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ms("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await mR(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Fn(t)||this._popupRedirectResolver;W(i,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[Fn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof i=="function"){const m=t.addObserver(i,r,o);return()=>{h=!0,m()}}else{const m=t.addObserver(i);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var i;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&Wx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function mc(s){return rt(s)}class Wy{constructor(t){this.auth=t,this.observer=null,this.addObserver=$T(i=>this.observer=i)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(s){Id=s}function TR(s){return Id.loadJS(s)}function wR(){return Id.gapiScript}function CR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s,t){const i=ps(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Di(u,t??{}))return o;En(o,"already-initialized")}return i.initialize({options:t})}function NR(s,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Fn);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function xR(s,t,i){const r=mc(s);W(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=Db(t),{host:h,port:p}=RR(t),m=p===null?"":`:${p}`,g={url:`${u}//${h}${m}/`},v=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(Di(g,r.config.emulator)&&Di(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ya(h)?(Sv(`${u}//${h}${m}`),Ev("Auth",!0)):IR()}function Db(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function RR(s){const t=Db(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Jy(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:Jy(h)}}}function Jy(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function IR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yn("not implemented")}_getIdTokenResponse(t){return Yn("not implemented")}_linkToIdToken(t,i){return Yn("not implemented")}_getReauthenticationResolver(t){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(s,t){return aR(s,"POST","/v1/accounts:signInWithIdp",Nd(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="http://localhost";class ds extends Mb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ds(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):En("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=i;if(!r||!o)return null;const h=new ds(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return ca(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,ca(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ca(t,i)}buildRequest(){const t={requestUri:OR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=va(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Od{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Wr{constructor(){super("facebook.com")}static credential(t){return ds._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wi.credentialFromTaggedObject(t)}static credentialFromError(t){return wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wi.credential(t.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ds._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Gn.credentialFromTaggedObject(t)}static credentialFromError(t){return Gn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Gn.credential(i,r)}catch{return null}}}Gn.GOOGLE_SIGN_IN_METHOD="google.com";Gn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Wr{constructor(){super("github.com")}static credential(t){return ds._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ci.credentialFromTaggedObject(t)}static credentialFromError(t){return Ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ci.credential(t.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Wr{constructor(){super("twitter.com")}static credential(t,i){return ds._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ai.credential(i,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await hn._fromIdTokenResponse(t,r,o),h=$y(r);return new ga({user:u,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=$y(r);return new ga({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function $y(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Tn{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ko.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new Ko(t,i,r,o)}}function kb(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ko._fromErrorAndOperation(s,u,t,r):u})}async function DR(s,t,i=!1){const r=await qr(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ga._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(s,t,i=!1){const{auth:r}=s;if(cn(r.app))return Promise.reject(ls(r));const o="reauthenticate";try{const u=await qr(s,kb(r,o,t,s),i);W(u.idToken,r,"internal-error");const h=xd(u.idToken);W(h,r,"internal-error");const{sub:p}=h;return W(s.uid===p,r,"user-mismatch"),ga._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&En(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(s,t,i=!1){if(cn(s.app))return Promise.reject(ls(s));const r="signIn",o=await kb(s,r,t),u=await ga._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}function LR(s,t,i,r){return rt(s).onIdTokenChanged(t,i,r)}function UR(s,t,i){return rt(s).beforeAuthStateChanged(t,i)}function zR(s,t,i,r){return rt(s).onAuthStateChanged(t,i,r)}function jR(s){return rt(s).signOut()}const Xo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,BR=10;class Ub extends Lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,p,m)=>{this.notifyListeners(h,m)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);gR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,BR):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Ub.type="LOCAL";const PR=Ub;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb extends Lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}zb.type="SESSION";const jb=zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new pc(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(h).map(async g=>g(i.origin,u)),m=await qR(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,m)=>{const g=Dd("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(y){const b=y;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(b.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function VR(s){bn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function YR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FR(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function QR(){return Hb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebaseLocalStorageDb",KR=1,Zo="firebaseLocalStorage",Pb="fbase_key";class Jr{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gc(s,t){return s.transaction([Zo],t?"readwrite":"readonly").objectStore(Zo)}function XR(){const s=indexedDB.deleteDatabase(Bb);return new Jr(s).toPromise()}function Oh(){const s=indexedDB.open(Bb,KR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Zo,{keyPath:Pb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Zo)?t(r):(r.close(),await XR(),t(await Oh()))})})}async function ev(s,t,i){const r=gc(s,!0).put({[Pb]:t,value:i});return new Jr(r).toPromise()}async function ZR(s,t){const i=gc(s,!1).get(t),r=await new Jr(i).toPromise();return r===void 0?null:r.value}function tv(s,t){const i=gc(s,!0).delete(t);return new Jr(i).toPromise()}const WR=800,JR=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oh(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>JR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pc._getInstance(QR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await YR(),!this.activeServiceWorker)return;this.sender=new GR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Oh();return await ev(t,Xo,"1"),await tv(t,Xo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>ev(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>ZR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=gc(o,!1).getAll();return new Jr(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const $R=qb;new Zr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(s,t){return t?Fn(t):(W(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends Mb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ca(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ca(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ca(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function eI(s){return kR(s.auth,new Md(s),s.bypassAuthState)}function tI(s){const{auth:t,user:i}=s;return W(i,t,"internal-error"),MR(i,new Md(s),s.bypassAuthState)}async function nI(s){const{auth:t,user:i}=s;return W(i,t,"internal-error"),DR(i,new Md(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:h,type:p}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eI;case"linkViaPopup":case"linkViaRedirect":return nI;case"reauthViaPopup":case"reauthViaRedirect":return tI;default:En(this.auth,"internal-error")}}resolve(t){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Zr(2e3,1e4);async function sI(s,t,i){if(cn(s.app))return Promise.reject(mn(s,"operation-not-supported-in-this-environment"));const r=mc(s);Jx(s,t,Od);const o=Gb(r,i);return new rs(r,"signInViaPopup",t,o).executeNotNull()}class rs extends Vb{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,rs.currentPopupAction&&rs.currentPopupAction.cancel(),rs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return W(t,this.auth,"internal-error"),t}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const t=Dd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iI.get())};t()}}rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="pendingRedirect",wo=new Map;class rI extends Vb{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=wo.get(this.auth._key());if(!t){try{const r=await lI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}wo.set(this.auth._key(),t)}return this.bypassAuthState||wo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lI(s,t){const i=uI(t),r=cI(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function oI(s,t){wo.set(s._key(),t)}function cI(s){return Fn(s._redirectPersistence)}function uI(s){return To(aI,s.config.apiKey,s.name)}async function fI(s,t,i=!1){if(cn(s.app))return Promise.reject(ls(s));const r=mc(s),o=Gb(r,t),h=await new rI(r,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=600*1e3;class dI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!Yb(t)){const o=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(mn(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hI&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(t))}saveEventToCache(t){this.cachedEventUids.add(nv(t)),this.lastProcessedEventTime=Date.now()}}function nv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Yb({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(s,t={}){return wa(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_I=/^https?/;async function yI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await pI(s);for(const i of t)try{if(vI(i))return}catch{}En(s,"unauthorized-domain")}function vI(s){const t=Rh(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!_I.test(i))return!1;if(gI.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Zr(3e4,6e4);function iv(){const s=bn().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function SI(s){return new Promise((t,i)=>{var o,u,h;function r(){iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iv(),i(mn(s,"network-request-failed"))},timeout:bI.get()})}if((u=(o=bn().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((h=bn().gapi)!=null&&h.load)r();else{const p=CR("iframefcb");return bn()[p]=()=>{gapi.load?r():i(mn(s,"network-request-failed"))},TR(`${wR()}?onload=${p}`).catch(m=>i(m))}}).catch(t=>{throw Co=null,t})}let Co=null;function EI(s){return Co=Co||SI(s),Co}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Zr(5e3,15e3),wI="__/auth/iframe",CI="emulator/auth/iframe",AI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xI(s){const t=s.config;W(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Ad(t,CI):`https://${s.config.authDomain}/${wI}`,r={apiKey:t.apiKey,appName:s.name,v:ba},o=NI.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${va(r).slice(1)}`}async function RI(s){const t=await EI(s),i=bn().gapi;return W(i,s,"internal-error"),t.open({where:document.body,url:xI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AI,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=mn(s,"network-request-failed"),p=bn().setTimeout(()=>{u(h)},TI.get());function m(){bn().clearTimeout(p),o(r)}r.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OI=500,DI=600,MI="_blank",kI="http://localhost";class sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LI(s,t,i,r=OI,o=DI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const m={...II,width:r.toString(),height:o.toString(),top:u,left:h},g=St().toLowerCase();i&&(p=Cb(g)?MI:i),Tb(g)&&(t=t||kI,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[U,L])=>`${b}${U}=${L},`,"");if(pR(g)&&p!=="_self")return UI(t||"",p),new sv(null);const y=window.open(t||"",p,v);W(y,s,"popup-blocked");try{y.focus()}catch{}return new sv(y)}function UI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="__/auth/handler",jI="emulator/auth/handler",HI=encodeURIComponent("fac");async function av(s,t,i,r,o,u){W(s.config.authDomain,s,"auth-domain-config-required"),W(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ba,eventId:o};if(t instanceof Od){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",oh(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,y]of Object.entries({}))h[v]=y}if(t instanceof Wr){const v=t.getScopes().filter(y=>y!=="");v.length>0&&(h.scopes=v.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await s._getAppCheckToken(),g=m?`#${HI}=${encodeURIComponent(m)}`:"";return`${BI(s)}?${va(p).slice(1)}${g}`}function BI({config:s}){return s.emulator?Ad(s,jI):`https://${s.authDomain}/${zI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="webStorageSupport";class PI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=fI,this._overrideRedirectResult=oI}async _openPopup(t,i,r,o){var h;Zn((h=this.eventManagers[t._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await av(t,i,r,Rh(),o);return LI(t,u,Dd())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await av(t,i,r,Rh(),o);return VR(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Zn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await RI(t),r=new dI(t);return i.register("authEvent",o=>(W(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(rh,{type:rh},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[rh];u!==void 0&&i(!!u),En(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=yI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Ib()||wb()||Rd()}}const qI=PI;var rv="@firebase/auth",lv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YI(s){Sn(new pn("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;W(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(s)},g=new SR(r,o,u,m);return NR(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Sn(new pn("auth-internal",t=>{const i=mc(t.getProvider("auth").getImmediate());return(r=>new GI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(rv,lv,VI(s)),sn(rv,lv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=300,QI=bv("authIdTokenMaxAge")||FI;let ov=null;const KI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>QI)return;const o=i==null?void 0:i.token;ov!==o&&(ov=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XI(s=zh()){const t=ps(s,"auth");if(t.isInitialized())return t.getImmediate();const i=AR(s,{popupRedirectResolver:qI,persistence:[$R,PR,jb]}),r=bv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=KI(u.toString());UR(i,h,()=>h(i.currentUser)),LR(i,p=>h(p))}}const o=yv("auth");return o&&xR(i,`http://${o}`),i}function ZI(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}ER({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=mn("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",ZI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YI("Browser");const WI={apiKey:"AIzaSyAblTgcwRQQol3ArnjOGLULETDSkwQ2nfA",authDomain:"money-management-29d78.firebaseapp.com",databaseURL:"https://money-management-29d78-default-rtdb.firebaseio.com",projectId:"money-management-29d78",storageBucket:"money-management-29d78.firebasestorage.app",messagingSenderId:"590262168113",appId:"1:590262168113:web:9e67355dcc705fb2ed0310",measurementId:"G-P266KBR2B9"},kd=Ov(WI);Yx(kd);const Vt=AN(kd),_c=XI(kd),JI=new Gn,$I=async()=>{try{return(await sI(_c,JI)).user}catch(s){throw console.error("Error signing in with Google:",s),s}},eO=async()=>{try{await jR(_c)}catch(s){throw console.error("Error signing out:",s),s}},tO=s=>zR(_c,s),cv="https://script.google.com/macros/s/AKfycbzQd05WkhdcL65-JtM2vKzWl8xbdbubnGrSCjsmbkQDjf1BCFqKXnNzuaYNPGwT97gU/exec",nO=async()=>{const s=_c.currentUser;if(!s)throw new Error("User not authenticated");return await s.getIdToken()},iO=async(s,t,i)=>{var b,U,L,q;const r=await nO();let o="";if(i==="Dzongkha")try{const X=`${cv}?action=translate&token=${encodeURIComponent(r)}`,te=await fetch(X,{method:"POST",body:JSON.stringify({text:s})});if(!te.ok)throw new Error(`HTTP error! status: ${te.status}`);const se=await te.json();se.status==="success"?o=se.text:se.error&&console.error("Translate API error:",se.error)}catch(X){console.error("Failed to fetch reference translation:",X),console.error("Error details:",X.message)}const h=[{role:"user",content:`
Generate pronunciation guide in XML format.

Source: "${s}" (Japanese)
Translation: "${o}" (Dzongkha)

CRITICAL RULES:
- Japanese source: Convert to Hiragana reading (e.g.,   )
- Dzongkha translation: Convert to Katakana pronunciation (e.g.,   )
- NO romanization (no Latin letters)
- NO placeholder text - use actual transliterations
- Output XML only, NO markdown blocks.

Example format:
<response>
  <sourceTransliteration></sourceTransliteration>
  <targetText></targetText>
  <targetTransliteration>  </targetTransliteration>
  <breakdown>
    <word>
      <original></original>
      <sourceTerm></sourceTerm>
      <translated></translated>
      <transliteration></transliteration>
    </word>
  </breakdown>
</response>
  `}],p=`${cv}?action=chat&token=${encodeURIComponent(r)}`,m=await fetch(p,{method:"POST",body:JSON.stringify({model:"gemini-2.5-flash",provider:"gemini",messages:h})});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const g=await m.json();if(g.error)throw new Error(`API error: ${g.error}`);let v;try{let X=g.reply.replace(/```xml\n?/g,"").replace(/```\n?/g,"").trim();console.log("Cleaned reply:",X);const te=X.match(/<response>[\s\S]*?<\/response>/),se=te?te[0]:X;console.log("XML String:",se);const ie=B=>{const P=new RegExp(`<${B}>([\\s\\S]*?)<\\/${B}>`),ae=se.match(P),be=ae?ae[1].trim():"";return console.log(`Tag ${B}:`,be,"Match:",ae),be},Le=se.match(/<breakdown>([\s\S]*?)<\/breakdown>/),tt=[];if(Le){const B=Le[1].matchAll(/<word>([\s\S]*?)<\/word>/g);for(const P of B){const ae=P[1];tt.push({original:((b=ae.match(/<original>([\s\S]*?)<\/original>/))==null?void 0:b[1].trim())||"",sourceTerm:((U=ae.match(/<sourceTerm>([\s\S]*?)<\/sourceTerm>/))==null?void 0:U[1].trim())||"",translated:((L=ae.match(/<translated>([\s\S]*?)<\/translated>/))==null?void 0:L[1].trim())||"",transliteration:((q=ae.match(/<transliteration>([\s\S]*?)<\/transliteration>/))==null?void 0:q[1].trim())||""})}}v={sourceTransliteration:ie("sourceTransliteration"),targetText:ie("targetText"),targetTransliteration:ie("targetTransliteration"),breakdown:tt},console.log("Parsed data:",v)}catch(X){throw console.error("Failed to parse AI response:",X),console.log("Raw reply:",g.reply),new Error("Failed to parse translation response")}const y={sourceText:s,sourceTransliteration:v.sourceTransliteration,targetText:v.targetText,targetTransliteration:v.targetTransliteration,breakdown:v.breakdown,language:i,source:"AI"};return console.log("Final result being returned:",y),y},Fb=()=>{let s=localStorage.getItem("userId");return s||(s="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("userId",s)),s},uv=300*1e3,sO=async(s,t="review")=>{const r=Gt(Vt,t==="review"?"review":"library"),o=Q0(r);return await uc(o,{...s,id:o.key,status:t}),o.key},fv=async()=>{const s=Gt(Vt,"library"),t=await Ui(s);if(!t.exists())return[];const i=t.val();return Object.values(i).sort((o,u)=>u.timestamp-o.timestamp)},hv=async()=>{const s=Gt(Vt,"review"),t=await Ui(s);if(!t.exists())return[];const i=t.val();return Object.values(i).sort((o,u)=>u.timestamp-o.timestamp)},aO=s=>{const t=Gt(Vt,"review");return K0(t,r=>{if(!r.exists()){s([]);return}const o=r.val(),h=Object.values(o).sort((p,m)=>m.timestamp-p.timestamp);s(h)})},rO=s=>{const t=Gt(Vt,"library");return K0(t,r=>{if(!r.exists()){s([]);return}const o=r.val(),h=Object.values(o).sort((p,m)=>m.timestamp-p.timestamp);s(h)})},lO=async(s,t)=>{const i=Fb(),r=Gt(Vt,`${t}/${s}`),o=await Ui(r);if(!o.exists())return!1;const u=o.val(),h=Date.now();if(u.editLock&&u.editLock.expiresAt>h){if(u.editLock.userId===i){const m={userId:i,timestamp:h,expiresAt:h+uv};return await Ah(r,{editLock:m}),!0}return!1}const p={userId:i,timestamp:h,expiresAt:h+uv};return await Ah(r,{editLock:p}),!0},lh=async(s,t)=>{var h;const i=Fb(),r=Gt(Vt,`${t}/${s}`),o=await Ui(r);if(!o.exists())return;((h=o.val().editLock)==null?void 0:h.userId)===i&&await Ah(r,{editLock:null})},oO=async(s,t,i)=>{const r=s.trim(),o=Gt(Vt,"library"),u=await Ui(o);if(u.exists()){const m=u.val(),v=Object.values(m).find(y=>y.result.sourceText.trim()===r&&y.sourceLang===t&&y.targetLang===i);if(v)return console.log("Found in library:",v),{...v.result,source:"CACHE"}}const h=Gt(Vt,"review"),p=await Ui(h);if(p.exists()){const m=p.val(),v=Object.values(m).find(y=>y.result.sourceText.trim()===r&&y.sourceLang===t&&y.targetLang===i);if(v)return console.log("Found in review:",v),{...v.result,source:"CACHE"}}return null},cO=async s=>{console.log("Approving item:",s);const t=Gt(Vt,`review/${s}`),i=await Ui(t);if(!i.exists()){console.log("Review item not found");return}const r=i.val();console.log("Moving to library:",r);const o=Gt(Vt,"library"),u=Q0(o);await uc(u,{...r,id:u.key,status:"approved",approvedAt:Date.now()}),await _N(t),console.log("Item approved and moved to library")},uO=async(s,t,i,r)=>{const o=s.trim();console.log("updateCachedTranslation called with:",{text:o,sourceLang:t,targetLang:i,updates:r});for(const u of["library","review"]){const h=Gt(Vt,u),p=await Ui(h);if(!p.exists())continue;const m=p.val(),g=Object.entries(m);console.log(`Searching in ${u}:`,g.length,"items");const v=g.find(([y,b])=>b.result.sourceText.trim()===o&&b.sourceLang===t&&b.targetLang===i);if(v){const[y,b]=v;console.log("Found match in",u,":",y,b);const U=Gt(Vt,`${u}/${y}`),L={...b,result:{...b.result,...r},lastModified:Date.now()};console.log("Updating Firebase with:",L),await uc(U,L),console.log("Firebase update successful");return}}console.log("No matching translation found")},yc={ja:{appTitle:"LingoBridge",appSubtitle:"",tabTranslate:"",tabHistory:"",labelSource:"",labelTarget:"",placeholderPrefix:"...",btnTranslate:"",btnTranslating:"",btnBack:"",btnStart:"",btnPrev:"",btnNext:"",noHistoryTitle:"",noHistoryDesc:"",labelOriginal:"",labelResult:"",labelAnalysis:"",labelSourceTerm:"",errorDiffLang:"",errorFailed:"",langNameJa:"",langNameDz:""},en:{appTitle:"LingoBridge",appSubtitle:"Global Connect",tabTranslate:"TRANSLATE",tabHistory:"HISTORY",labelSource:"Source",labelTarget:"Target",placeholderPrefix:"Enter message in...",btnTranslate:"Translate",btnTranslating:"Translating",btnBack:"Go Back",btnStart:"Start Translating",btnPrev:"Previous",btnNext:"Next",noHistoryTitle:"No history found",noHistoryDesc:"Translations you perform will appear here automatically.",labelOriginal:"Original",labelResult:"Result",labelAnalysis:"Analysis",labelSourceTerm:"Source",errorDiffLang:"Please select different source and target languages.",errorFailed:"Translation failed. Please try again.",langNameJa:"Japanese",langNameDz:"Dzongkha"}},fO=({breakdown:s,language:t,uiLang:i})=>{const r=t===pt.JAPANESE,o=t===pt.DZONGKHA,u=yc[i];return!s||s.length===0?null:C.jsxs("div",{className:"pt-10 border-t border-slate-100/60",children:[C.jsxs("h3",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em] mb-6 flex items-center",children:[C.jsx("i",{className:"fas fa-wand-magic-sparkles mr-3 text-indigo-400"}),u.labelAnalysis]}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.map((h,p)=>C.jsxs("div",{className:"group bg-slate-50/40 p-5 rounded-[1.5rem] border border-slate-100/50 hover:bg-white hover:border-indigo-100 hover:shadow-xl hover:shadow-indigo-500/5 transition-all duration-500 hover:-translate-y-1",children:[C.jsxs("div",{className:"flex justify-between items-start mb-3",children:[C.jsx("span",{className:`text-xl font-black text-slate-800 tracking-tight ${r?"font-jp":o?"font-dz":""}`,children:h.original}),h.transliteration&&C.jsx("span",{className:"text-[9px] text-indigo-500 font-black bg-indigo-50 px-2.5 py-1 rounded-full border border-indigo-100/50 uppercase tracking-wider",children:h.transliteration})]}),C.jsxs("div",{className:"flex items-center gap-3 mb-4 opacity-40 group-hover:opacity-80 transition-opacity",children:[C.jsx("span",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest",children:u.labelSourceTerm}),C.jsx("span",{className:"text-[11px] text-slate-600 font-bold border-b border-slate-200",children:h.sourceTerm||"---"})]}),C.jsx("p",{className:"text-sm text-slate-900 font-black bg-white group-hover:bg-indigo-50/30 px-3 py-2 rounded-xl inline-block border border-slate-100 group-hover:border-indigo-100/50 transition-colors",children:h.translated})]},p))})]})},Qb=({result:s,sourceLang:t,targetLang:i,onPlaySource:r,onPlayTarget:o,isSpeakingSource:u,isSpeakingTarget:h,uiLang:p,onUpdate:m,status:g="approved",itemId:v,onApprove:y,editLock:b})=>{const[U,L]=We.useState(!1),[q,X]=We.useState(!1),[te,se]=We.useState(s.sourceTransliteration),[ie,Le]=We.useState(s.targetTransliteration),[tt,B]=We.useState(s.breakdown),[P,ae]=We.useState(!1),[be,He]=We.useState(!1),[ge,he]=We.useState(!1),Yt=yc[p];We.useEffect(()=>{if(q&&ie){const E=ie.trim().split(/\s+/),D=s.breakdown.map((j,V)=>({...j,transliteration:E[V]||j.transliteration}));B(D)}},[ie,q,s.breakdown]),We.useEffect(()=>{se(s.sourceTransliteration),Le(s.targetTransliteration),B(s.breakdown)},[s.sourceTransliteration,s.targetTransliteration,s.breakdown]),We.useEffect(()=>()=>{ge&&v&&lh(v,g==="review"?"review":"library")},[ge,v,g]);const Ot=b&&!ge&&b.expiresAt>Date.now(),Et=E=>{switch(E){case pt.JAPANESE:return Yt.langNameJa;case pt.DZONGKHA:return Yt.langNameDz;default:return E}},O=()=>{navigator.clipboard.writeText(s.targetText),L(!0),setTimeout(()=>L(!1),2e3)},H=async()=>{ae(!0);try{const E={sourceTransliteration:te,targetTransliteration:ie,breakdown:tt};console.log("Saving updates:",E),await uO(s.sourceText,t,i,E);const D={...s,...E};console.log("Updated result:",D),X(!1),ge&&v&&(await lh(v,g==="review"?"review":"library"),he(!1)),m&&m(D)}catch(E){console.error("Failed to save edits:",E),alert("Failed to save changes. Please try again.")}finally{ae(!1)}},K=async()=>{se(s.sourceTransliteration),Le(s.targetTransliteration),B(s.breakdown),X(!1),ge&&v&&(await lh(v,g==="review"?"review":"library"),he(!1))},Ee=async()=>{if(!v){X(!0);return}const E=g==="review"?"review":"library";try{await lO(v,E)?(he(!0),X(!0)):alert("Someone else is currently editing this item. Please try again later.")}catch(D){console.error("Error acquiring lock:",D),alert("Failed to start editing. Please try again.")}},we=async()=>{if(!(!v||!y)){He(!0);try{await y(v)}catch(E){console.error("Failed to approve:",E),alert("Failed to approve. Please try again.")}finally{He(!1)}}};return C.jsxs("section",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 relative overflow-hidden",style:{pointerEvents:"auto"},children:[C.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-50/40 rounded-full blur-3xl -mr-24 -mt-24 pointer-events-none"}),C.jsxs("div",{className:"flex flex-wrap gap-2 p-3 pb-0",children:[s.source&&C.jsxs("div",{className:`px-3 py-1.5 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm ${s.source==="AI"?"bg-gradient-to-r from-indigo-600 to-violet-600 text-white":"bg-slate-100 text-slate-500"}`,children:[C.jsx("i",{className:`fas ${s.source==="AI"?"fa-bolt":"fa-database"} mr-1.5 text-[8px]`}),s.source]}),g==="review"&&C.jsxs("div",{className:"px-3 py-1.5 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-amber-500 text-white animate-pulse",children:[C.jsx("i",{className:"fas fa-clock mr-1.5 text-[8px]"}),"REVIEW"]}),Ot&&C.jsxs("div",{className:"px-3 py-1.5 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-rose-500 text-white",children:[C.jsx("i",{className:"fas fa-lock mr-1.5 text-[8px]"}),"LOCKED"]})]}),C.jsxs("div",{className:"relative flex gap-2 px-3 pt-2 pb-3 flex-wrap justify-end z-40",children:[g==="review"&&!q&&!Ot&&C.jsxs("button",{onClick:we,disabled:be,className:"relative z-50 px-4 py-2 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-emerald-500 text-white hover:bg-emerald-600 transition-all disabled:opacity-50 active:scale-95",children:[C.jsx("i",{className:`fas ${be?"fa-spinner fa-spin":"fa-check-circle"} mr-1.5`}),be?"APPROVING":"APPROVE"]}),!q&&!Ot?C.jsxs("button",{onClick:E=>{E.preventDefault(),E.stopPropagation(),Ee()},className:"relative z-50 px-4 py-2 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-slate-100 text-slate-600 hover:bg-slate-200 transition-all active:scale-95 cursor-pointer",children:[C.jsx("i",{className:"fas fa-edit mr-1.5"}),"EDIT"]}):q?C.jsxs(C.Fragment,{children:[C.jsxs("button",{onClick:H,disabled:P,className:"px-4 py-2 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-emerald-500 text-white hover:bg-emerald-600 transition-all disabled:opacity-50 active:scale-95",children:[C.jsx("i",{className:`fas ${P?"fa-spinner fa-spin":"fa-check"} mr-1.5`}),P?"SAVING":"SAVE"]}),C.jsxs("button",{onClick:K,disabled:P,className:"px-4 py-2 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-slate-200 text-slate-600 hover:bg-slate-300 transition-all disabled:opacity-50 active:scale-95",children:[C.jsx("i",{className:"fas fa-times mr-1.5"}),"CANCEL"]})]}):null]}),C.jsxs("div",{className:"space-y-6 px-4 pb-6 sm:px-8 sm:pb-8 relative",children:[C.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-6",children:[C.jsxs("div",{className:"flex-1 pr-3",children:[C.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider block mb-2",children:[Yt.labelOriginal," (",Et(t),")"]}),C.jsx("h2",{className:`text-xl sm:text-2xl font-bold text-slate-800 leading-snug ${t===pt.JAPANESE?"font-jp":"font-dz"}`,children:s.sourceText}),q?C.jsx("input",{type:"text",value:te,onChange:E=>se(E.target.value),className:"w-full text-sm text-slate-600 font-medium italic font-jp mt-3 px-3 py-2.5 border-2 border-indigo-300 rounded-xl focus:outline-none focus:border-indigo-500 bg-indigo-50/50",placeholder:"Source transliteration"}):C.jsx("p",{className:"text-xs sm:text-sm text-slate-500 font-medium italic font-jp mt-3",children:s.sourceTransliteration})]}),C.jsx("button",{onClick:r,disabled:u,className:`w-11 h-11 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center transition-all flex-shrink-0 ${u?"bg-indigo-100 text-indigo-600 scale-110":"bg-slate-100 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 active:scale-95"}`,children:C.jsx("i",{className:`fas ${u?"fa-waveform fa-beat-fade":"fa-volume-high"} text-base sm:text-lg`})})]}),C.jsxs("div",{className:"flex justify-between items-start",children:[C.jsxs("div",{className:"flex-1 pr-3",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsxs("span",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-wider block",children:[Yt.labelResult," (",Et(i),")"]}),C.jsx("button",{onClick:O,className:`text-[8px] font-black uppercase px-2.5 py-1 rounded-lg transition-all active:scale-95 ${U?"bg-emerald-500 text-white":"bg-slate-100 text-slate-500 hover:bg-indigo-50 hover:text-indigo-600"}`,children:U?C.jsxs(C.Fragment,{children:[C.jsx("i",{className:"fas fa-check mr-1"}),"COPIED"]}):C.jsxs(C.Fragment,{children:[C.jsx("i",{className:"far fa-copy mr-1"}),"COPY"]})})]}),C.jsx("h2",{className:`text-3xl sm:text-4xl font-black text-slate-900 leading-tight ${i===pt.JAPANESE?"font-jp":"font-dz"}`,children:s.targetText}),q?C.jsx("input",{type:"text",value:ie,onChange:E=>Le(E.target.value),className:"w-full text-base sm:text-lg text-indigo-600 font-bold italic font-jp mt-4 px-3 py-2.5 border-2 border-indigo-300 rounded-xl focus:outline-none focus:border-indigo-500 bg-indigo-50/50",placeholder:"Target transliteration"}):C.jsx("p",{className:"text-base sm:text-lg text-indigo-600 font-bold italic font-jp mt-4",children:s.targetTransliteration})]}),C.jsx("button",{onClick:o,disabled:h,className:`w-14 h-14 sm:w-16 sm:h-16 rounded-2xl flex items-center justify-center transition-all flex-shrink-0 ${h?"bg-indigo-100 text-indigo-600 scale-110":"bg-gradient-to-br from-indigo-600 to-violet-600 text-white hover:scale-105 shadow-xl shadow-indigo-200 active:scale-95"}`,children:h?C.jsx("i",{className:"fas fa-waveform fa-beat-fade text-xl sm:text-2xl"}):C.jsx("i",{className:"fas fa-volume-high text-xl sm:text-2xl"})})]}),C.jsx(fO,{breakdown:q?tt:s.breakdown,language:i,uiLang:p})]})]})},hO=({history:s,onBack:t,onPlayAudio:i,isSpeakingSource:r,isSpeakingTarget:o,uiLang:u,onHistoryUpdate:h,onApprove:p})=>{const[m,g]=We.useState(0),v=yc[u];if(s.length===0)return C.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white rounded-[3rem] shadow-xl shadow-slate-100 border border-slate-50 px-8 text-center animate-in zoom-in-95 duration-500",children:[C.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full flex items-center justify-center mb-8",children:C.jsx("i",{className:"fas fa-clock-rotate-left text-4xl text-slate-200"})}),C.jsx("h3",{className:"text-xl font-black text-slate-800 mb-2",children:v.noHistoryTitle}),C.jsx("p",{className:"text-slate-400 text-sm font-medium mb-10 max-w-[240px]",children:v.noHistoryDesc}),C.jsx("button",{onClick:t,className:"px-10 py-4 bg-indigo-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-100 active:scale-95",children:v.btnStart})]});const y=s[m],b=()=>{g(L=>L>0?L-1:L)},U=()=>{g(L=>L<s.length-1?L+1:L)};return C.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[C.jsx("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl p-4 shadow-sm border border-slate-100",children:C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("button",{onClick:t,className:"text-slate-400 hover:text-indigo-600 font-black text-[10px] uppercase tracking-widest flex items-center gap-2 transition-colors active:scale-95",children:[C.jsx("i",{className:"fas fa-arrow-left text-sm"})," ",v.btnBack]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:new Date(y.timestamp).toLocaleDateString(u==="ja"?"ja-JP":"en-US",{month:"short",day:"numeric"})}),C.jsx("div",{className:"bg-indigo-50 border border-indigo-100 px-3 py-1.5 rounded-xl",children:C.jsxs("span",{className:"text-indigo-700 font-black text-xs",children:[m+1,C.jsx("span",{className:"text-indigo-300 mx-1",children:"/"}),s.length]})})]})]})}),C.jsxs("div",{className:"relative flex-1 pb-6",children:[s.length>1&&C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:b,disabled:m===0,className:"fixed left-4 top-1/2 -translate-y-1/2 z-50 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm border border-slate-200 shadow-lg flex items-center justify-center text-slate-600 hover:bg-indigo-50 hover:border-indigo-300 hover:text-indigo-600 transition-all disabled:opacity-20 disabled:cursor-not-allowed disabled:hover:bg-white/90 disabled:hover:border-slate-200 disabled:hover:text-slate-600 active:scale-90",children:C.jsx("i",{className:"fas fa-chevron-left text-sm"})}),C.jsx("button",{onClick:U,disabled:m===s.length-1,className:"fixed right-4 top-1/2 -translate-y-1/2 z-50 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm border border-slate-200 shadow-lg flex items-center justify-center text-slate-600 hover:bg-indigo-50 hover:border-indigo-300 hover:text-indigo-600 transition-all disabled:opacity-20 disabled:cursor-not-allowed disabled:hover:bg-white/90 disabled:hover:border-slate-200 disabled:hover:text-slate-600 active:scale-90",children:C.jsx("i",{className:"fas fa-chevron-right text-sm"})})]}),C.jsx("div",{className:"animate-in fade-in duration-300",children:C.jsx(Qb,{result:y.result,sourceLang:y.sourceLang,targetLang:y.targetLang,onPlaySource:()=>{const L=y.sourceLang===pt.DZONGKHA?y.result.sourceTransliteration:y.result.sourceText;i(L,y.sourceLang,!0)},onPlayTarget:()=>{const L=y.targetLang===pt.DZONGKHA?y.result.targetTransliteration:y.result.targetText;i(L,y.targetLang,!1)},isSpeakingSource:r,isSpeakingTarget:o,uiLang:u,onUpdate:async L=>{console.log("History card updated:",L),h&&await h()},status:y.status,itemId:y.id,onApprove:p,editLock:y.editLock},y.id)}),s.length>1&&C.jsx("div",{className:"flex justify-center gap-2 mt-6",children:s.map((L,q)=>C.jsx("button",{onClick:()=>g(q),className:`transition-all ${q===m?"w-8 h-2 bg-indigo-600 rounded-full":"w-2 h-2 bg-slate-300 rounded-full hover:bg-slate-400"}`},q))})]})]})},dO=()=>{const[s,t]=We.useState("ja"),[i,r]=We.useState(!1),[o,u]=We.useState(null),[h,p]=We.useState(!0),[m,g]=We.useState({inputText:"",sourceLang:pt.JAPANESE,targetLang:pt.DZONGKHA,result:null,isLoading:!1,isSpeaking:!1,isSpeakingSource:!1,error:null,viewMode:"translate",history:[]}),[v,y]=We.useState([]),b=yc[s];We.useEffect(()=>{const B=tO(ge=>{u(ge),p(!1),console.log("Auth state changed:",ge==null?void 0:ge.email)});L(),window.speechSynthesis.cancel();const P=aO(ge=>{console.log("Review items updated:",ge),y(ge)}),ae=rO(ge=>{console.log("Library items updated:",ge),g(he=>({...he,history:ge}))}),be=/iPhone|iPad|iPod/.test(window.navigator.userAgent),He=window.navigator.standalone===!0;if(be&&!He){const ge=localStorage.getItem("installPromptCount")||"0";parseInt(ge)<3&&r(!0)}return()=>{B(),P(),ae()}},[]);const U=()=>{r(!1);const B=parseInt(localStorage.getItem("installPromptCount")||"0");localStorage.setItem("installPromptCount",(B+1).toString())},L=async()=>{try{const[B,P]=await Promise.all([fv(),hv()]);g(ae=>({...ae,history:B})),y(P)}catch(B){console.error("Failed to load history",B)}},q=async()=>{if(!m.inputText.trim())return;if(m.sourceLang===m.targetLang){g(P=>({...P,error:b.errorDiffLang}));return}g(P=>({...P,isLoading:!0,error:null}));const B=m.inputText.trim();try{let P=null;try{const He=await oO(B,m.sourceLang,m.targetLang);He&&(P=He,console.log("Result from library:",P))}catch(He){console.warn("Library lookup failed",He)}if(!P){P=await iO(m.inputText,m.sourceLang,m.targetLang),console.log("Result from translateAndAnalyze:",P);const He={timestamp:Date.now(),sourceLang:m.sourceLang,targetLang:m.targetLang,result:P,status:"review"},ge=await sO(He,"review");console.log("Saved to review with ID:",ge),await new Promise(he=>setTimeout(he,500))}const ae=await fv(),be=await hv();console.log("Setting state with result:",P),g(He=>({...He,result:P,history:ae,isLoading:!1})),y(be)}catch(P){console.error(P),g(ae=>({...ae,error:b.errorFailed,isLoading:!1}))}},X=()=>{g(B=>{var P;return{...B,sourceLang:B.targetLang,targetLang:B.sourceLang,inputText:((P=B.result)==null?void 0:P.targetText)||"",result:null,error:null}})},te=(B,P,ae)=>{if(window.speechSynthesis.cancel(),g(he=>({...he,isSpeaking:!1,isSpeakingSource:!1})),!B)return;const be=new SpeechSynthesisUtterance(B);be.rate=.85,be.pitch=1,be.volume=1,be.lang="ja-JP";const He=window.speechSynthesis.getVoices(),ge=He.find(he=>he.lang==="ja-JP"&&(he.name.includes("Google")||he.name.includes("Natural")))||He.find(he=>he.lang==="ja-JP");ge&&(be.voice=ge),be.onstart=()=>{g(he=>({...he,[ae?"isSpeakingSource":"isSpeaking"]:!0}))},be.onend=()=>{g(he=>({...he,[ae?"isSpeakingSource":"isSpeaking"]:!1}))},be.onerror=()=>{g(he=>({...he,[ae?"isSpeakingSource":"isSpeaking"]:!1}))},window.speechSynthesis.speak(be)},se=B=>{switch(B){case pt.JAPANESE:return b.langNameJa;case pt.DZONGKHA:return b.langNameDz;default:return B}},ie=B=>{g(P=>({...P,viewMode:B}))},Le=async()=>{try{await $I()}catch(B){console.error("Sign in error:",B)}},tt=async()=>{try{await eO()}catch(B){console.error("Sign out error:",B)}};return h?C.jsx("div",{className:"min-h-screen bg-[#FDFDFE] flex items-center justify-center",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-3xl flex items-center justify-center text-white shadow-xl shadow-indigo-100/50 mx-auto mb-4",children:C.jsx("i",{className:"fas fa-language text-3xl"})}),C.jsx("p",{className:"text-slate-400 font-semibold",children:"Loading..."})]})}):o?C.jsxs("div",{className:"min-h-screen bg-[#FDFDFE] flex flex-col items-center py-6 sm:py-12 px-4 text-slate-900 font-jp overflow-x-hidden select-none",children:[i&&C.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] w-[90%] max-w-sm animate-in slide-in-from-bottom-10 duration-500",children:[C.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl border border-indigo-100 p-5 flex items-center gap-4",children:[C.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex-shrink-0 flex items-center justify-center text-white text-xl",children:C.jsx("i",{className:"fas fa-plus"})}),C.jsxs("div",{className:"flex-1",children:[C.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"PWA Install"}),C.jsxs("p",{className:"text-xs font-bold text-slate-700",children:["Tap ",C.jsx("i",{className:"fa-solid fa-arrow-up-from-bracket text-indigo-500"})," then ",C.jsx("span",{className:"text-indigo-600",children:'"Add to Home Screen"'})," to install."]})]}),C.jsx("button",{onClick:U,className:"text-slate-300 hover:text-slate-400 p-2",children:C.jsx("i",{className:"fas fa-times text-lg"})})]}),C.jsx("div",{className:"w-6 h-6 bg-white border-r border-b border-indigo-100 rotate-45 absolute -bottom-3 left-1/2 -translate-x-1/2"})]}),C.jsxs("header",{className:"max-w-2xl w-full mb-8 flex flex-col sm:flex-row justify-between items-center gap-6",children:[C.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[C.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100/50",children:C.jsx("i",{className:"fas fa-language text-2xl"})}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h1",{className:"text-2xl font-black text-slate-900 leading-none tracking-tight",children:b.appTitle}),C.jsx("p",{className:"text-slate-400 text-[10px] font-black tracking-[0.2em] uppercase mt-1",children:b.appSubtitle})]}),C.jsx("button",{onClick:()=>t(B=>B==="ja"?"en":"ja"),className:"sm:hidden w-10 h-10 rounded-xl bg-white border border-slate-100 shadow-sm flex items-center justify-center text-indigo-600 font-black text-xs",children:s.toUpperCase()}),v.length>0&&C.jsxs("button",{onClick:()=>ie("history"),className:"sm:hidden relative w-10 h-10 rounded-xl bg-white border border-amber-200 shadow-sm flex items-center justify-center text-amber-600 transition-all active:scale-95",children:[C.jsx("i",{className:"fas fa-bell text-base animate-pulse"}),C.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 text-white text-[8px] font-black rounded-full flex items-center justify-center shadow-lg",children:v.length})]})]}),C.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto justify-end",children:[o&&C.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-2xl px-4 py-2 shadow-sm border border-slate-100",children:[o.photoURL&&C.jsx("img",{src:o.photoURL,alt:o.displayName||"User",className:"w-8 h-8 rounded-full"}),C.jsxs("div",{className:"hidden sm:block",children:[C.jsx("p",{className:"text-xs font-bold text-slate-700 leading-none",children:o.displayName}),C.jsx("p",{className:"text-[10px] text-slate-400 leading-none mt-0.5",children:o.email})]}),C.jsx("button",{onClick:tt,className:"w-8 h-8 rounded-lg bg-slate-50 hover:bg-slate-100 flex items-center justify-center text-slate-500 hover:text-slate-700 transition-all active:scale-95",title:"Sign out",children:C.jsx("i",{className:"fas fa-sign-out-alt text-sm"})})]}),v.length>0&&C.jsxs("button",{onClick:()=>ie("history"),className:"hidden sm:flex relative w-10 h-10 rounded-xl bg-white border border-amber-200 shadow-sm items-center justify-center text-amber-600 hover:bg-amber-50 transition-all active:scale-95",children:[C.jsx("i",{className:"fas fa-bell text-base animate-pulse"}),C.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 text-white text-[8px] font-black rounded-full flex items-center justify-center shadow-lg",children:v.length})]}),C.jsx("button",{onClick:()=>t(B=>B==="ja"?"en":"ja"),className:"hidden sm:flex px-3 py-2 rounded-xl bg-white border border-slate-100 shadow-sm items-center justify-center text-indigo-600 font-black text-xs hover:border-indigo-100 transition-all",children:s==="ja"?"ENGLISH":""}),C.jsxs("nav",{className:"flex bg-white/50 backdrop-blur-md p-1.5 rounded-2xl border border-slate-100 shadow-sm w-full sm:w-auto",children:[C.jsx("button",{onClick:()=>ie("translate"),className:`flex-1 sm:px-5 py-2 rounded-xl text-[10px] font-black tracking-wide transition-all ${m.viewMode==="translate"?"bg-indigo-600 text-white shadow-lg shadow-indigo-100":"text-slate-400 hover:text-slate-600"}`,children:b.tabTranslate}),C.jsx("button",{onClick:()=>ie("history"),className:`flex-1 sm:px-5 py-2 rounded-xl text-[10px] font-black tracking-wide transition-all ${m.viewMode==="history"?"bg-indigo-600 text-white shadow-lg shadow-indigo-100":"text-slate-400 hover:text-slate-600"}`,children:b.tabHistory})]})]})]}),C.jsx("main",{className:"max-w-2xl w-full space-y-6 flex-1 pb-16",children:m.viewMode==="translate"?C.jsxs(C.Fragment,{children:[C.jsxs("section",{className:"bg-white rounded-[2.5rem] shadow-2xl shadow-slate-200/20 border border-slate-50 p-6 sm:p-8",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-8 bg-slate-50/80 p-3 rounded-[1.5rem] border border-slate-100",children:[C.jsxs("div",{className:"flex-1 text-center",children:[C.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:b.labelSource}),C.jsx("div",{className:"text-sm font-black text-indigo-900 py-1",children:se(m.sourceLang)})]}),C.jsx("button",{onClick:X,className:"group w-10 h-10 rounded-full bg-white flex items-center justify-center text-indigo-600 transition-all shadow-md hover:shadow-xl hover:scale-110 active:scale-95 border border-slate-50",children:C.jsx("i",{className:"fas fa-right-left text-xs transition-transform group-hover:rotate-180"})}),C.jsxs("div",{className:"flex-1 text-center",children:[C.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:b.labelTarget}),C.jsx("div",{className:"text-sm font-black text-indigo-900 py-1",children:se(m.targetLang)})]})]}),C.jsxs("div",{className:"relative",children:[C.jsx("textarea",{className:`w-full h-36 sm:h-44 p-6 rounded-[2rem] bg-slate-50/50 border border-transparent focus:bg-white focus:border-indigo-200 focus:ring-[6px] focus:ring-indigo-500/5 text-xl text-slate-800 placeholder:text-slate-300 transition-all duration-300 resize-none outline-none ${m.sourceLang===pt.JAPANESE?"font-jp":"font-dz"}`,placeholder:s==="ja"?`${se(m.sourceLang)}${b.placeholderPrefix}`:`${b.placeholderPrefix} ${se(m.sourceLang)}`,value:m.inputText,onChange:B=>g(P=>({...P,inputText:B.target.value})),onKeyDown:B=>B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),q())}),C.jsxs("div",{className:"absolute bottom-5 right-5 flex items-center gap-3",children:[m.inputText.length>0&&C.jsx("button",{onClick:()=>g(B=>({...B,inputText:"",result:null})),className:"w-10 h-10 rounded-full flex items-center justify-center text-slate-300 hover:text-slate-400 transition-colors",children:C.jsx("i",{className:"fas fa-circle-xmark text-lg"})}),C.jsxs("button",{onClick:q,disabled:m.isLoading||!m.inputText.trim(),className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-100 disabled:text-slate-300 text-white px-8 py-3.5 rounded-[1.25rem] font-black shadow-2xl shadow-indigo-200/50 transition-all flex items-center gap-2.5 text-sm uppercase tracking-wider active:scale-95",children:[m.isLoading?C.jsx("i",{className:"fas fa-circle-notch fa-spin"}):C.jsx("i",{className:"fas fa-bolt-lightning"}),m.isLoading?b.btnTranslating:b.btnTranslate]})]})]})]}),m.error&&C.jsxs("div",{className:"bg-rose-50 border border-rose-100 text-rose-500 px-6 py-4 rounded-[1.5rem] flex items-center gap-4 animate-in fade-in slide-in-from-top-4 duration-500",children:[C.jsx("i",{className:"fas fa-triangle-exclamation text-lg"}),C.jsx("span",{className:"text-xs font-black uppercase tracking-wide",children:m.error})]}),m.result&&C.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700",children:C.jsx(Qb,{result:m.result,sourceLang:m.sourceLang,targetLang:m.targetLang,onPlaySource:()=>{const B=m.sourceLang===pt.DZONGKHA?m.result.sourceTransliteration:m.result.sourceText;te(B,m.sourceLang,!0)},onPlayTarget:()=>{const B=m.targetLang===pt.DZONGKHA?m.result.targetTransliteration:m.result.targetText;te(B,m.targetLang,!1)},isSpeakingSource:m.isSpeakingSource,isSpeakingTarget:m.isSpeaking,uiLang:s,onUpdate:async B=>{console.log("onUpdate called with:",B),g(P=>({...P,result:B})),await L()}})})]}):C.jsx("div",{className:"animate-in fade-in duration-500",children:C.jsx(hO,{history:[...v,...m.history],onBack:()=>ie("translate"),onPlayAudio:te,isSpeakingSource:m.isSpeakingSource,isSpeakingTarget:m.isSpeaking,uiLang:s,onHistoryUpdate:async()=>{console.log("Reloading history after edit..."),await L()},onApprove:async B=>{console.log("Approving item:",B),await cO(B),await L()}})})})]}):C.jsx("div",{className:"min-h-screen bg-[#FDFDFE] flex items-center justify-center px-4",children:C.jsxs("div",{className:"max-w-md w-full",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-3xl flex items-center justify-center text-white shadow-xl shadow-indigo-100/50 mx-auto mb-6",children:C.jsx("i",{className:"fas fa-language text-4xl"})}),C.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-2",children:b.appTitle}),C.jsx("p",{className:"text-slate-500 text-sm",children:b.appSubtitle})]}),C.jsxs("button",{onClick:Le,className:"w-full bg-white border-2 border-slate-200 rounded-2xl px-6 py-4 flex items-center justify-center gap-3 hover:border-indigo-300 hover:shadow-lg transition-all active:scale-95",children:[C.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[C.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),C.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),C.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),C.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),C.jsx("span",{className:"text-slate-700 font-bold text-lg",children:"Sign in with Google"})]})]})})},Kb=document.getElementById("root");if(!Kb)throw new Error("Could not find root element to mount to");const mO=RT.createRoot(Kb);mO.render(C.jsx(ST.StrictMode,{children:C.jsx(dO,{})}));</script>
</head>
<body>
    <div id="loading-overlay">
        <div className="w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"></div>
    </div>
    <div id="root"></div>
    <script>
        // Service Worker registration with forced update
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js?v=4', { updateViaCache: 'none' })
                    .then(reg => {
                        console.log('SW registered');
                        // Force update check
                        reg.update();
                    })
                    .catch(err => console.log('SW error', err));
            });
        }
        
        // Remove loading overlay once script starts
        window.addEventListener('DOMContentLoaded', () => {
            const loader = document.getElementById('loading-overlay');
            if (loader) loader.style.opacity = '0';
            setTimeout(() => loader?.remove(), 300);
        });
    </script>
</body>
</html>
