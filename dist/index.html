
<!DOCTYPE html>
<html lang="ja" data-version="4">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>LingoBridge | JA-DZ Translator</title>
    
    <!-- PWA / SEO -->
    <meta name="theme-color" content="#4f46e5">
    <meta name="description" content="AI-powered Japanese and Dzongkha language learning bridge with word analysis and speech.">
    <link rel="manifest" href="./manifest-1cprZKfl.json?v=4">
    
    <!-- iOS / Apple Specific -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="LingoBridge">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3898/3898082.png">

    <!-- Fonts and Icons -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Noto+Sans+JP:wght@400;500;700;900&family=Noto+Sans+Tibetan:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --safe-area-inset-top: env(safe-area-inset-top, 0px);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFDFE;
            -webkit-tap-highlight-color: transparent;
            padding-top: var(--safe-area-inset-top);
        }
        .font-jp { font-family: 'Noto Sans JP', sans-serif; }
        .font-dz { font-family: 'Noto Sans Tibetan', sans-serif; }
        
        * { scroll-behavior: smooth; }
        ::-webkit-scrollbar { display: none; }
        
        /* Loading overlay for better start-up feel */
        #loading-overlay {
            position: fixed;
            inset: 0;
            background: #FDFDFE;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s ease;
        }
    </style>


<script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.38.0",
    "react": "https://esm.sh/react@^19.2.3",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
  <script type="module" crossorigin>(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function r_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Oc={exports:{}},La={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function cb(){if(tp)return La;tp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var m in u)m!=="key"&&(f[m]=u[m])}else f=u;return u=f.ref,{$$typeof:a,type:r,key:h,ref:u!==void 0?u:null,props:f}}return La.Fragment=n,La.jsx=l,La.jsxs=l,La}var np;function fb(){return np||(np=1,Oc.exports=cb()),Oc.exports}var w=fb(),Mc={exports:{}},P={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function hb(){if(ip)return P;ip=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function H(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,I={};function Q(b,M,B){this.props=b,this.context=M,this.refs=I,this.updater=B||U}Q.prototype.isReactComponent={},Q.prototype.setState=function(b,M){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,M,"setState")},Q.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function se(){}se.prototype=Q.prototype;function J(b,M,B){this.props=b,this.context=M,this.refs=I,this.updater=B||U}var W=J.prototype=new se;W.constructor=J,q(W,Q.prototype),W.isPureReactComponent=!0;var ze=Array.isArray;function $(){}var ee={H:null,A:null,T:null,S:null},tt=Object.prototype.hasOwnProperty;function pt(b,M,B){var Y=B.ref;return{$$typeof:a,type:b,key:M,ref:Y!==void 0?Y:null,props:B}}function cn(b,M){return pt(b.type,M,b.props)}function ut(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function Fe(b){var M={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(B){return M[B]})}var Bt=/\/+/g;function Nt(b,M){return typeof b=="object"&&b!==null&&b.key!=null?Fe(""+b.key):M.toString(36)}function _t(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then($,$):(b.status="pending",b.then(function(M){b.status==="pending"&&(b.status="fulfilled",b.value=M)},function(M){b.status==="pending"&&(b.status="rejected",b.reason=M)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function O(b,M,B,Y,te){var re=typeof b;(re==="undefined"||re==="boolean")&&(b=null);var ve=!1;if(b===null)ve=!0;else switch(re){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(b.$$typeof){case a:case n:ve=!0;break;case E:return ve=b._init,O(ve(b._payload),M,B,Y,te)}}if(ve)return te=te(b),ve=Y===""?"."+Nt(b,0):Y,ze(te)?(B="",ve!=null&&(B=ve.replace(Bt,"$&/")+"/"),O(te,M,B,"",function(ql){return ql})):te!=null&&(ut(te)&&(te=cn(te,B+(te.key==null||b&&b.key===te.key?"":(""+te.key).replace(Bt,"$&/")+"/")+ve)),M.push(te)),1;ve=0;var ht=Y===""?".":Y+":";if(ze(b))for(var Be=0;Be<b.length;Be++)Y=b[Be],re=ht+Nt(Y,Be),ve+=O(Y,M,B,re,te);else if(Be=H(b),typeof Be=="function")for(b=Be.call(b),Be=0;!(Y=b.next()).done;)Y=Y.value,re=ht+Nt(Y,Be++),ve+=O(Y,M,B,re,te);else if(re==="object"){if(typeof b.then=="function")return O(_t(b),M,B,Y,te);throw M=String(b),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ve}function k(b,M,B){if(b==null)return b;var Y=[],te=0;return O(b,Y,"","",function(re){return M.call(B,re,te++)}),Y}function Z(b){if(b._status===-1){var M=b._result;M=M(),M.then(function(B){(b._status===0||b._status===-1)&&(b._status=1,b._result=B)},function(B){(b._status===0||b._status===-1)&&(b._status=2,b._result=B)}),b._status===-1&&(b._status=0,b._result=M)}if(b._status===1)return b._result.default;throw b._result}var ye=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},be={map:k,forEach:function(b,M,B){k(b,function(){M.apply(this,arguments)},B)},count:function(b){var M=0;return k(b,function(){M++}),M},toArray:function(b){return k(b,function(M){return M})||[]},only:function(b){if(!ut(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return P.Activity=y,P.Children=be,P.Component=Q,P.Fragment=l,P.Profiler=u,P.PureComponent=J,P.StrictMode=r,P.Suspense=p,P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,P.__COMPILER_RUNTIME={__proto__:null,c:function(b){return ee.H.useMemoCache(b)}},P.cache=function(b){return function(){return b.apply(null,arguments)}},P.cacheSignal=function(){return null},P.cloneElement=function(b,M,B){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var Y=q({},b.props),te=b.key;if(M!=null)for(re in M.key!==void 0&&(te=""+M.key),M)!tt.call(M,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&M.ref===void 0||(Y[re]=M[re]);var re=arguments.length-2;if(re===1)Y.children=B;else if(1<re){for(var ve=Array(re),ht=0;ht<re;ht++)ve[ht]=arguments[ht+2];Y.children=ve}return pt(b.type,te,Y)},P.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},P.createElement=function(b,M,B){var Y,te={},re=null;if(M!=null)for(Y in M.key!==void 0&&(re=""+M.key),M)tt.call(M,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(te[Y]=M[Y]);var ve=arguments.length-2;if(ve===1)te.children=B;else if(1<ve){for(var ht=Array(ve),Be=0;Be<ve;Be++)ht[Be]=arguments[Be+2];te.children=ht}if(b&&b.defaultProps)for(Y in ve=b.defaultProps,ve)te[Y]===void 0&&(te[Y]=ve[Y]);return pt(b,re,te)},P.createRef=function(){return{current:null}},P.forwardRef=function(b){return{$$typeof:m,render:b}},P.isValidElement=ut,P.lazy=function(b){return{$$typeof:E,_payload:{_status:-1,_result:b},_init:Z}},P.memo=function(b,M){return{$$typeof:g,type:b,compare:M===void 0?null:M}},P.startTransition=function(b){var M=ee.T,B={};ee.T=B;try{var Y=b(),te=ee.S;te!==null&&te(B,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then($,ye)}catch(re){ye(re)}finally{M!==null&&B.types!==null&&(M.types=B.types),ee.T=M}},P.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},P.use=function(b){return ee.H.use(b)},P.useActionState=function(b,M,B){return ee.H.useActionState(b,M,B)},P.useCallback=function(b,M){return ee.H.useCallback(b,M)},P.useContext=function(b){return ee.H.useContext(b)},P.useDebugValue=function(){},P.useDeferredValue=function(b,M){return ee.H.useDeferredValue(b,M)},P.useEffect=function(b,M){return ee.H.useEffect(b,M)},P.useEffectEvent=function(b){return ee.H.useEffectEvent(b)},P.useId=function(){return ee.H.useId()},P.useImperativeHandle=function(b,M,B){return ee.H.useImperativeHandle(b,M,B)},P.useInsertionEffect=function(b,M){return ee.H.useInsertionEffect(b,M)},P.useLayoutEffect=function(b,M){return ee.H.useLayoutEffect(b,M)},P.useMemo=function(b,M){return ee.H.useMemo(b,M)},P.useOptimistic=function(b,M){return ee.H.useOptimistic(b,M)},P.useReducer=function(b,M,B){return ee.H.useReducer(b,M,B)},P.useRef=function(b){return ee.H.useRef(b)},P.useState=function(b){return ee.H.useState(b)},P.useSyncExternalStore=function(b,M,B){return ee.H.useSyncExternalStore(b,M,B)},P.useTransition=function(){return ee.H.useTransition()},P.version="19.2.3",P}var lp;function pf(){return lp||(lp=1,Mc.exports=hb()),Mc.exports}var Pe=pf();const db=r_(Pe);var zc={exports:{}},Ua={},Lc={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function mb(){return ap||(ap=1,(function(a){function n(O,k){var Z=O.length;O.push(k);e:for(;0<Z;){var ye=Z-1>>>1,be=O[ye];if(0<u(be,k))O[ye]=k,O[Z]=be,Z=ye;else break e}}function l(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var k=O[0],Z=O.pop();if(Z!==k){O[0]=Z;e:for(var ye=0,be=O.length,b=be>>>1;ye<b;){var M=2*(ye+1)-1,B=O[M],Y=M+1,te=O[Y];if(0>u(B,Z))Y<be&&0>u(te,B)?(O[ye]=te,O[Y]=Z,ye=Y):(O[ye]=B,O[M]=Z,ye=M);else if(Y<be&&0>u(te,Z))O[ye]=te,O[Y]=Z,ye=Y;else break e}}return k}function u(O,k){var Z=O.sortIndex-k.sortIndex;return Z!==0?Z:O.id-k.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,y=null,S=3,H=!1,U=!1,q=!1,I=!1,Q=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function W(O){for(var k=l(g);k!==null;){if(k.callback===null)r(g);else if(k.startTime<=O)r(g),k.sortIndex=k.expirationTime,n(p,k);else break;k=l(g)}}function ze(O){if(q=!1,W(O),!U)if(l(p)!==null)U=!0,$||($=!0,Fe());else{var k=l(g);k!==null&&_t(ze,k.startTime-O)}}var $=!1,ee=-1,tt=5,pt=-1;function cn(){return I?!0:!(a.unstable_now()-pt<tt)}function ut(){if(I=!1,$){var O=a.unstable_now();pt=O;var k=!0;try{e:{U=!1,q&&(q=!1,se(ee),ee=-1),H=!0;var Z=S;try{t:{for(W(O),y=l(p);y!==null&&!(y.expirationTime>O&&cn());){var ye=y.callback;if(typeof ye=="function"){y.callback=null,S=y.priorityLevel;var be=ye(y.expirationTime<=O);if(O=a.unstable_now(),typeof be=="function"){y.callback=be,W(O),k=!0;break t}y===l(p)&&r(p),W(O)}else r(p);y=l(p)}if(y!==null)k=!0;else{var b=l(g);b!==null&&_t(ze,b.startTime-O),k=!1}}break e}finally{y=null,S=Z,H=!1}k=void 0}}finally{k?Fe():$=!1}}}var Fe;if(typeof J=="function")Fe=function(){J(ut)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Nt=Bt.port2;Bt.port1.onmessage=ut,Fe=function(){Nt.postMessage(null)}}else Fe=function(){Q(ut,0)};function _t(O,k){ee=Q(function(){O(a.unstable_now())},k)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tt=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(O){switch(S){case 1:case 2:case 3:var k=3;break;default:k=S}var Z=S;S=k;try{return O()}finally{S=Z}},a.unstable_requestPaint=function(){I=!0},a.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Z=S;S=O;try{return k()}finally{S=Z}},a.unstable_scheduleCallback=function(O,k,Z){var ye=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ye+Z:ye):Z=ye,O){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Z+be,O={id:E++,callback:k,priorityLevel:O,startTime:Z,expirationTime:be,sortIndex:-1},Z>ye?(O.sortIndex=Z,n(g,O),l(p)===null&&O===l(g)&&(q?(se(ee),ee=-1):q=!0,_t(ze,Z-ye))):(O.sortIndex=be,n(p,O),U||H||(U=!0,$||($=!0,Fe()))),O},a.unstable_shouldYield=cn,a.unstable_wrapCallback=function(O){var k=S;return function(){var Z=S;S=k;try{return O.apply(this,arguments)}finally{S=Z}}}})(Uc)),Uc}var sp;function gb(){return sp||(sp=1,Lc.exports=mb()),Lc.exports}var Hc={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function pb(){if(rp)return ct;rp=1;var a=pf();function n(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(p,g,E){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:p,containerInfo:g,implementation:E}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ct.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(p,g,null,E)},ct.flushSync=function(p){var g=h.T,E=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=E,r.d.f()}},ct.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},ct.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ct.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,y=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,H=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:H}):E==="script"&&r.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:H,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ct.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},ct.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,y=m(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ct.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},ct.requestFormReset=function(p){r.d.r(p)},ct.unstable_batchedUpdates=function(p,g){return p(g)},ct.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},ct.version="19.2.3",ct}var op;function _b(){if(op)return Hc.exports;op=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Hc.exports=pb(),Hc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function yb(){if(up)return Ua;up=1;var a=gb(),n=pf(),l=_b();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,s=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){i=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return p(o),e;if(c===s)return p(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==s.return)i=o,s=c;else{for(var d=!1,_=o.child;_;){if(_===i){d=!0,i=o,s=c;break}if(_===s){d=!0,s=o,i=c;break}_=_.sibling}if(!d){for(_=c.child;_;){if(_===i){d=!0,i=c,s=o;break}if(_===s){d=!0,s=c,i=o;break}_=_.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),J=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),pt=Symbol.for("react.activity"),cn=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function Fe(e){return e===null||typeof e!="object"?null:(e=ut&&e[ut]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Symbol.for("react.client.reference");function Nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case Q:return"Profiler";case I:return"StrictMode";case ze:return"Suspense";case $:return"SuspenseList";case pt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case J:return e.displayName||"Context";case se:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:Nt(e.type)||"Memo";case tt:t=e._payload,e=e._init;try{return Nt(e(t))}catch{}}return null}var _t=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ye=[],be=-1;function b(e){return{current:e}}function M(e){0>be||(e.current=ye[be],ye[be]=null,be--)}function B(e,t){be++,ye[be]=e.current,e.current=t}var Y=b(null),te=b(null),re=b(null),ve=b(null);function ht(e,t){switch(B(re,t),B(te,e),B(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cg(t),e=xg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(Y),B(Y,e)}function Be(){M(Y),M(te),M(re)}function ql(e){e.memoizedState!==null&&B(ve,e);var t=Y.current,i=xg(t,e.type);t!==i&&(B(te,e),B(Y,i))}function hs(e){te.current===e&&(M(Y),M(te)),ve.current===e&&(M(ve),Ra._currentValue=Z)}var ho,eh;function mi(e){if(ho===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ho=t&&t[1]||"",eh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ho+e+eh}var mo=!1;function go(e,t){if(!e||mo)return"";mo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(D){var A=D}Reflect.construct(e,[],L)}else{try{L.call()}catch(D){A=D}e.call(L.prototype)}}else{try{throw Error()}catch(D){A=D}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(D){if(D&&A&&typeof D.stack=="string")return[D.stack,A.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),d=c[0],_=c[1];if(d&&_){var v=d.split(`
`),N=_.split(`
`);for(o=s=0;s<v.length&&!v[s].includes("DetermineComponentFrameRoot");)s++;for(;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;if(s===v.length||o===N.length)for(s=v.length-1,o=N.length-1;1<=s&&0<=o&&v[s]!==N[o];)o--;for(;1<=s&&0<=o;s--,o--)if(v[s]!==N[o]){if(s!==1||o!==1)do if(s--,o--,0>o||v[s]!==N[o]){var R=`
`+v[s].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=s&&0<=o);break}}}finally{mo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?mi(i):""}function qy(e,t){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return e.child!==t&&t!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return go(e.type,!1);case 11:return go(e.type.render,!1);case 1:return go(e.type,!0);case 31:return mi("Activity");default:return""}}function th(e){try{var t="",i=null;do t+=qy(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var po=Object.prototype.hasOwnProperty,_o=a.unstable_scheduleCallback,yo=a.unstable_cancelCallback,Gy=a.unstable_shouldYield,Yy=a.unstable_requestPaint,At=a.unstable_now,Vy=a.unstable_getCurrentPriorityLevel,nh=a.unstable_ImmediatePriority,ih=a.unstable_UserBlockingPriority,ds=a.unstable_NormalPriority,Qy=a.unstable_LowPriority,lh=a.unstable_IdlePriority,Xy=a.log,Ky=a.unstable_setDisableYieldValue,Gl=null,wt=null;function Ln(e){if(typeof Xy=="function"&&Ky(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Gl,e)}catch{}}var Dt=Math.clz32?Math.clz32:Jy,Zy=Math.log,Fy=Math.LN2;function Jy(e){return e>>>=0,e===0?32:31-(Zy(e)/Fy|0)|0}var ms=256,gs=262144,ps=4194304;function gi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _s(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~c,s!==0?o=gi(s):(d&=_,d!==0?o=gi(d):i||(i=_&~e,i!==0&&(o=gi(i))))):(_=s&~c,_!==0?o=gi(_):d!==0?o=gi(d):i||(i=s&~e,i!==0&&(o=gi(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function Yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ah(){var e=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),e}function vo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Vl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Py(e,t,i,s,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,N=e.hiddenUpdates;for(i=d&~i;0<i;){var R=31-Dt(i),L=1<<R;_[R]=0,v[R]=-1;var A=N[R];if(A!==null)for(N[R]=null,R=0;R<A.length;R++){var D=A[R];D!==null&&(D.lane&=-536870913)}i&=~L}s!==0&&sh(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function sh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Dt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function rh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Dt(i),o=1<<s;o&t|e[s]&t&&(e[s]|=t),i&=~o}}function oh(e,t){var i=t&-t;return i=(i&42)!==0?1:bo(i),(i&(e.suspendedLanes|t))!==0?0:i}function bo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function So(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uh(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Zg(e.type))}function ch(e,t){var i=k.p;try{return k.p=e,t()}finally{k.p=i}}var Un=Math.random().toString(36).slice(2),nt="__reactFiber$"+Un,yt="__reactProps$"+Un,Gi="__reactContainer$"+Un,Eo="__reactEvents$"+Un,$y="__reactListeners$"+Un,ev="__reactHandles$"+Un,fh="__reactResources$"+Un,Ql="__reactMarker$"+Un;function To(e){delete e[nt],delete e[yt],delete e[Eo],delete e[$y],delete e[ev]}function Yi(e){var t=e[nt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Gi]||i[nt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Mg(e);e!==null;){if(i=e[nt])return i;e=Mg(e)}return t}e=i,i=e.parentNode}return null}function Vi(e){if(e=e[nt]||e[Gi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Qi(e){var t=e[fh];return t||(t=e[fh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[Ql]=!0}var hh=new Set,dh={};function pi(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(dh[e]=t,e=0;e<t.length;e++)hh.add(t[e])}var tv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mh={},gh={};function nv(e){return po.call(gh,e)?!0:po.call(mh,e)?!1:tv.test(e)?gh[e]=!0:(mh[e]=!0,!1)}function ys(e,t,i){if(nv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function vs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function fn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ph(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iv(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){i=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Co(e){if(!e._valueTracker){var t=ph(e)?"checked":"value";e._valueTracker=iv(e,t,""+e[t])}}function _h(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=ph(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lv=/[\n"\\]/g;function qt(e){return e.replace(lv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xo(e,t,i,s,o,c,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?No(e,d,kt(t)):i!=null?No(e,d,kt(i)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+kt(_):e.removeAttribute("name")}function yh(e,t,i,s,o,c,d,_){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Co(e);return}i=i!=null?""+kt(i):"",t=t!=null?""+kt(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Co(e)}function No(e,t,i){t==="number"&&bs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ki(e,t,i,s){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&s&&(e[i].defaultSelected=!0)}else{for(i=""+kt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function vh(e,t,i){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+kt(i):""}function bh(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(r(92));if(_t(s)){if(1<s.length)throw Error(r(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=kt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Co(e)}function Zi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var av=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sh(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||av.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Eh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&i[o]!==s&&Sh(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&Sh(e,c,t[c])}function Ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(e){return rv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hn(){}var wo=null;function Do(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Ji=null;function Th(e){var t=Vi(e);if(t&&(e=t.stateNode)){var i=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var o=s[yt]||null;if(!o)throw Error(r(90));xo(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&_h(s)}break e;case"textarea":vh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ki(e,!!i.multiple,t,!1)}}}var Ro=!1;function Ch(e,t,i){if(Ro)return e(t,i);Ro=!0;try{var s=e(t);return s}finally{if(Ro=!1,(Fi!==null||Ji!==null)&&(or(),Fi&&(t=Fi,e=Ji,Ji=Fi=null,Th(t),e)))for(t=0;t<e.length;t++)Th(e[t])}}function Kl(e,t){var i=e.stateNode;if(i===null)return null;var s=i[yt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(dn)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{Oo=!1}var Hn=null,Mo=null,Es=null;function xh(){if(Es)return Es;var e,t=Mo,i=t.length,s,o="value"in Hn?Hn.value:Hn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===o[c-s];s++);return Es=o.slice(e,1<s?1-s:void 0)}function Ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function Nh(){return!1}function vt(e){function t(i,s,o,c,d){this._reactName=i,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(c):c[_]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Cs:Nh,this.isPropagationStopped=Nh,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=vt(_i),Fl=y({},_i,{view:0,detail:0}),ov=vt(Fl),zo,Lo,Jl,Ns=y({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jl&&(Jl&&e.type==="mousemove"?(zo=e.screenX-Jl.screenX,Lo=e.screenY-Jl.screenY):Lo=zo=0,Jl=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),Ah=vt(Ns),uv=y({},Ns,{dataTransfer:0}),cv=vt(uv),fv=y({},Fl,{relatedTarget:0}),Uo=vt(fv),hv=y({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),dv=vt(hv),mv=y({},_i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gv=vt(mv),pv=y({},_i,{data:0}),wh=vt(pv),_v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vv[e])?!!t[e]:!1}function Ho(){return bv}var Sv=y({},Fl,{key:function(e){if(e.key){var t=_v[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ev=vt(Sv),Tv=y({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=vt(Tv),Cv=y({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),xv=vt(Cv),Nv=y({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=vt(Nv),wv=y({},Ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dv=vt(wv),Rv=y({},_i,{newState:0,oldState:0}),Ov=vt(Rv),Mv=[9,13,27,32],jo=dn&&"CompositionEvent"in window,Wl=null;dn&&"documentMode"in document&&(Wl=document.documentMode);var zv=dn&&"TextEvent"in window&&!Wl,Rh=dn&&(!jo||Wl&&8<Wl&&11>=Wl),Oh=" ",Mh=!1;function zh(e,t){switch(e){case"keyup":return Mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function Lv(e,t){switch(e){case"compositionend":return Lh(t);case"keypress":return t.which!==32?null:(Mh=!0,Oh);case"textInput":return e=t.data,e===Oh&&Mh?null:e;default:return null}}function Uv(e,t){if(Wi)return e==="compositionend"||!jo&&zh(e,t)?(e=xh(),Es=Mo=Hn=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rh&&t.locale!=="ko"?null:t.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hv[e.type]:t==="textarea"}function Hh(e,t,i,s){Fi?Ji?Ji.push(s):Ji=[s]:Fi=s,t=gr(t,"onChange"),0<t.length&&(i=new xs("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Pl=null,$l=null;function jv(e){yg(e,0)}function As(e){var t=Xl(e);if(_h(t))return e}function jh(e,t){if(e==="change")return t}var Ih=!1;if(dn){var Io;if(dn){var Bo="oninput"in document;if(!Bo){var Bh=document.createElement("div");Bh.setAttribute("oninput","return;"),Bo=typeof Bh.oninput=="function"}Io=Bo}else Io=!1;Ih=Io&&(!document.documentMode||9<document.documentMode)}function kh(){Pl&&(Pl.detachEvent("onpropertychange",qh),$l=Pl=null)}function qh(e){if(e.propertyName==="value"&&As($l)){var t=[];Hh(t,$l,e,Do(e)),Ch(jv,t)}}function Iv(e,t,i){e==="focusin"?(kh(),Pl=t,$l=i,Pl.attachEvent("onpropertychange",qh)):e==="focusout"&&kh()}function Bv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As($l)}function kv(e,t){if(e==="click")return As(t)}function qv(e,t){if(e==="input"||e==="change")return As(t)}function Gv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:Gv;function ea(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var o=i[s];if(!po.call(t,o)||!Rt(e[o],t[o]))return!1}return!0}function Gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yh(e,t){var i=Gh(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Gh(i)}}function Vh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=bs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=bs(e.document)}return t}function ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Yv=dn&&"documentMode"in document&&11>=document.documentMode,Pi=null,qo=null,ta=null,Go=!1;function Xh(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Go||Pi==null||Pi!==bs(s)||(s=Pi,"selectionStart"in s&&ko(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ta&&ea(ta,s)||(ta=s,s=gr(qo,"onSelect"),0<s.length&&(t=new xs("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Pi)))}function yi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var $i={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},Yo={},Kh={};dn&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function vi(e){if(Yo[e])return Yo[e];if(!$i[e])return e;var t=$i[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Kh)return Yo[e]=t[i];return e}var Zh=vi("animationend"),Fh=vi("animationiteration"),Jh=vi("animationstart"),Vv=vi("transitionrun"),Qv=vi("transitionstart"),Xv=vi("transitioncancel"),Wh=vi("transitionend"),Ph=new Map,Vo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vo.push("scrollEnd");function Pt(e,t){Ph.set(e,t),pi(t,[e])}var ws=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],el=0,Qo=0;function Ds(){for(var e=el,t=Qo=el=0;t<e;){var i=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var o=Gt[t];Gt[t++]=null;var c=Gt[t];if(Gt[t++]=null,s!==null&&o!==null){var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}c!==0&&$h(i,o,c)}}function Rs(e,t,i,s){Gt[el++]=e,Gt[el++]=t,Gt[el++]=i,Gt[el++]=s,Qo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Xo(e,t,i,s){return Rs(e,t,i,s),Os(e)}function bi(e,t){return Rs(e,null,null,t),Os(e)}function $h(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,s=c.alternate,s!==null&&(s.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Dt(i),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=i|536870912),c):null}function Os(e){if(50<Ta)throw Ta=0,tc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var tl={};function Kv(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,i,s){return new Kv(e,t,i,s)}function Ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mn(e,t){var i=e.alternate;return i===null?(i=Ot(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function ed(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ms(e,t,i,s,o,c){var d=0;if(s=e,typeof e=="function")Ko(e)&&(d=1);else if(typeof e=="string")d=P0(e,i,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pt:return e=Ot(31,i,t,o),e.elementType=pt,e.lanes=c,e;case q:return Si(i.children,o,c,t);case I:d=8,o|=24;break;case Q:return e=Ot(12,i,t,o|2),e.elementType=Q,e.lanes=c,e;case ze:return e=Ot(13,i,t,o),e.elementType=ze,e.lanes=c,e;case $:return e=Ot(19,i,t,o),e.elementType=$,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:d=10;break e;case se:d=9;break e;case W:d=11;break e;case ee:d=14;break e;case tt:d=16,s=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Ot(d,i,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function Si(e,t,i,s){return e=Ot(7,e,s,t),e.lanes=i,e}function Zo(e,t,i){return e=Ot(6,e,null,t),e.lanes=i,e}function td(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function Fo(e,t,i){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nd=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var i=nd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:th(t)},nd.set(e,t),t)}return{value:e,source:t,stack:th(t)}}var nl=[],il=0,zs=null,na=0,Vt=[],Qt=0,jn=null,an=1,sn="";function gn(e,t){nl[il++]=na,nl[il++]=zs,zs=e,na=t}function id(e,t,i){Vt[Qt++]=an,Vt[Qt++]=sn,Vt[Qt++]=jn,jn=e;var s=an;e=sn;var o=32-Dt(s)-1;s&=~(1<<o),i+=1;var c=32-Dt(t)+o;if(30<c){var d=o-o%5;c=(s&(1<<d)-1).toString(32),s>>=d,o-=d,an=1<<32-Dt(t)+o|i<<o|s,sn=c+e}else an=1<<c|i<<o|s,sn=e}function Jo(e){e.return!==null&&(gn(e,1),id(e,1,0))}function Wo(e){for(;e===zs;)zs=nl[--il],nl[il]=null,na=nl[--il],nl[il]=null;for(;e===jn;)jn=Vt[--Qt],Vt[Qt]=null,sn=Vt[--Qt],Vt[Qt]=null,an=Vt[--Qt],Vt[Qt]=null}function ld(e,t){Vt[Qt++]=an,Vt[Qt++]=sn,Vt[Qt++]=jn,an=t.id,sn=t.overflow,jn=e}var it=null,Oe=null,de=!1,In=null,Xt=!1,Po=Error(r(519));function Bn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ia(Yt(t,e)),Po}function ad(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[nt]=e,t[yt]=s,i){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(i=0;i<xa.length;i++)ue(xa[i],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),yh(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),bh(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Eg(t.textContent,i)?(s.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),s.onScroll!=null&&ue("scroll",t),s.onScrollEnd!=null&&ue("scrollend",t),s.onClick!=null&&(t.onclick=hn),t=!0):t=!1,t||Bn(e,!0)}function sd(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:it=it.return}}function ll(e){if(e!==it)return!1;if(!de)return sd(e),de=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||pc(e.type,e.memoizedProps)),i=!i),i&&Oe&&Bn(e),sd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Oe=Og(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Oe=Og(e)}else t===27?(t=Oe,$n(e.type)?(e=Sc,Sc=null,Oe=e):Oe=t):Oe=it?Zt(e.stateNode.nextSibling):null;return!0}function Ei(){Oe=it=null,de=!1}function $o(){var e=In;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),In=null),e}function ia(e){In===null?In=[e]:In.push(e)}var eu=b(null),Ti=null,pn=null;function kn(e,t,i){B(eu,t._currentValue),t._currentValue=i}function _n(e){e._currentValue=eu.current,M(eu)}function tu(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function nu(e,t,i,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var _=c;c=o;for(var v=0;v<t.length;v++)if(_.context===t[v]){c.lanes|=i,_=c.alternate,_!==null&&(_.lanes|=i),tu(c.return,i,e),s||(d=null);break e}c=_.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),tu(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function al(e,t,i,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var _=o.type;Rt(o.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(o===ve.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ra):e=[Ra])}o=o.return}e!==null&&nu(t,e,i,s),t.flags|=262144}function Ls(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){Ti=e,pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return rd(Ti,e)}function Us(e,t){return Ti===null&&Ci(e),rd(e,t)}function rd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},pn===null){if(e===null)throw Error(r(308));pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pn=pn.next=t;return i}var Zv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Fv=a.unstable_scheduleCallback,Jv=a.unstable_NormalPriority,Ge={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iu(){return{controller:new Zv,data:new Map,refCount:0}}function la(e){e.refCount--,e.refCount===0&&Fv(Jv,function(){e.controller.abort()})}var aa=null,lu=0,sl=0,rl=null;function Wv(e,t){if(aa===null){var i=aa=[];lu=0,sl=rc(),rl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return lu++,t.then(od,od),t}function od(){if(--lu===0&&aa!==null){rl!==null&&(rl.status="fulfilled");var e=aa;aa=null,sl=0,rl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Pv(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),s}var ud=O.S;O.S=function(e,t){Xm=At(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Wv(e,t),ud!==null&&ud(e,t)};var xi=b(null);function au(){var e=xi.current;return e!==null?e:Ae.pooledCache}function Hs(e,t){t===null?B(xi,xi.current):B(xi,t.pool)}function cd(){var e=au();return e===null?null:{parent:Ge._currentValue,pool:e}}var ol=Error(r(460)),su=Error(r(474)),js=Error(r(542)),Is={then:function(){}};function fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(hn,hn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,md(e),e;default:if(typeof t.status=="string")t.then(hn,hn);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,md(e),e}throw Ai=t,ol}}function Ni(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ai=i,ol):i}}var Ai=null;function dd(){if(Ai===null)throw Error(r(459));var e=Ai;return Ai=null,e}function md(e){if(e===ol||e===js)throw Error(r(483))}var ul=null,sa=0;function Bs(e){var t=sa;return sa+=1,ul===null&&(ul=[]),hd(ul,e,t)}function ra(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ks(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gd(e){function t(C,T){if(e){var x=C.deletions;x===null?(C.deletions=[T],C.flags|=16):x.push(T)}}function i(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function s(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function o(C,T){return C=mn(C,T),C.index=0,C.sibling=null,C}function c(C,T,x){return C.index=x,e?(x=C.alternate,x!==null?(x=x.index,x<T?(C.flags|=67108866,T):x):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,T,x,z){return T===null||T.tag!==6?(T=Zo(x,C.mode,z),T.return=C,T):(T=o(T,x),T.return=C,T)}function v(C,T,x,z){var X=x.type;return X===q?R(C,T,x.props.children,z,x.key):T!==null&&(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===tt&&Ni(X)===T.type)?(T=o(T,x.props),ra(T,x),T.return=C,T):(T=Ms(x.type,x.key,x.props,null,C.mode,z),ra(T,x),T.return=C,T)}function N(C,T,x,z){return T===null||T.tag!==4||T.stateNode.containerInfo!==x.containerInfo||T.stateNode.implementation!==x.implementation?(T=Fo(x,C.mode,z),T.return=C,T):(T=o(T,x.children||[]),T.return=C,T)}function R(C,T,x,z,X){return T===null||T.tag!==7?(T=Si(x,C.mode,z,X),T.return=C,T):(T=o(T,x),T.return=C,T)}function L(C,T,x){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Zo(""+T,C.mode,x),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case H:return x=Ms(T.type,T.key,T.props,null,C.mode,x),ra(x,T),x.return=C,x;case U:return T=Fo(T,C.mode,x),T.return=C,T;case tt:return T=Ni(T),L(C,T,x)}if(_t(T)||Fe(T))return T=Si(T,C.mode,x,null),T.return=C,T;if(typeof T.then=="function")return L(C,Bs(T),x);if(T.$$typeof===J)return L(C,Us(C,T),x);ks(C,T)}return null}function A(C,T,x,z){var X=T!==null?T.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return X!==null?null:_(C,T,""+x,z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return x.key===X?v(C,T,x,z):null;case U:return x.key===X?N(C,T,x,z):null;case tt:return x=Ni(x),A(C,T,x,z)}if(_t(x)||Fe(x))return X!==null?null:R(C,T,x,z,null);if(typeof x.then=="function")return A(C,T,Bs(x),z);if(x.$$typeof===J)return A(C,T,Us(C,x),z);ks(C,x)}return null}function D(C,T,x,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return C=C.get(x)||null,_(T,C,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case H:return C=C.get(z.key===null?x:z.key)||null,v(T,C,z,X);case U:return C=C.get(z.key===null?x:z.key)||null,N(T,C,z,X);case tt:return z=Ni(z),D(C,T,x,z,X)}if(_t(z)||Fe(z))return C=C.get(x)||null,R(T,C,z,X,null);if(typeof z.then=="function")return D(C,T,x,Bs(z),X);if(z.$$typeof===J)return D(C,T,x,Us(T,z),X);ks(T,z)}return null}function G(C,T,x,z){for(var X=null,me=null,V=T,ie=T=0,he=null;V!==null&&ie<x.length;ie++){V.index>ie?(he=V,V=null):he=V.sibling;var ge=A(C,V,x[ie],z);if(ge===null){V===null&&(V=he);break}e&&V&&ge.alternate===null&&t(C,V),T=c(ge,T,ie),me===null?X=ge:me.sibling=ge,me=ge,V=he}if(ie===x.length)return i(C,V),de&&gn(C,ie),X;if(V===null){for(;ie<x.length;ie++)V=L(C,x[ie],z),V!==null&&(T=c(V,T,ie),me===null?X=V:me.sibling=V,me=V);return de&&gn(C,ie),X}for(V=s(V);ie<x.length;ie++)he=D(V,C,ie,x[ie],z),he!==null&&(e&&he.alternate!==null&&V.delete(he.key===null?ie:he.key),T=c(he,T,ie),me===null?X=he:me.sibling=he,me=he);return e&&V.forEach(function(li){return t(C,li)}),de&&gn(C,ie),X}function K(C,T,x,z){if(x==null)throw Error(r(151));for(var X=null,me=null,V=T,ie=T=0,he=null,ge=x.next();V!==null&&!ge.done;ie++,ge=x.next()){V.index>ie?(he=V,V=null):he=V.sibling;var li=A(C,V,ge.value,z);if(li===null){V===null&&(V=he);break}e&&V&&li.alternate===null&&t(C,V),T=c(li,T,ie),me===null?X=li:me.sibling=li,me=li,V=he}if(ge.done)return i(C,V),de&&gn(C,ie),X;if(V===null){for(;!ge.done;ie++,ge=x.next())ge=L(C,ge.value,z),ge!==null&&(T=c(ge,T,ie),me===null?X=ge:me.sibling=ge,me=ge);return de&&gn(C,ie),X}for(V=s(V);!ge.done;ie++,ge=x.next())ge=D(V,C,ie,ge.value,z),ge!==null&&(e&&ge.alternate!==null&&V.delete(ge.key===null?ie:ge.key),T=c(ge,T,ie),me===null?X=ge:me.sibling=ge,me=ge);return e&&V.forEach(function(ub){return t(C,ub)}),de&&gn(C,ie),X}function xe(C,T,x,z){if(typeof x=="object"&&x!==null&&x.type===q&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case H:e:{for(var X=x.key;T!==null;){if(T.key===X){if(X=x.type,X===q){if(T.tag===7){i(C,T.sibling),z=o(T,x.props.children),z.return=C,C=z;break e}}else if(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===tt&&Ni(X)===T.type){i(C,T.sibling),z=o(T,x.props),ra(z,x),z.return=C,C=z;break e}i(C,T);break}else t(C,T);T=T.sibling}x.type===q?(z=Si(x.props.children,C.mode,z,x.key),z.return=C,C=z):(z=Ms(x.type,x.key,x.props,null,C.mode,z),ra(z,x),z.return=C,C=z)}return d(C);case U:e:{for(X=x.key;T!==null;){if(T.key===X)if(T.tag===4&&T.stateNode.containerInfo===x.containerInfo&&T.stateNode.implementation===x.implementation){i(C,T.sibling),z=o(T,x.children||[]),z.return=C,C=z;break e}else{i(C,T);break}else t(C,T);T=T.sibling}z=Fo(x,C.mode,z),z.return=C,C=z}return d(C);case tt:return x=Ni(x),xe(C,T,x,z)}if(_t(x))return G(C,T,x,z);if(Fe(x)){if(X=Fe(x),typeof X!="function")throw Error(r(150));return x=X.call(x),K(C,T,x,z)}if(typeof x.then=="function")return xe(C,T,Bs(x),z);if(x.$$typeof===J)return xe(C,T,Us(C,x),z);ks(C,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,T!==null&&T.tag===6?(i(C,T.sibling),z=o(T,x),z.return=C,C=z):(i(C,T),z=Zo(x,C.mode,z),z.return=C,C=z),d(C)):i(C,T)}return function(C,T,x,z){try{sa=0;var X=xe(C,T,x,z);return ul=null,X}catch(V){if(V===ol||V===js)throw V;var me=Ot(29,V,null,C.mode);return me.lanes=z,me.return=C,me}finally{}}}var wi=gd(!0),pd=gd(!1),qn=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(_e&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Os(e),$h(e,null,i),t}return Rs(e,s,t,i),Os(e)}function oa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,rh(e,i)}}function uu(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var cu=!1;function ua(){if(cu){var e=rl;if(e!==null)throw e}}function ca(e,t,i,s){cu=!1;var o=e.updateQueue;qn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,_=o.shared.pending;if(_!==null){o.shared.pending=null;var v=_,N=v.next;v.next=null,d===null?c=N:d.next=N,d=v;var R=e.alternate;R!==null&&(R=R.updateQueue,_=R.lastBaseUpdate,_!==d&&(_===null?R.firstBaseUpdate=N:_.next=N,R.lastBaseUpdate=v))}if(c!==null){var L=o.baseState;d=0,R=N=v=null,_=c;do{var A=_.lane&-536870913,D=A!==_.lane;if(D?(fe&A)===A:(s&A)===A){A!==0&&A===sl&&(cu=!0),R!==null&&(R=R.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var G=e,K=_;A=t;var xe=i;switch(K.tag){case 1:if(G=K.payload,typeof G=="function"){L=G.call(xe,L,A);break e}L=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=K.payload,A=typeof G=="function"?G.call(xe,L,A):G,A==null)break e;L=y({},L,A);break e;case 2:qn=!0}}A=_.callback,A!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[A]:D.push(A))}else D={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},R===null?(N=R=D,v=L):R=R.next=D,d|=A;if(_=_.next,_===null){if(_=o.shared.pending,_===null)break;D=_,_=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);R===null&&(v=L),o.baseState=v,o.firstBaseUpdate=N,o.lastBaseUpdate=R,c===null&&(o.shared.lanes=0),Zn|=d,e.lanes=d,e.memoizedState=L}}function _d(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function yd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)_d(i[e],t)}var cl=b(null),qs=b(0);function vd(e,t){e=Nn,B(qs,e),B(cl,t),Nn=e|t.baseLanes}function fu(){B(qs,Nn),B(cl,cl.current)}function hu(){Nn=qs.current,M(cl),M(qs)}var Mt=b(null),Kt=null;function Vn(e){var t=e.alternate;B(ke,ke.current&1),B(Mt,e),Kt===null&&(t===null||cl.current!==null||t.memoizedState!==null)&&(Kt=e)}function du(e){B(ke,ke.current),B(Mt,e),Kt===null&&(Kt=e)}function bd(e){e.tag===22?(B(ke,ke.current),B(Mt,e),Kt===null&&(Kt=e)):Qn()}function Qn(){B(ke,ke.current),B(Mt,Mt.current)}function zt(e){M(Mt),Kt===e&&(Kt=null),M(ke)}var ke=b(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||vc(i)||bc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yn=0,ne=null,Te=null,Ye=null,Ys=!1,fl=!1,Di=!1,Vs=0,fa=0,hl=null,$v=0;function Ue(){throw Error(r(321))}function mu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Rt(e[i],t[i]))return!1;return!0}function gu(e,t,i,s,o,c){return yn=c,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?im:Ru,Di=!1,c=i(s,o),Di=!1,fl&&(c=Ed(t,i,s,o)),Sd(e),c}function Sd(e){O.H=ma;var t=Te!==null&&Te.next!==null;if(yn=0,Ye=Te=ne=null,Ys=!1,fa=0,hl=null,t)throw Error(r(300));e===null||Ve||(e=e.dependencies,e!==null&&Ls(e)&&(Ve=!0))}function Ed(e,t,i,s){ne=e;var o=0;do{if(fl&&(hl=null),fa=0,fl=!1,25<=o)throw Error(r(301));if(o+=1,Ye=Te=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}O.H=lm,c=t(i,s)}while(fl);return c}function e0(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?ha(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(ne.flags|=1024),t}function pu(){var e=Vs!==0;return Vs=0,e}function _u(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function yu(e){if(Ys){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ys=!1}yn=0,Ye=Te=ne=null,fl=!1,fa=Vs=0,hl=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ne.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function qe(){if(Te===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ye===null?ne.memoizedState:Ye.next;if(t!==null)Ye=t,Te=e;else{if(e===null)throw ne.alternate===null?Error(r(467)):Error(r(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ye===null?ne.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Qs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(e){var t=fa;return fa+=1,hl===null&&(hl=[]),e=hd(hl,e,t),t=ne,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?im:Ru),e}function Xs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ha(e);if(e.$$typeof===J)return lt(e)}throw Error(r(438,String(e)))}function vu(e){var t=null,i=ne.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=ne.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Qs(),ne.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=cn;return t.index++,i}function vn(e,t){return typeof t=="function"?t(e):t}function Ks(e){var t=qe();return bu(t,Te,e)}function bu(e,t,i){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=i;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var _=d=null,v=null,N=t,R=!1;do{var L=N.lane&-536870913;if(L!==N.lane?(fe&L)===L:(yn&L)===L){var A=N.revertLane;if(A===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),L===sl&&(R=!0);else if((yn&A)===A){N=N.next,A===sl&&(R=!0);continue}else L={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=L,d=c):v=v.next=L,ne.lanes|=A,Zn|=A;L=N.action,Di&&i(c,L),c=N.hasEagerState?N.eagerState:i(c,L)}else A={lane:L,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=A,d=c):v=v.next=A,ne.lanes|=L,Zn|=L;N=N.next}while(N!==null&&N!==t);if(v===null?d=c:v.next=_,!Rt(c,e.memoizedState)&&(Ve=!0,R&&(i=rl,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=v,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Su(e){var t=qe(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var s=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);Rt(c,t.memoizedState)||(Ve=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,s]}function Td(e,t,i){var s=ne,o=qe(),c=de;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!Rt((Te||o).memoizedState,i);if(d&&(o.memoizedState=i,Ve=!0),o=o.queue,Cu(Nd.bind(null,s,o,e),[e]),o.getSnapshot!==t||d||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,dl(9,{destroy:void 0},xd.bind(null,s,o,i,t),null),Ae===null)throw Error(r(349));c||(yn&127)!==0||Cd(s,t,i)}return i}function Cd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ne.updateQueue,t===null?(t=Qs(),ne.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function xd(e,t,i,s){t.value=i,t.getSnapshot=s,Ad(t)&&wd(e)}function Nd(e,t,i){return i(function(){Ad(t)&&wd(e)})}function Ad(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Rt(e,i)}catch{return!0}}function wd(e){var t=bi(e,2);t!==null&&Ct(t,e,2)}function Eu(e){var t=dt();if(typeof e=="function"){var i=e;if(e=i(),Di){Ln(!0);try{i()}finally{Ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function Dd(e,t,i,s){return e.baseState=i,bu(e,Te,typeof s=="function"?s:vn)}function t0(e,t,i,s,o){if(Js(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};O.T!==null?i(!0):c.isTransition=!1,s(c),i=t.pending,i===null?(c.next=t.pending=c,Rd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function Rd(e,t){var i=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=O.T,d={};O.T=d;try{var _=i(o,s),v=O.S;v!==null&&v(d,_),Od(e,t,_)}catch(N){Tu(e,t,N)}finally{c!==null&&d.types!==null&&(c.types=d.types),O.T=c}}else try{c=i(o,s),Od(e,t,c)}catch(N){Tu(e,t,N)}}function Od(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Md(e,t,s)},function(s){return Tu(e,t,s)}):Md(e,t,i)}function Md(e,t,i){t.status="fulfilled",t.value=i,zd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Rd(e,i)))}function Tu(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,zd(t),t=t.next;while(t!==s)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ld(e,t){return t}function Ud(e,t){if(de){var i=Ae.formState;if(i!==null){e:{var s=ne;if(de){if(Oe){t:{for(var o=Oe,c=Xt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Zt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Oe=Zt(o.nextSibling),s=o.data==="F!";break e}}Bn(s)}s=!1}s&&(t=i[0])}}return i=dt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ld,lastRenderedState:t},i.queue=s,i=em.bind(null,ne,s),s.dispatch=i,s=Eu(!1),c=Du.bind(null,ne,!1,s.queue),s=dt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,i=t0.bind(null,ne,o,c,i),o.dispatch=i,s.memoizedState=e,[t,i,!1]}function Hd(e){var t=qe();return jd(t,Te,e)}function jd(e,t,i){if(t=bu(e,t,Ld)[0],e=Ks(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ha(t)}catch(d){throw d===ol?js:d}else s=t;t=qe();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(ne.flags|=2048,dl(9,{destroy:void 0},n0.bind(null,o,i),null)),[s,c,e]}function n0(e,t){e.action=t}function Id(e){var t=qe(),i=Te;if(i!==null)return jd(t,i,e);qe(),t=t.memoizedState,i=qe();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function dl(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=ne.updateQueue,t===null&&(t=Qs(),ne.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Bd(){return qe().memoizedState}function Zs(e,t,i,s){var o=dt();ne.flags|=e,o.memoizedState=dl(1|t,{destroy:void 0},i,s===void 0?null:s)}function Fs(e,t,i,s){var o=qe();s=s===void 0?null:s;var c=o.memoizedState.inst;Te!==null&&s!==null&&mu(s,Te.memoizedState.deps)?o.memoizedState=dl(t,c,i,s):(ne.flags|=e,o.memoizedState=dl(1|t,c,i,s))}function kd(e,t){Zs(8390656,8,e,t)}function Cu(e,t){Fs(2048,8,e,t)}function i0(e){ne.flags|=4;var t=ne.updateQueue;if(t===null)t=Qs(),ne.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function qd(e){var t=qe().memoizedState;return i0({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Gd(e,t){return Fs(4,2,e,t)}function Yd(e,t){return Fs(4,4,e,t)}function Vd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qd(e,t,i){i=i!=null?i.concat([e]):null,Fs(4,4,Vd.bind(null,t,e),i)}function xu(){}function Xd(e,t){var i=qe();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&mu(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Kd(e,t){var i=qe();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&mu(t,s[1]))return s[0];if(s=e(),Di){Ln(!0);try{e()}finally{Ln(!1)}}return i.memoizedState=[s,t],s}function Nu(e,t,i){return i===void 0||(yn&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Zm(),ne.lanes|=e,Zn|=e,i)}function Zd(e,t,i,s){return Rt(i,t)?i:cl.current!==null?(e=Nu(e,i,s),Rt(e,t)||(Ve=!0),e):(yn&42)===0||(yn&1073741824)!==0&&(fe&261930)===0?(Ve=!0,e.memoizedState=i):(e=Zm(),ne.lanes|=e,Zn|=e,t)}function Fd(e,t,i,s,o){var c=k.p;k.p=c!==0&&8>c?c:8;var d=O.T,_={};O.T=_,Du(e,!1,t,i);try{var v=o(),N=O.S;if(N!==null&&N(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var R=Pv(v,s);da(e,t,R,Ht(e))}else da(e,t,s,Ht(e))}catch(L){da(e,t,{then:function(){},status:"rejected",reason:L},Ht())}finally{k.p=c,d!==null&&_.types!==null&&(d.types=_.types),O.T=d}}function l0(){}function Au(e,t,i,s){if(e.tag!==5)throw Error(r(476));var o=Jd(e).queue;Fd(e,o,t,Z,i===null?l0:function(){return Wd(e),i(s)})}function Jd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:Z},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Wd(e){var t=Jd(e);t.next===null&&(t=e.alternate.memoizedState),da(e,t.next.queue,{},Ht())}function wu(){return lt(Ra)}function Pd(){return qe().memoizedState}function $d(){return qe().memoizedState}function a0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ht();e=Gn(i);var s=Yn(t,e,i);s!==null&&(Ct(s,t,i),oa(s,t,i)),t={cache:iu()},e.payload=t;return}t=t.return}}function s0(e,t,i){var s=Ht();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Js(e)?tm(t,i):(i=Xo(e,t,i,s),i!==null&&(Ct(i,e,s),nm(i,t,s)))}function em(e,t,i){var s=Ht();da(e,t,i,s)}function da(e,t,i,s){var o={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Js(e))tm(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,_=c(d,i);if(o.hasEagerState=!0,o.eagerState=_,Rt(_,d))return Rs(e,t,o,0),Ae===null&&Ds(),!1}catch{}finally{}if(i=Xo(e,t,o,s),i!==null)return Ct(i,e,s),nm(i,t,s),!0}return!1}function Du(e,t,i,s){if(s={lane:2,revertLane:rc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Js(e)){if(t)throw Error(r(479))}else t=Xo(e,i,s,2),t!==null&&Ct(t,e,2)}function Js(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function tm(e,t){fl=Ys=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function nm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,rh(e,i)}}var ma={readContext:lt,use:Xs,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};ma.useEffectEvent=Ue;var im={readContext:lt,use:Xs,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:kd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Zs(4194308,4,Vd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){Zs(4,2,e,t)},useMemo:function(e,t){var i=dt();t=t===void 0?null:t;var s=e();if(Di){Ln(!0);try{e()}finally{Ln(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=dt();if(i!==void 0){var o=i(t);if(Di){Ln(!0);try{i(t)}finally{Ln(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=s0.bind(null,ne,e),[s.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Eu(e);var t=e.queue,i=em.bind(null,ne,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:xu,useDeferredValue:function(e,t){var i=dt();return Nu(i,e,t)},useTransition:function(){var e=Eu(!1);return e=Fd.bind(null,ne,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=ne,o=dt();if(de){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Ae===null)throw Error(r(349));(fe&127)!==0||Cd(s,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,kd(Nd.bind(null,s,c,e),[e]),s.flags|=2048,dl(9,{destroy:void 0},xd.bind(null,s,c,i,t),null),i},useId:function(){var e=dt(),t=Ae.identifierPrefix;if(de){var i=sn,s=an;i=(s&~(1<<32-Dt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Vs++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=$v++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wu,useFormState:Ud,useActionState:Ud,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Du.bind(null,ne,!0,i),i.dispatch=t,[e,t]},useMemoCache:vu,useCacheRefresh:function(){return dt().memoizedState=a0.bind(null,ne)},useEffectEvent:function(e){var t=dt(),i={impl:e};return t.memoizedState=i,function(){if((_e&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Ru={readContext:lt,use:Xs,useCallback:Xd,useContext:lt,useEffect:Cu,useImperativeHandle:Qd,useInsertionEffect:Gd,useLayoutEffect:Yd,useMemo:Kd,useReducer:Ks,useRef:Bd,useState:function(){return Ks(vn)},useDebugValue:xu,useDeferredValue:function(e,t){var i=qe();return Zd(i,Te.memoizedState,e,t)},useTransition:function(){var e=Ks(vn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:ha(e),t]},useSyncExternalStore:Td,useId:Pd,useHostTransitionStatus:wu,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,t){var i=qe();return Dd(i,Te,e,t)},useMemoCache:vu,useCacheRefresh:$d};Ru.useEffectEvent=qd;var lm={readContext:lt,use:Xs,useCallback:Xd,useContext:lt,useEffect:Cu,useImperativeHandle:Qd,useInsertionEffect:Gd,useLayoutEffect:Yd,useMemo:Kd,useReducer:Su,useRef:Bd,useState:function(){return Su(vn)},useDebugValue:xu,useDeferredValue:function(e,t){var i=qe();return Te===null?Nu(i,e,t):Zd(i,Te.memoizedState,e,t)},useTransition:function(){var e=Su(vn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:ha(e),t]},useSyncExternalStore:Td,useId:Pd,useHostTransitionStatus:wu,useFormState:Id,useActionState:Id,useOptimistic:function(e,t){var i=qe();return Te!==null?Dd(i,Te,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:vu,useCacheRefresh:$d};lm.useEffectEvent=qd;function Ou(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Mu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Ht(),o=Gn(s);o.payload=t,i!=null&&(o.callback=i),t=Yn(e,o,s),t!==null&&(Ct(t,e,s),oa(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Ht(),o=Gn(s);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Yn(e,o,s),t!==null&&(Ct(t,e,s),oa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),s=Gn(i);s.tag=2,t!=null&&(s.callback=t),t=Yn(e,s,i),t!==null&&(Ct(t,e,i),oa(t,e,i))}};function am(e,t,i,s,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,d):t.prototype&&t.prototype.isPureReactComponent?!ea(i,s)||!ea(o,c):!0}function sm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&Mu.enqueueReplaceState(t,t.state,null)}function Ri(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}function rm(e){ws(e)}function om(e){console.error(e)}function um(e){ws(e)}function Ws(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function cm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function zu(e,t,i){return i=Gn(i),i.tag=3,i.payload={element:null},i.callback=function(){Ws(e,t)},i}function fm(e){return e=Gn(e),e.tag=3,e}function hm(e,t,i,s){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){cm(t,i,s)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){cm(t,i,s),typeof o!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function r0(e,t,i,s,o){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&al(t,i,o,!0),i=Mt.current,i!==null){switch(i.tag){case 31:case 13:return Kt===null?ur():i.alternate===null&&He===0&&(He=3),i.flags&=-257,i.flags|=65536,i.lanes=o,s===Is?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),lc(e,s,o)),!1;case 22:return i.flags|=65536,s===Is?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),lc(e,s,o)),!1}throw Error(r(435,i.tag))}return lc(e,s,o),ur(),!1}if(de)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Po&&(e=Error(r(422),{cause:s}),ia(Yt(e,i)))):(s!==Po&&(t=Error(r(423),{cause:s}),ia(Yt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Yt(s,i),o=zu(e.stateNode,s,o),uu(e,o),He!==4&&(He=2)),!1;var c=Error(r(520),{cause:s});if(c=Yt(c,i),Ea===null?Ea=[c]:Ea.push(c),He!==4&&(He=2),t===null)return!0;s=Yt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=zu(i.stateNode,s,e),uu(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Fn===null||!Fn.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=fm(o),hm(o,e,i,s),uu(i,o),!1}i=i.return}while(i!==null);return!1}var Lu=Error(r(461)),Ve=!1;function at(e,t,i,s){t.child=e===null?pd(t,null,i,s):wi(t,e.child,i,s)}function dm(e,t,i,s,o){i=i.render;var c=t.ref;if("ref"in s){var d={};for(var _ in s)_!=="ref"&&(d[_]=s[_])}else d=s;return Ci(t),s=gu(e,t,i,d,c,o),_=pu(),e!==null&&!Ve?(_u(e,t,o),bn(e,t,o)):(de&&_&&Jo(t),t.flags|=1,at(e,t,s,o),t.child)}function mm(e,t,i,s,o){if(e===null){var c=i.type;return typeof c=="function"&&!Ko(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,gm(e,t,c,s,o)):(e=Ms(i.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Gu(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:ea,i(d,s)&&e.ref===t.ref)return bn(e,t,o)}return t.flags|=1,e=mn(c,s),e.ref=t.ref,e.return=t,t.child=e}function gm(e,t,i,s,o){if(e!==null){var c=e.memoizedProps;if(ea(c,s)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=s=c,Gu(e,o))(e.flags&131072)!==0&&(Ve=!0);else return t.lanes=e.lanes,bn(e,t,o)}return Uu(e,t,i,s,o)}function pm(e,t,i,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return _m(e,t,c,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hs(t,c!==null?c.cachePool:null),c!==null?vd(t,c):fu(),bd(t);else return s=t.lanes=536870912,_m(e,t,c!==null?c.baseLanes|i:i,i,s)}else c!==null?(Hs(t,c.cachePool),vd(t,c),Qn(),t.memoizedState=null):(e!==null&&Hs(t,null),fu(),Qn());return at(e,t,o,i),t.child}function ga(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _m(e,t,i,s,o){var c=au();return c=c===null?null:{parent:Ge._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&Hs(t,null),fu(),bd(t),e!==null&&al(e,t,s,!0),t.childLanes=o,null}function Ps(e,t){return t=er({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ym(e,t,i){return wi(t,e.child,null,i),e=Ps(t,t.pendingProps),e.flags|=2,zt(t),t.memoizedState=null,e}function o0(e,t,i){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(s.mode==="hidden")return e=Ps(t,s),t.lanes=536870912,ga(null,e);if(du(t),(e=Oe)?(e=Rg(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},i=td(e),i.return=t,t.child=i,it=t,Oe=null)):e=null,e===null)throw Bn(t);return t.lanes=536870912,null}return Ps(t,s)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(du(t),o)if(t.flags&256)t.flags&=-257,t=ym(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ve||al(e,t,i,!1),o=(i&e.childLanes)!==0,Ve||o){if(s=Ae,s!==null&&(d=oh(s,i),d!==0&&d!==c.retryLane))throw c.retryLane=d,bi(e,d),Ct(s,e,d),Lu;ur(),t=ym(e,t,i)}else e=c.treeContext,Oe=Zt(d.nextSibling),it=t,de=!0,In=null,Xt=!1,e!==null&&ld(t,e),t=Ps(t,s),t.flags|=4096;return t}return e=mn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function $s(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Uu(e,t,i,s,o){return Ci(t),i=gu(e,t,i,s,void 0,o),s=pu(),e!==null&&!Ve?(_u(e,t,o),bn(e,t,o)):(de&&s&&Jo(t),t.flags|=1,at(e,t,i,o),t.child)}function vm(e,t,i,s,o,c){return Ci(t),t.updateQueue=null,i=Ed(t,s,i,o),Sd(e),s=pu(),e!==null&&!Ve?(_u(e,t,c),bn(e,t,c)):(de&&s&&Jo(t),t.flags|=1,at(e,t,i,c),t.child)}function bm(e,t,i,s,o){if(Ci(t),t.stateNode===null){var c=tl,d=i.contextType;typeof d=="object"&&d!==null&&(c=lt(d)),c=new i(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Mu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},ru(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?lt(d):tl,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Ou(t,i,d,s),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Mu.enqueueReplaceState(c,c.state,null),ca(t,s,c,o),ua(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var _=t.memoizedProps,v=Ri(i,_);c.props=v;var N=c.context,R=i.contextType;d=tl,typeof R=="object"&&R!==null&&(d=lt(R));var L=i.getDerivedStateFromProps;R=typeof L=="function"||typeof c.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,R||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(_||N!==d)&&sm(t,c,s,d),qn=!1;var A=t.memoizedState;c.state=A,ca(t,s,c,o),ua(),N=t.memoizedState,_||A!==N||qn?(typeof L=="function"&&(Ou(t,i,L,s),N=t.memoizedState),(v=qn||am(t,i,v,s,A,N,d))?(R||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=N),c.props=s,c.state=N,c.context=d,s=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,ou(e,t),d=t.memoizedProps,R=Ri(i,d),c.props=R,L=t.pendingProps,A=c.context,N=i.contextType,v=tl,typeof N=="object"&&N!==null&&(v=lt(N)),_=i.getDerivedStateFromProps,(N=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==L||A!==v)&&sm(t,c,s,v),qn=!1,A=t.memoizedState,c.state=A,ca(t,s,c,o),ua();var D=t.memoizedState;d!==L||A!==D||qn||e!==null&&e.dependencies!==null&&Ls(e.dependencies)?(typeof _=="function"&&(Ou(t,i,_,s),D=t.memoizedState),(R=qn||am(t,i,R,s,A,D,v)||e!==null&&e.dependencies!==null&&Ls(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,D,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,D,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),c.props=s,c.state=D,c.context=v,s=R):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,$s(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=wi(t,e.child,null,o),t.child=wi(t,null,i,o)):at(e,t,i,o),t.memoizedState=c.state,e=t.child):e=bn(e,t,o),e}function Sm(e,t,i,s){return Ei(),t.flags|=256,at(e,t,i,s),t.child}var Hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:cd()}}function Iu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ut),e}function Em(e,t,i){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(o?Vn(t):Qn(),(e=Oe)?(e=Rg(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},i=td(e),i.return=t,t.child=i,it=t,Oe=null)):e=null,e===null)throw Bn(t);return bc(e)?t.lanes=32:t.lanes=536870912,null}var _=s.children;return s=s.fallback,o?(Qn(),o=t.mode,_=er({mode:"hidden",children:_},o),s=Si(s,o,i,null),_.return=t,s.return=t,_.sibling=s,t.child=_,s=t.child,s.memoizedState=ju(i),s.childLanes=Iu(e,d,i),t.memoizedState=Hu,ga(null,s)):(Vn(t),Bu(t,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(c)t.flags&256?(Vn(t),t.flags&=-257,t=ku(e,t,i)):t.memoizedState!==null?(Qn(),t.child=e.child,t.flags|=128,t=null):(Qn(),_=s.fallback,o=t.mode,s=er({mode:"visible",children:s.children},o),_=Si(_,o,i,null),_.flags|=2,s.return=t,_.return=t,s.sibling=_,t.child=s,wi(t,e.child,null,i),s=t.child,s.memoizedState=ju(i),s.childLanes=Iu(e,d,i),t.memoizedState=Hu,t=ga(null,s));else if(Vn(t),bc(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var N=d.dgst;d=N,s=Error(r(419)),s.stack="",s.digest=d,ia({value:s,source:null,stack:null}),t=ku(e,t,i)}else if(Ve||al(e,t,i,!1),d=(i&e.childLanes)!==0,Ve||d){if(d=Ae,d!==null&&(s=oh(d,i),s!==0&&s!==v.retryLane))throw v.retryLane=s,bi(e,s),Ct(d,e,s),Lu;vc(_)||ur(),t=ku(e,t,i)}else vc(_)?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,Oe=Zt(_.nextSibling),it=t,de=!0,In=null,Xt=!1,e!==null&&ld(t,e),t=Bu(t,s.children),t.flags|=4096);return t}return o?(Qn(),_=s.fallback,o=t.mode,v=e.child,N=v.sibling,s=mn(v,{mode:"hidden",children:s.children}),s.subtreeFlags=v.subtreeFlags&65011712,N!==null?_=mn(N,_):(_=Si(_,o,i,null),_.flags|=2),_.return=t,s.return=t,s.sibling=_,t.child=s,ga(null,s),s=t.child,_=e.child.memoizedState,_===null?_=ju(i):(o=_.cachePool,o!==null?(v=Ge._currentValue,o=o.parent!==v?{parent:v,pool:v}:o):o=cd(),_={baseLanes:_.baseLanes|i,cachePool:o}),s.memoizedState=_,s.childLanes=Iu(e,d,i),t.memoizedState=Hu,ga(e.child,s)):(Vn(t),i=e.child,e=i.sibling,i=mn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Bu(e,t){return t=er({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function er(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function ku(e,t,i){return wi(t,e.child,null,i),e=Bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),tu(e.return,t,i)}function qu(e,t,i,s,o,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:o,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=o,d.treeForkCount=c)}function Cm(e,t,i){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var d=ke.current,_=(d&2)!==0;if(_?(d=d&1|2,t.flags|=128):d&=1,B(ke,d),at(e,t,s,i),s=de?na:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tm(e,i,t);else if(e.tag===19)Tm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Gs(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),qu(t,!1,o,i,c,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Gs(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}qu(t,!0,i,null,c,s);break;case"together":qu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function bn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(al(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=mn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=mn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ls(e)))}function u0(e,t,i){switch(t.tag){case 3:ht(t,t.stateNode.containerInfo),kn(t,Ge,e.memoizedState.cache),Ei();break;case 27:case 5:ql(t);break;case 4:ht(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,du(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Vn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Em(e,t,i):(Vn(t),e=bn(e,t,i),e!==null?e.sibling:null);Vn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(al(e,t,i,!1),s=(i&t.childLanes)!==0),o){if(s)return Cm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(ke,ke.current),s)break;return null;case 22:return t.lanes=0,pm(e,t,i,t.pendingProps);case 24:kn(t,Ge,e.memoizedState.cache)}return bn(e,t,i)}function xm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!Gu(e,i)&&(t.flags&128)===0)return Ve=!1,u0(e,t,i);Ve=(e.flags&131072)!==0}else Ve=!1,de&&(t.flags&1048576)!==0&&id(t,na,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ni(t.elementType),t.type=e,typeof e=="function")Ko(e)?(s=Ri(e,s),t.tag=1,t=bm(null,t,e,s,i)):(t.tag=0,t=Uu(null,t,e,s,i));else{if(e!=null){var o=e.$$typeof;if(o===W){t.tag=11,t=dm(null,t,e,s,i);break e}else if(o===ee){t.tag=14,t=mm(null,t,e,s,i);break e}}throw t=Nt(e)||e,Error(r(306,t,""))}}return t;case 0:return Uu(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,o=Ri(s,t.pendingProps),bm(e,t,s,o,i);case 3:e:{if(ht(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,ou(e,t),ca(t,s,null,i);var d=t.memoizedState;if(s=d.cache,kn(t,Ge,s),s!==c.cache&&nu(t,[Ge],i,!0),ua(),s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Sm(e,t,s,i);break e}else if(s!==o){o=Yt(Error(r(424)),t),ia(o),t=Sm(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Zt(e.firstChild),it=t,de=!0,In=null,Xt=!0,i=pd(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ei(),s===o){t=bn(e,t,i);break e}at(e,t,s,i)}t=t.child}return t;case 26:return $s(e,t),e===null?(i=Hg(t.type,null,t.pendingProps,null))?t.memoizedState=i:de||(i=t.type,e=t.pendingProps,s=pr(re.current).createElement(i),s[nt]=t,s[yt]=e,st(s,i,e),Je(s),t.stateNode=s):t.memoizedState=Hg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ql(t),e===null&&de&&(s=t.stateNode=zg(t.type,t.pendingProps,re.current),it=t,Xt=!0,o=Oe,$n(t.type)?(Sc=o,Oe=Zt(s.firstChild)):Oe=o),at(e,t,t.pendingProps.children,i),$s(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((o=s=Oe)&&(s=B0(s,t.type,t.pendingProps,Xt),s!==null?(t.stateNode=s,it=t,Oe=Zt(s.firstChild),Xt=!1,o=!0):o=!1),o||Bn(t)),ql(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,s=c.children,pc(o,c)?s=null:d!==null&&pc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=gu(e,t,e0,null,null,i),Ra._currentValue=o),$s(e,t),at(e,t,s,i),t.child;case 6:return e===null&&de&&((e=i=Oe)&&(i=k0(i,t.pendingProps,Xt),i!==null?(t.stateNode=i,it=t,Oe=null,e=!0):e=!1),e||Bn(t)),null;case 13:return Em(e,t,i);case 4:return ht(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=wi(t,null,s,i):at(e,t,s,i),t.child;case 11:return dm(e,t,t.type,t.pendingProps,i);case 7:return at(e,t,t.pendingProps,i),t.child;case 8:return at(e,t,t.pendingProps.children,i),t.child;case 12:return at(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,kn(t,t.type,s.value),at(e,t,s.children,i),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Ci(t),o=lt(o),s=s(o),t.flags|=1,at(e,t,s,i),t.child;case 14:return mm(e,t,t.type,t.pendingProps,i);case 15:return gm(e,t,t.type,t.pendingProps,i);case 19:return Cm(e,t,i);case 31:return o0(e,t,i);case 22:return pm(e,t,i,t.pendingProps);case 24:return Ci(t),s=lt(Ge),e===null?(o=au(),o===null&&(o=Ae,c=iu(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:s,cache:o},ru(t),kn(t,Ge,o)):((e.lanes&i)!==0&&(ou(e,t),ca(t,null,null,i),ua()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),kn(t,Ge,s)):(s=c.cache,kn(t,Ge,s),s!==o.cache&&nu(t,[Ge],i,!0))),at(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Sn(e){e.flags|=4}function Yu(e,t,i,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Pm())e.flags|=8192;else throw Ai=Is,su}else e.flags&=-16777217}function Nm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qg(t))if(Pm())e.flags|=8192;else throw Ai=Is,su}function tr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ah():536870912,e.lanes|=t,_l|=t)}function pa(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function c0(e,t,i){var s=t.pendingProps;switch(Wo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),_n(Ge),Be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ll(t)?Sn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$o())),Me(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(Sn(t),c!==null?(Me(t),Nm(t,c)):(Me(t),Yu(t,o,null,s,i))):c?c!==e.memoizedState?(Sn(t),Me(t),Nm(t,c)):(Me(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Sn(t),Me(t),Yu(t,o,e,s,i)),null;case 27:if(hs(t),i=re.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Sn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Me(t),null}e=Y.current,ll(t)?ad(t):(e=zg(o,s,i),t.stateNode=e,Sn(t))}return Me(t),null;case 5:if(hs(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Sn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Me(t),null}if(c=Y.current,ll(t))ad(t);else{var d=pr(re.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?d.createElement(o,{is:s.is}):d.createElement(o)}}c[nt]=t,c[yt]=s;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(st(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Sn(t)}}return Me(t),Yu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Sn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=re.current,ll(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,o=it,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[nt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Eg(e.nodeValue,i)),e||Bn(t,!0)}else e=pr(e).createTextNode(s),e[nt]=t,t.stateNode=e}return Me(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=ll(t),i!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[nt]=t}else Ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),e=!1}else i=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(zt(t),t):(zt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Me(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ll(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[nt]=t}else Ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Me(t),o=!1}else o=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(zt(t),t):(zt(t),null)}return zt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),tr(t,t.updateQueue),Me(t),null);case 4:return Be(),e===null&&fc(t.stateNode.containerInfo),Me(t),null;case 10:return _n(t.type),Me(t),null;case 19:if(M(ke),s=t.memoizedState,s===null)return Me(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)pa(s,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Gs(e),c!==null){for(t.flags|=128,pa(s,!1),e=c.updateQueue,t.updateQueue=e,tr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)ed(i,e),i=i.sibling;return B(ke,ke.current&1|2),de&&gn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&At()>sr&&(t.flags|=128,o=!0,pa(s,!1),t.lanes=4194304)}else{if(!o)if(e=Gs(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,tr(t,e),pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!de)return Me(t),null}else 2*At()-s.renderingStartTime>sr&&i!==536870912&&(t.flags|=128,o=!0,pa(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,i=ke.current,B(ke,o?i&1|2:i&1),de&&gn(t,s.treeForkCount),e):(Me(t),null);case 22:case 23:return zt(t),hu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),i=t.updateQueue,i!==null&&tr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&M(xi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_n(Ge),Me(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function f0(e,t){switch(Wo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(Ge),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return hs(t),null;case 31:if(t.memoizedState!==null){if(zt(t),t.alternate===null)throw Error(r(340));Ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(ke),null;case 4:return Be(),null;case 10:return _n(t.type),null;case 22:case 23:return zt(t),hu(),e!==null&&M(xi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _n(Ge),null;case 25:return null;default:return null}}function Am(e,t){switch(Wo(t),t.tag){case 3:_n(Ge),Be();break;case 26:case 27:case 5:hs(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&zt(t);break;case 13:zt(t);break;case 19:M(ke);break;case 10:_n(t.type);break;case 22:case 23:zt(t),hu(),e!==null&&M(xi);break;case 24:_n(Ge)}}function _a(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var o=s.next;i=o;do{if((i.tag&e)===e){s=void 0;var c=i.create,d=i.inst;s=c(),d.destroy=s}i=i.next}while(i!==o)}}catch(_){Ee(t,t.return,_)}}function Xn(e,t,i){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var d=s.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,o=t;var v=i,N=_;try{N()}catch(R){Ee(o,v,R)}}}s=s.next}while(s!==c)}}catch(R){Ee(t,t.return,R)}}function wm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{yd(t,i)}catch(s){Ee(e,e.return,s)}}}function Dm(e,t,i){i.props=Ri(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ee(e,t,s)}}function ya(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(o){Ee(e,t,o)}}function rn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(o){Ee(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Ee(e,t,o)}else i.current=null}function Rm(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(o){Ee(e,e.return,o)}}function Vu(e,t,i){try{var s=e.stateNode;z0(s,e.type,i,t),s[yt]=t}catch(o){Ee(e,e.return,o)}}function Om(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$n(e.type)||e.tag===4}function Qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$n(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xu(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=hn));else if(s!==4&&(s===27&&$n(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Xu(e,t,i),e=e.sibling;e!==null;)Xu(e,t,i),e=e.sibling}function nr(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&$n(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(nr(e,t,i),e=e.sibling;e!==null;)nr(e,t,i),e=e.sibling}function Mm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);st(t,s,i),t[nt]=e,t[yt]=i}catch(c){Ee(e,e.return,c)}}var En=!1,Qe=!1,Ku=!1,zm=typeof WeakSet=="function"?WeakSet:Set,We=null;function h0(e,t){if(e=e.containerInfo,mc=Tr,e=Qh(e),ko(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,_=-1,v=-1,N=0,R=0,L=e,A=null;t:for(;;){for(var D;L!==i||o!==0&&L.nodeType!==3||(_=d+o),L!==c||s!==0&&L.nodeType!==3||(v=d+s),L.nodeType===3&&(d+=L.nodeValue.length),(D=L.firstChild)!==null;)A=L,L=D;for(;;){if(L===e)break t;if(A===i&&++N===o&&(_=d),A===c&&++R===s&&(v=d),(D=L.nextSibling)!==null)break;L=A,A=L.parentNode}L=D}i=_===-1||v===-1?null:{start:_,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(gc={focusedElem:e,selectionRange:i},Tr=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)o=e[i],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,s=i.stateNode;try{var G=Ri(i.type,o);e=s.getSnapshotBeforeUpdate(G,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(K){Ee(i,i.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)yc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function Lm(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Cn(e,i),s&4&&_a(5,i);break;case 1:if(Cn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Ee(i,i.return,d)}else{var o=Ri(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ee(i,i.return,d)}}s&64&&wm(i),s&512&&ya(i,i.return);break;case 3:if(Cn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{yd(e,t)}catch(d){Ee(i,i.return,d)}}break;case 27:t===null&&s&4&&Mm(i);case 26:case 5:Cn(e,i),t===null&&s&4&&Rm(i),s&512&&ya(i,i.return);break;case 12:Cn(e,i);break;case 31:Cn(e,i),s&4&&jm(e,i);break;case 13:Cn(e,i),s&4&&Im(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=S0.bind(null,i),q0(e,i))));break;case 22:if(s=i.memoizedState!==null||En,!s){t=t!==null&&t.memoizedState!==null||Qe,o=En;var c=Qe;En=s,(Qe=t)&&!c?xn(e,i,(i.subtreeFlags&8772)!==0):Cn(e,i),En=o,Qe=c}break;case 30:break;default:Cn(e,i)}}function Um(e){var t=e.alternate;t!==null&&(e.alternate=null,Um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&To(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,bt=!1;function Tn(e,t,i){for(i=i.child;i!==null;)Hm(e,t,i),i=i.sibling}function Hm(e,t,i){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Gl,i)}catch{}switch(i.tag){case 26:Qe||rn(i,t),Tn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Qe||rn(i,t);var s=Le,o=bt;$n(i.type)&&(Le=i.stateNode,bt=!1),Tn(e,t,i),Aa(i.stateNode),Le=s,bt=o;break;case 5:Qe||rn(i,t);case 6:if(s=Le,o=bt,Le=null,Tn(e,t,i),Le=s,bt=o,Le!==null)if(bt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(i.stateNode)}catch(c){Ee(i,t,c)}else try{Le.removeChild(i.stateNode)}catch(c){Ee(i,t,c)}break;case 18:Le!==null&&(bt?(e=Le,wg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),xl(e)):wg(Le,i.stateNode));break;case 4:s=Le,o=bt,Le=i.stateNode.containerInfo,bt=!0,Tn(e,t,i),Le=s,bt=o;break;case 0:case 11:case 14:case 15:Xn(2,i,t),Qe||Xn(4,i,t),Tn(e,t,i);break;case 1:Qe||(rn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Dm(i,t,s)),Tn(e,t,i);break;case 21:Tn(e,t,i);break;case 22:Qe=(s=Qe)||i.memoizedState!==null,Tn(e,t,i),Qe=s;break;default:Tn(e,t,i)}}function jm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xl(e)}catch(i){Ee(t,t.return,i)}}}function Im(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xl(e)}catch(i){Ee(t,t.return,i)}}function d0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zm),t;default:throw Error(r(435,e.tag))}}function ir(e,t){var i=d0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var o=E0.bind(null,e,s);s.then(o,o)}})}function St(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var o=i[s],c=e,d=t,_=d;e:for(;_!==null;){switch(_.tag){case 27:if($n(_.type)){Le=_.stateNode,bt=!1;break e}break;case 5:Le=_.stateNode,bt=!1;break e;case 3:case 4:Le=_.stateNode.containerInfo,bt=!0;break e}_=_.return}if(Le===null)throw Error(r(160));Hm(c,d,o),Le=null,bt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Bm(t,e),t=t.sibling}var $t=null;function Bm(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),Et(e),s&4&&(Xn(3,e,e.return),_a(3,e),Xn(5,e,e.return));break;case 1:St(t,e),Et(e),s&512&&(Qe||i===null||rn(i,i.return)),s&64&&En&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var o=$t;if(St(t,e),Et(e),s&512&&(Qe||i===null||rn(i,i.return)),s&4){var c=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Ql]||c[nt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),st(c,s,i),c[nt]=e,Je(c),s=c;break e;case"link":var d=Bg("link","href",o).get(s+(i.href||""));if(d){for(var _=0;_<d.length;_++)if(c=d[_],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(_,1);break t}}c=o.createElement(s),st(c,s,i),o.head.appendChild(c);break;case"meta":if(d=Bg("meta","content",o).get(s+(i.content||""))){for(_=0;_<d.length;_++)if(c=d[_],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(_,1);break t}}c=o.createElement(s),st(c,s,i),o.head.appendChild(c);break;default:throw Error(r(468,s))}c[nt]=e,Je(c),s=c}e.stateNode=s}else kg(o,e.type,e.stateNode);else e.stateNode=Ig(o,s,e.memoizedProps);else c!==s?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,s===null?kg(o,e.type,e.stateNode):Ig(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Vu(e,e.memoizedProps,i.memoizedProps)}break;case 27:St(t,e),Et(e),s&512&&(Qe||i===null||rn(i,i.return)),i!==null&&s&4&&Vu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(St(t,e),Et(e),s&512&&(Qe||i===null||rn(i,i.return)),e.flags&32){o=e.stateNode;try{Zi(o,"")}catch(G){Ee(e,e.return,G)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Vu(e,o,i!==null?i.memoizedProps:o)),s&1024&&(Ku=!0);break;case 6:if(St(t,e),Et(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(G){Ee(e,e.return,G)}}break;case 3:if(vr=null,o=$t,$t=_r(t.containerInfo),St(t,e),$t=o,Et(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{xl(t.containerInfo)}catch(G){Ee(e,e.return,G)}Ku&&(Ku=!1,km(e));break;case 4:s=$t,$t=_r(e.stateNode.containerInfo),St(t,e),Et(e),$t=s;break;case 12:St(t,e),Et(e);break;case 31:St(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ir(e,s)));break;case 13:St(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ar=At()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ir(e,s)));break;case 22:o=e.memoizedState!==null;var v=i!==null&&i.memoizedState!==null,N=En,R=Qe;if(En=N||o,Qe=R||v,St(t,e),Qe=R,En=N,Et(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||v||En||Qe||Oi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){v=i=t;try{if(c=v.stateNode,o)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=v.stateNode;var L=v.memoizedProps.style,A=L!=null&&L.hasOwnProperty("display")?L.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(G){Ee(v,v.return,G)}}}else if(t.tag===6){if(i===null){v=t;try{v.stateNode.nodeValue=o?"":v.memoizedProps}catch(G){Ee(v,v.return,G)}}}else if(t.tag===18){if(i===null){v=t;try{var D=v.stateNode;o?Dg(D,!0):Dg(v.stateNode,!1)}catch(G){Ee(v,v.return,G)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,ir(e,i))));break;case 19:St(t,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ir(e,s)));break;case 30:break;case 21:break;default:St(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Om(s)){i=s;break}s=s.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=Qu(e);nr(e,c,o);break;case 5:var d=i.stateNode;i.flags&32&&(Zi(d,""),i.flags&=-33);var _=Qu(e);nr(e,_,d);break;case 3:case 4:var v=i.stateNode.containerInfo,N=Qu(e);Xu(e,N,v);break;default:throw Error(r(161))}}catch(R){Ee(e,e.return,R)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function km(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;km(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lm(e,t.alternate,t),t=t.sibling}function Oi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xn(4,t,t.return),Oi(t);break;case 1:rn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Dm(t,t.return,i),Oi(t);break;case 27:Aa(t.stateNode);case 26:case 5:rn(t,t.return),Oi(t);break;case 22:t.memoizedState===null&&Oi(t);break;case 30:Oi(t);break;default:Oi(t)}e=e.sibling}}function xn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:xn(o,c,i),_a(4,c);break;case 1:if(xn(o,c,i),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(N){Ee(s,s.return,N)}if(s=c,o=s.updateQueue,o!==null){var _=s.stateNode;try{var v=o.shared.hiddenCallbacks;if(v!==null)for(o.shared.hiddenCallbacks=null,o=0;o<v.length;o++)_d(v[o],_)}catch(N){Ee(s,s.return,N)}}i&&d&64&&wm(c),ya(c,c.return);break;case 27:Mm(c);case 26:case 5:xn(o,c,i),i&&s===null&&d&4&&Rm(c),ya(c,c.return);break;case 12:xn(o,c,i);break;case 31:xn(o,c,i),i&&d&4&&jm(o,c);break;case 13:xn(o,c,i),i&&d&4&&Im(o,c);break;case 22:c.memoizedState===null&&xn(o,c,i),ya(c,c.return);break;case 30:break;default:xn(o,c,i)}t=t.sibling}}function Zu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&la(i))}function Fu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&la(e))}function en(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qm(e,t,i,s),t=t.sibling}function qm(e,t,i,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:en(e,t,i,s),o&2048&&_a(9,t);break;case 1:en(e,t,i,s);break;case 3:en(e,t,i,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&la(e)));break;case 12:if(o&2048){en(e,t,i,s),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,_=c.onPostCommit;typeof _=="function"&&_(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Ee(t,t.return,v)}}else en(e,t,i,s);break;case 31:en(e,t,i,s);break;case 13:en(e,t,i,s);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?en(e,t,i,s):va(e,t):c._visibility&2?en(e,t,i,s):(c._visibility|=2,ml(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Zu(d,t);break;case 24:en(e,t,i,s),o&2048&&Fu(t.alternate,t);break;default:en(e,t,i,s)}}function ml(e,t,i,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,_=i,v=s,N=d.flags;switch(d.tag){case 0:case 11:case 15:ml(c,d,_,v,o),_a(8,d);break;case 23:break;case 22:var R=d.stateNode;d.memoizedState!==null?R._visibility&2?ml(c,d,_,v,o):va(c,d):(R._visibility|=2,ml(c,d,_,v,o)),o&&N&2048&&Zu(d.alternate,d);break;case 24:ml(c,d,_,v,o),o&&N&2048&&Fu(d.alternate,d);break;default:ml(c,d,_,v,o)}t=t.sibling}}function va(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,o=s.flags;switch(s.tag){case 22:va(i,s),o&2048&&Zu(s.alternate,s);break;case 24:va(i,s),o&2048&&Fu(s.alternate,s);break;default:va(i,s)}t=t.sibling}}var ba=8192;function gl(e,t,i){if(e.subtreeFlags&ba)for(e=e.child;e!==null;)Gm(e,t,i),e=e.sibling}function Gm(e,t,i){switch(e.tag){case 26:gl(e,t,i),e.flags&ba&&e.memoizedState!==null&&$0(i,$t,e.memoizedState,e.memoizedProps);break;case 5:gl(e,t,i);break;case 3:case 4:var s=$t;$t=_r(e.stateNode.containerInfo),gl(e,t,i),$t=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ba,ba=16777216,gl(e,t,i),ba=s):gl(e,t,i));break;default:gl(e,t,i)}}function Ym(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];We=s,Qm(s,e)}Ym(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vm(e),e=e.sibling}function Vm(e){switch(e.tag){case 0:case 11:case 15:Sa(e),e.flags&2048&&Xn(9,e,e.return);break;case 3:Sa(e);break;case 12:Sa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,lr(e)):Sa(e);break;default:Sa(e)}}function lr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];We=s,Qm(s,e)}Ym(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xn(8,t,t.return),lr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,lr(t));break;default:lr(t)}e=e.sibling}}function Qm(e,t){for(;We!==null;){var i=We;switch(i.tag){case 0:case 11:case 15:Xn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:la(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,We=s;else e:for(i=e;We!==null;){s=We;var o=s.sibling,c=s.return;if(Um(s),s===i){We=null;break e}if(o!==null){o.return=c,We=o;break e}We=c}}}var m0={getCacheForType:function(e){var t=lt(Ge),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return lt(Ge).controller.signal}},g0=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ae=null,oe=null,fe=0,Se=0,Lt=null,Kn=!1,pl=!1,Ju=!1,Nn=0,He=0,Zn=0,Mi=0,Wu=0,Ut=0,_l=0,Ea=null,Tt=null,Pu=!1,ar=0,Xm=0,sr=1/0,rr=null,Fn=null,Xe=0,Jn=null,yl=null,An=0,$u=0,ec=null,Km=null,Ta=0,tc=null;function Ht(){return(_e&2)!==0&&fe!==0?fe&-fe:O.T!==null?rc():uh()}function Zm(){if(Ut===0)if((fe&536870912)===0||de){var e=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Ut=e}else Ut=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Ut}function Ct(e,t,i){(e===Ae&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(vl(e,0),Wn(e,fe,Ut,!1)),Vl(e,i),((_e&2)===0||e!==Ae)&&(e===Ae&&((_e&2)===0&&(Mi|=i),He===4&&Wn(e,fe,Ut,!1)),on(e))}function Fm(e,t,i){if((_e&6)!==0)throw Error(r(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Yl(e,t),o=s?y0(e,t):ic(e,t,!0),c=s;do{if(o===0){pl&&!s&&Wn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!p0(i)){o=ic(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var _=e;o=Ea;var v=_.current.memoizedState.isDehydrated;if(v&&(vl(_,d).flags|=256),d=ic(_,d,!1),d!==2){if(Ju&&!v){_.errorRecoveryDisabledLanes|=c,Mi|=c,o=4;break e}c=Tt,Tt=o,c!==null&&(Tt===null?Tt=c:Tt.push.apply(Tt,c))}o=d}if(c=!1,o!==2)continue}}if(o===1){vl(e,0),Wn(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Wn(s,t,Ut,!Kn);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=ar+300-At(),10<o)){if(Wn(s,t,Ut,!Kn),_s(s,0,!0)!==0)break e;An=t,s.timeoutHandle=Ng(Jm.bind(null,s,i,Tt,rr,Pu,t,Ut,Mi,_l,Kn,c,"Throttled",-0,0),o);break e}Jm(s,i,Tt,rr,Pu,t,Ut,Mi,_l,Kn,c,null,-0,0)}}break}while(!0);on(e)}function Jm(e,t,i,s,o,c,d,_,v,N,R,L,A,D){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},Gm(t,c,L);var G=(c&62914560)===c?ar-At():(c&4194048)===c?Xm-At():0;if(G=eb(L,G),G!==null){An=c,e.cancelPendingCommit=G(lg.bind(null,e,t,c,i,s,o,d,_,v,R,L,null,A,D)),Wn(e,c,d,!N);return}}lg(e,t,c,i,s,o,d,_,v)}function p0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var o=i[s],c=o.getSnapshot;o=o.value;try{if(!Rt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t,i,s){t&=~Wu,t&=~Mi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-Dt(o),d=1<<c;s[c]=-1,o&=~d}i!==0&&sh(e,i,t)}function or(){return(_e&6)===0?(Ca(0),!1):!0}function nc(){if(oe!==null){if(Se===0)var e=oe.return;else e=oe,pn=Ti=null,yu(e),ul=null,sa=0,e=oe;for(;e!==null;)Am(e.alternate,e),e=e.return;oe=null}}function vl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,H0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),An=0,nc(),Ae=e,oe=i=mn(e.current,null),fe=t,Se=0,Lt=null,Kn=!1,pl=Yl(e,t),Ju=!1,_l=Ut=Wu=Mi=Zn=He=0,Tt=Ea=null,Pu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Dt(s),c=1<<o;t|=e[o],s&=~c}return Nn=t,Ds(),i}function Wm(e,t){ne=null,O.H=ma,t===ol||t===js?(t=dd(),Se=3):t===su?(t=dd(),Se=4):Se=t===Lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Lt=t,oe===null&&(He=1,Ws(e,Yt(t,e.current)))}function Pm(){var e=Mt.current;return e===null?!0:(fe&4194048)===fe?Kt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Kt:!1}function $m(){var e=O.H;return O.H=ma,e===null?ma:e}function eg(){var e=O.A;return O.A=m0,e}function ur(){He=4,Kn||(fe&4194048)!==fe&&Mt.current!==null||(pl=!0),(Zn&134217727)===0&&(Mi&134217727)===0||Ae===null||Wn(Ae,fe,Ut,!1)}function ic(e,t,i){var s=_e;_e|=2;var o=$m(),c=eg();(Ae!==e||fe!==t)&&(rr=null,vl(e,t)),t=!1;var d=He;e:do try{if(Se!==0&&oe!==null){var _=oe,v=Lt;switch(Se){case 8:nc(),d=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var N=Se;if(Se=0,Lt=null,bl(e,_,v,N),i&&pl){d=0;break e}break;default:N=Se,Se=0,Lt=null,bl(e,_,v,N)}}_0(),d=He;break}catch(R){Wm(e,R)}while(!0);return t&&e.shellSuspendCounter++,pn=Ti=null,_e=s,O.H=o,O.A=c,oe===null&&(Ae=null,fe=0,Ds()),d}function _0(){for(;oe!==null;)tg(oe)}function y0(e,t){var i=_e;_e|=2;var s=$m(),o=eg();Ae!==e||fe!==t?(rr=null,sr=At()+500,vl(e,t)):pl=Yl(e,t);e:do try{if(Se!==0&&oe!==null){t=oe;var c=Lt;t:switch(Se){case 1:Se=0,Lt=null,bl(e,t,c,1);break;case 2:case 9:if(fd(c)){Se=0,Lt=null,ng(t);break}t=function(){Se!==2&&Se!==9||Ae!==e||(Se=7),on(e)},c.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:fd(c)?(Se=0,Lt=null,ng(t)):(Se=0,Lt=null,bl(e,t,c,7));break;case 5:var d=null;switch(oe.tag){case 26:d=oe.memoizedState;case 5:case 27:var _=oe;if(d?qg(d):_.stateNode.complete){Se=0,Lt=null;var v=_.sibling;if(v!==null)oe=v;else{var N=_.return;N!==null?(oe=N,cr(N)):oe=null}break t}}Se=0,Lt=null,bl(e,t,c,5);break;case 6:Se=0,Lt=null,bl(e,t,c,6);break;case 8:nc(),He=6;break e;default:throw Error(r(462))}}v0();break}catch(R){Wm(e,R)}while(!0);return pn=Ti=null,O.H=s,O.A=o,_e=i,oe!==null?0:(Ae=null,fe=0,Ds(),He)}function v0(){for(;oe!==null&&!Gy();)tg(oe)}function tg(e){var t=xm(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?cr(e):oe=t}function ng(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=vm(i,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=vm(i,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:yu(t);default:Am(i,t),t=oe=ed(t,Nn),t=xm(i,t,Nn)}e.memoizedProps=e.pendingProps,t===null?cr(e):oe=t}function bl(e,t,i,s){pn=Ti=null,yu(t),ul=null,sa=0;var o=t.return;try{if(r0(e,o,t,i,fe)){He=1,Ws(e,Yt(i,e.current)),oe=null;return}}catch(c){if(o!==null)throw oe=o,c;He=1,Ws(e,Yt(i,e.current)),oe=null;return}t.flags&32768?(de||s===1?e=!0:pl||(fe&536870912)!==0?e=!1:(Kn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Mt.current,s!==null&&s.tag===13&&(s.flags|=16384))),ig(t,e)):cr(t)}function cr(e){var t=e;do{if((t.flags&32768)!==0){ig(t,Kn);return}e=t.return;var i=c0(t.alternate,t,Nn);if(i!==null){oe=i;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);He===0&&(He=5)}function ig(e,t){do{var i=f0(e.alternate,e);if(i!==null){i.flags&=32767,oe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=i}while(e!==null);He=6,oe=null}function lg(e,t,i,s,o,c,d,_,v){e.cancelPendingCommit=null;do fr();while(Xe!==0);if((_e&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Qo,Py(e,i,c,d,_,v),e===Ae&&(oe=Ae=null,fe=0),yl=t,Jn=e,An=i,$u=c,ec=o,Km=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,T0(ds,function(){return ug(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,o=k.p,k.p=2,d=_e,_e|=4;try{h0(e,t,i)}finally{_e=d,k.p=o,O.T=s}}Xe=1,ag(),sg(),rg()}}function ag(){if(Xe===1){Xe=0;var e=Jn,t=yl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var s=k.p;k.p=2;var o=_e;_e|=4;try{Bm(t,e);var c=gc,d=Qh(e.containerInfo),_=c.focusedElem,v=c.selectionRange;if(d!==_&&_&&_.ownerDocument&&Vh(_.ownerDocument.documentElement,_)){if(v!==null&&ko(_)){var N=v.start,R=v.end;if(R===void 0&&(R=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(R,_.value.length);else{var L=_.ownerDocument||document,A=L&&L.defaultView||window;if(A.getSelection){var D=A.getSelection(),G=_.textContent.length,K=Math.min(v.start,G),xe=v.end===void 0?K:Math.min(v.end,G);!D.extend&&K>xe&&(d=xe,xe=K,K=d);var C=Yh(_,K),T=Yh(_,xe);if(C&&T&&(D.rangeCount!==1||D.anchorNode!==C.node||D.anchorOffset!==C.offset||D.focusNode!==T.node||D.focusOffset!==T.offset)){var x=L.createRange();x.setStart(C.node,C.offset),D.removeAllRanges(),K>xe?(D.addRange(x),D.extend(T.node,T.offset)):(x.setEnd(T.node,T.offset),D.addRange(x))}}}}for(L=[],D=_;D=D.parentNode;)D.nodeType===1&&L.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<L.length;_++){var z=L[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Tr=!!mc,gc=mc=null}finally{_e=o,k.p=s,O.T=i}}e.current=t,Xe=2}}function sg(){if(Xe===2){Xe=0;var e=Jn,t=yl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var s=k.p;k.p=2;var o=_e;_e|=4;try{Lm(e,t.alternate,t)}finally{_e=o,k.p=s,O.T=i}}Xe=3}}function rg(){if(Xe===4||Xe===3){Xe=0,Yy();var e=Jn,t=yl,i=An,s=Km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,yl=Jn=null,og(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Fn=null),So(i),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Gl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,o=k.p,k.p=2,O.T=null;try{for(var c=e.onRecoverableError,d=0;d<s.length;d++){var _=s[d];c(_.value,{componentStack:_.stack})}}finally{O.T=t,k.p=o}}(An&3)!==0&&fr(),on(e),o=e.pendingLanes,(i&261930)!==0&&(o&42)!==0?e===tc?Ta++:(Ta=0,tc=e):Ta=0,Ca(0)}}function og(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,la(t)))}function fr(){return ag(),sg(),rg(),ug()}function ug(){if(Xe!==5)return!1;var e=Jn,t=$u;$u=0;var i=So(An),s=O.T,o=k.p;try{k.p=32>i?32:i,O.T=null,i=ec,ec=null;var c=Jn,d=An;if(Xe=0,yl=Jn=null,An=0,(_e&6)!==0)throw Error(r(331));var _=_e;if(_e|=4,Vm(c.current),qm(c,c.current,d,i),_e=_,Ca(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Gl,c)}catch{}return!0}finally{k.p=o,O.T=s,og(e,t)}}function cg(e,t,i){t=Yt(i,t),t=zu(e.stateNode,t,2),e=Yn(e,t,2),e!==null&&(Vl(e,2),on(e))}function Ee(e,t,i){if(e.tag===3)cg(e,e,i);else for(;t!==null;){if(t.tag===3){cg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fn===null||!Fn.has(s))){e=Yt(i,e),i=fm(2),s=Yn(t,i,2),s!==null&&(hm(i,s,t,e),Vl(s,2),on(s));break}}t=t.return}}function lc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new g0;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(i)||(Ju=!0,o.add(i),e=b0.bind(null,e,t,i),t.then(e,e))}function b0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ae===e&&(fe&i)===i&&(He===4||He===3&&(fe&62914560)===fe&&300>At()-ar?(_e&2)===0&&vl(e,0):Wu|=i,_l===fe&&(_l=0)),on(e)}function fg(e,t){t===0&&(t=ah()),e=bi(e,t),e!==null&&(Vl(e,t),on(e))}function S0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),fg(e,i)}function E0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),fg(e,i)}function T0(e,t){return _o(e,t)}var hr=null,Sl=null,ac=!1,dr=!1,sc=!1,Pn=0;function on(e){e!==Sl&&e.next===null&&(Sl===null?hr=Sl=e:Sl=Sl.next=e),dr=!0,ac||(ac=!0,x0())}function Ca(e,t){if(!sc&&dr){sc=!0;do for(var i=!1,s=hr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var d=s.suspendedLanes,_=s.pingedLanes;c=(1<<31-Dt(42|e)+1)-1,c&=o&~(d&~_),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,gg(s,c))}else c=fe,c=_s(s,s===Ae?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Yl(s,c)||(i=!0,gg(s,c));s=s.next}while(i);sc=!1}}function C0(){hg()}function hg(){dr=ac=!1;var e=0;Pn!==0&&U0()&&(e=Pn);for(var t=At(),i=null,s=hr;s!==null;){var o=s.next,c=dg(s,t);c===0?(s.next=null,i===null?hr=o:i.next=o,o===null&&(Sl=i)):(i=s,(e!==0||(c&3)!==0)&&(dr=!0)),s=o}Xe!==0&&Xe!==5||Ca(e),Pn!==0&&(Pn=0)}function dg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Dt(c),_=1<<d,v=o[d];v===-1?((_&i)===0||(_&s)!==0)&&(o[d]=Wy(_,t)):v<=t&&(e.expiredLanes|=_),c&=~_}if(t=Ae,i=fe,i=_s(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&yo(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Yl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&yo(s),So(i)){case 2:case 8:i=ih;break;case 32:i=ds;break;case 268435456:i=lh;break;default:i=ds}return s=mg.bind(null,e),i=_o(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&yo(s),e.callbackPriority=2,e.callbackNode=null,2}function mg(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(fr()&&e.callbackNode!==i)return null;var s=fe;return s=_s(e,e===Ae?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Fm(e,s,t),dg(e,At()),e.callbackNode!=null&&e.callbackNode===i?mg.bind(null,e):null)}function gg(e,t){if(fr())return null;Fm(e,t,!0)}function x0(){j0(function(){(_e&6)!==0?_o(nh,C0):hg()})}function rc(){if(Pn===0){var e=sl;e===0&&(e=ms,ms<<=1,(ms&261888)===0&&(ms=256)),Pn=e}return Pn}function pg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ss(""+e)}function _g(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function N0(e,t,i,s,o){if(t==="submit"&&i&&i.stateNode===o){var c=pg((o[yt]||null).action),d=s.submitter;d&&(t=(t=d[yt]||null)?pg(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var _=new xs("action","action",null,s,o);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var v=d?_g(o,d):new FormData(o);Au(i,{pending:!0,data:v,method:o.method,action:c},null,v)}}else typeof c=="function"&&(_.preventDefault(),v=d?_g(o,d):new FormData(o),Au(i,{pending:!0,data:v,method:o.method,action:c},c,v))},currentTarget:o}]})}}for(var oc=0;oc<Vo.length;oc++){var uc=Vo[oc],A0=uc.toLowerCase(),w0=uc[0].toUpperCase()+uc.slice(1);Pt(A0,"on"+w0)}Pt(Zh,"onAnimationEnd"),Pt(Fh,"onAnimationIteration"),Pt(Jh,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Vv,"onTransitionRun"),Pt(Qv,"onTransitionStart"),Pt(Xv,"onTransitionCancel"),Pt(Wh,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xa));function yg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var d=s.length-1;0<=d;d--){var _=s[d],v=_.instance,N=_.currentTarget;if(_=_.listener,v!==c&&o.isPropagationStopped())break e;c=_,o.currentTarget=N;try{c(o)}catch(R){ws(R)}o.currentTarget=null,c=v}else for(d=0;d<s.length;d++){if(_=s[d],v=_.instance,N=_.currentTarget,_=_.listener,v!==c&&o.isPropagationStopped())break e;c=_,o.currentTarget=N;try{c(o)}catch(R){ws(R)}o.currentTarget=null,c=v}}}}function ue(e,t){var i=t[Eo];i===void 0&&(i=t[Eo]=new Set);var s=e+"__bubble";i.has(s)||(vg(t,e,2,!1),i.add(s))}function cc(e,t,i){var s=0;t&&(s|=4),vg(i,e,s,t)}var mr="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[mr]){e[mr]=!0,hh.forEach(function(i){i!=="selectionchange"&&(D0.has(i)||cc(i,!1,e),cc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mr]||(t[mr]=!0,cc("selectionchange",!1,t))}}function vg(e,t,i,s){switch(Zg(t)){case 2:var o=ib;break;case 8:o=lb;break;default:o=Nc}i=o.bind(null,t,i,e),o=void 0,!Oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function hc(e,t,i,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var _=s.stateNode.containerInfo;if(_===o)break;if(d===4)for(d=s.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;_!==null;){if(d=Yi(_),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){s=c=d;continue e}_=_.parentNode}}s=s.return}Ch(function(){var N=c,R=Do(i),L=[];e:{var A=Ph.get(e);if(A!==void 0){var D=xs,G=e;switch(e){case"keypress":if(Ts(i)===0)break e;case"keydown":case"keyup":D=Ev;break;case"focusin":G="focus",D=Uo;break;case"focusout":G="blur",D=Uo;break;case"beforeblur":case"afterblur":D=Uo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=cv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=xv;break;case Zh:case Fh:case Jh:D=dv;break;case Wh:D=Av;break;case"scroll":case"scrollend":D=ov;break;case"wheel":D=Dv;break;case"copy":case"cut":case"paste":D=gv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Dh;break;case"toggle":case"beforetoggle":D=Ov}var K=(t&4)!==0,xe=!K&&(e==="scroll"||e==="scrollend"),C=K?A!==null?A+"Capture":null:A;K=[];for(var T=N,x;T!==null;){var z=T;if(x=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||x===null||C===null||(z=Kl(T,C),z!=null&&K.push(Na(T,z,x))),xe)break;T=T.return}0<K.length&&(A=new D(A,G,null,i,R),L.push({event:A,listeners:K}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",A&&i!==wo&&(G=i.relatedTarget||i.fromElement)&&(Yi(G)||G[Gi]))break e;if((D||A)&&(A=R.window===R?R:(A=R.ownerDocument)?A.defaultView||A.parentWindow:window,D?(G=i.relatedTarget||i.toElement,D=N,G=G?Yi(G):null,G!==null&&(xe=f(G),K=G.tag,G!==xe||K!==5&&K!==27&&K!==6)&&(G=null)):(D=null,G=N),D!==G)){if(K=Ah,z="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(K=Dh,z="onPointerLeave",C="onPointerEnter",T="pointer"),xe=D==null?A:Xl(D),x=G==null?A:Xl(G),A=new K(z,T+"leave",D,i,R),A.target=xe,A.relatedTarget=x,z=null,Yi(R)===N&&(K=new K(C,T+"enter",G,i,R),K.target=x,K.relatedTarget=xe,z=K),xe=z,D&&G)t:{for(K=R0,C=D,T=G,x=0,z=C;z;z=K(z))x++;z=0;for(var X=T;X;X=K(X))z++;for(;0<x-z;)C=K(C),x--;for(;0<z-x;)T=K(T),z--;for(;x--;){if(C===T||T!==null&&C===T.alternate){K=C;break t}C=K(C),T=K(T)}K=null}else K=null;D!==null&&bg(L,A,D,K,!1),G!==null&&xe!==null&&bg(L,xe,G,K,!0)}}e:{if(A=N?Xl(N):window,D=A.nodeName&&A.nodeName.toLowerCase(),D==="select"||D==="input"&&A.type==="file")var me=jh;else if(Uh(A))if(Ih)me=qv;else{me=Bv;var V=Iv}else D=A.nodeName,!D||D.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?N&&Ao(N.elementType)&&(me=jh):me=kv;if(me&&(me=me(e,N))){Hh(L,me,i,R);break e}V&&V(e,A,N),e==="focusout"&&N&&A.type==="number"&&N.memoizedProps.value!=null&&No(A,"number",A.value)}switch(V=N?Xl(N):window,e){case"focusin":(Uh(V)||V.contentEditable==="true")&&(Pi=V,qo=N,ta=null);break;case"focusout":ta=qo=Pi=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,Xh(L,i,R);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":Xh(L,i,R)}var ie;if(jo)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Wi?zh(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(Rh&&i.locale!=="ko"&&(Wi||he!=="onCompositionStart"?he==="onCompositionEnd"&&Wi&&(ie=xh()):(Hn=R,Mo="value"in Hn?Hn.value:Hn.textContent,Wi=!0)),V=gr(N,he),0<V.length&&(he=new wh(he,e,null,i,R),L.push({event:he,listeners:V}),ie?he.data=ie:(ie=Lh(i),ie!==null&&(he.data=ie)))),(ie=zv?Lv(e,i):Uv(e,i))&&(he=gr(N,"onBeforeInput"),0<he.length&&(V=new wh("onBeforeInput","beforeinput",null,i,R),L.push({event:V,listeners:he}),V.data=ie)),N0(L,e,N,i,R)}yg(L,t)})}function Na(e,t,i){return{instance:e,listener:t,currentTarget:i}}function gr(e,t){for(var i=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Kl(e,i),o!=null&&s.unshift(Na(e,o,c)),o=Kl(e,t),o!=null&&s.push(Na(e,o,c))),e.tag===3)return s;e=e.return}return[]}function R0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bg(e,t,i,s,o){for(var c=t._reactName,d=[];i!==null&&i!==s;){var _=i,v=_.alternate,N=_.stateNode;if(_=_.tag,v!==null&&v===s)break;_!==5&&_!==26&&_!==27||N===null||(v=N,o?(N=Kl(i,c),N!=null&&d.unshift(Na(i,N,v))):o||(N=Kl(i,c),N!=null&&d.push(Na(i,N,v)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var O0=/\r\n?/g,M0=/\u0000|\uFFFD/g;function Sg(e){return(typeof e=="string"?e:""+e).replace(O0,`
`).replace(M0,"")}function Eg(e,t){return t=Sg(t),Sg(e)===t}function Ce(e,t,i,s,o,c){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Zi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Zi(e,""+s);break;case"className":vs(e,"class",s);break;case"tabIndex":vs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":vs(e,i,s);break;case"style":Eh(e,s,c);break;case"data":if(t!=="object"){vs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ss(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Ce(e,t,"name",o.name,o,null),Ce(e,t,"formEncType",o.formEncType,o,null),Ce(e,t,"formMethod",o.formMethod,o,null),Ce(e,t,"formTarget",o.formTarget,o,null)):(Ce(e,t,"encType",o.encType,o,null),Ce(e,t,"method",o.method,o,null),Ce(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Ss(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=hn);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Ss(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ue("beforetoggle",e),ue("toggle",e),ys(e,"popover",s);break;case"xlinkActuate":fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":fn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":fn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":fn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":fn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ys(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=sv.get(i)||i,ys(e,i,s))}}function dc(e,t,i,s,o,c){switch(i){case"style":Eh(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(i=s.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Zi(e,s):(typeof s=="number"||typeof s=="bigint")&&Zi(e,""+s);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[yt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,o);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):ys(e,i,s)}}}function st(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var s=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,c,d,i,null)}}o&&Ce(e,t,"srcSet",i.srcSet,i,null),s&&Ce(e,t,"src",i.src,i,null);return;case"input":ue("invalid",e);var _=c=d=o=null,v=null,N=null;for(s in i)if(i.hasOwnProperty(s)){var R=i[s];if(R!=null)switch(s){case"name":o=R;break;case"type":d=R;break;case"checked":v=R;break;case"defaultChecked":N=R;break;case"value":c=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:Ce(e,t,s,R,i,null)}}yh(e,c,_,v,N,d,o,!1);return;case"select":ue("invalid",e),s=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(_=i[o],_!=null))switch(o){case"value":c=_;break;case"defaultValue":d=_;break;case"multiple":s=_;default:Ce(e,t,o,_,i,null)}t=c,i=d,e.multiple=!!s,t!=null?Ki(e,!!s,t,!1):i!=null&&Ki(e,!!s,i,!0);return;case"textarea":ue("invalid",e),c=o=s=null;for(d in i)if(i.hasOwnProperty(d)&&(_=i[d],_!=null))switch(d){case"value":s=_;break;case"defaultValue":o=_;break;case"children":c=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ce(e,t,d,_,i,null)}bh(e,s,o,c);return;case"option":for(v in i)if(i.hasOwnProperty(v)&&(s=i[v],s!=null))switch(v){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ce(e,t,v,s,i,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(s=0;s<xa.length;s++)ue(xa[s],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(s=i[N],s!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ce(e,t,N,s,i,null)}return;default:if(Ao(t)){for(R in i)i.hasOwnProperty(R)&&(s=i[R],s!==void 0&&dc(e,t,R,s,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(s=i[_],s!=null&&Ce(e,t,_,s,i,null))}function z0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,_=null,v=null,N=null,R=null;for(D in i){var L=i[D];if(i.hasOwnProperty(D)&&L!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":v=L;default:s.hasOwnProperty(D)||Ce(e,t,D,null,s,L)}}for(var A in s){var D=s[A];if(L=i[A],s.hasOwnProperty(A)&&(D!=null||L!=null))switch(A){case"type":c=D;break;case"name":o=D;break;case"checked":N=D;break;case"defaultChecked":R=D;break;case"value":d=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==L&&Ce(e,t,A,D,s,L)}}xo(e,d,_,v,N,R,c,o);return;case"select":D=d=_=A=null;for(c in i)if(v=i[c],i.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":D=v;default:s.hasOwnProperty(c)||Ce(e,t,c,null,s,v)}for(o in s)if(c=s[o],v=i[o],s.hasOwnProperty(o)&&(c!=null||v!=null))switch(o){case"value":A=c;break;case"defaultValue":_=c;break;case"multiple":d=c;default:c!==v&&Ce(e,t,o,c,s,v)}t=_,i=d,s=D,A!=null?Ki(e,!!i,A,!1):!!s!=!!i&&(t!=null?Ki(e,!!i,t,!0):Ki(e,!!i,i?[]:"",!1));return;case"textarea":D=A=null;for(_ in i)if(o=i[_],i.hasOwnProperty(_)&&o!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ce(e,t,_,null,s,o)}for(d in s)if(o=s[d],c=i[d],s.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":A=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Ce(e,t,d,o,s,c)}vh(e,A,D);return;case"option":for(var G in i)if(A=i[G],i.hasOwnProperty(G)&&A!=null&&!s.hasOwnProperty(G))switch(G){case"selected":e.selected=!1;break;default:Ce(e,t,G,null,s,A)}for(v in s)if(A=s[v],D=i[v],s.hasOwnProperty(v)&&A!==D&&(A!=null||D!=null))switch(v){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Ce(e,t,v,A,s,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in i)A=i[K],i.hasOwnProperty(K)&&A!=null&&!s.hasOwnProperty(K)&&Ce(e,t,K,null,s,A);for(N in s)if(A=s[N],D=i[N],s.hasOwnProperty(N)&&A!==D&&(A!=null||D!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(137,t));break;default:Ce(e,t,N,A,s,D)}return;default:if(Ao(t)){for(var xe in i)A=i[xe],i.hasOwnProperty(xe)&&A!==void 0&&!s.hasOwnProperty(xe)&&dc(e,t,xe,void 0,s,A);for(R in s)A=s[R],D=i[R],!s.hasOwnProperty(R)||A===D||A===void 0&&D===void 0||dc(e,t,R,A,s,D);return}}for(var C in i)A=i[C],i.hasOwnProperty(C)&&A!=null&&!s.hasOwnProperty(C)&&Ce(e,t,C,null,s,A);for(L in s)A=s[L],D=i[L],!s.hasOwnProperty(L)||A===D||A==null&&D==null||Ce(e,t,L,A,s,D)}function Tg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var o=i[s],c=o.transferSize,d=o.initiatorType,_=o.duration;if(c&&_&&Tg(d)){for(d=0,_=o.responseEnd,s+=1;s<i.length;s++){var v=i[s],N=v.startTime;if(N>_)break;var R=v.transferSize,L=v.initiatorType;R&&Tg(L)&&(v=v.responseEnd,d+=R*(v<_?1:(_-N)/(v-N)))}if(--s,t+=8*(c+d)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mc=null,gc=null;function pr(e){return e.nodeType===9?e:e.ownerDocument}function Cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _c=null;function U0(){var e=window.event;return e&&e.type==="popstate"?e===_c?!1:(_c=e,!0):(_c=null,!1)}var Ng=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(e){return Ag.resolve(null).then(e).catch(I0)}:Ng;function I0(e){setTimeout(function(){throw e})}function $n(e){return e==="head"}function wg(e,t){var i=t,s=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(o),xl(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Aa(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Aa(i);for(var c=i.firstChild;c;){var d=c.nextSibling,_=c.nodeName;c[Ql]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=d}}else i==="body"&&Aa(e.ownerDocument.body);i=o}while(i);xl(t)}function Dg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function yc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":yc(i),To(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function B0(e,t,i,s){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ql])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function k0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Zt(e.nextSibling),e===null))return null;return e}function Rg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function vc(e){return e.data==="$?"||e.data==="$~"}function bc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function q0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Sc=null;function Og(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Zt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function zg(e,t,i){switch(t=pr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Aa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);To(e)}var Ft=new Map,Lg=new Set;function _r(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=k.d;k.d={f:G0,r:Y0,D:V0,C:Q0,L:X0,m:K0,X:F0,S:Z0,M:J0};function G0(){var e=wn.f(),t=or();return e||t}function Y0(e){var t=Vi(e);t!==null&&t.tag===5&&t.type==="form"?Wd(t):wn.r(e)}var El=typeof document>"u"?null:document;function Ug(e,t,i){var s=El;if(s&&typeof t=="string"&&t){var o=qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),Lg.has(o)||(Lg.add(o),e={rel:e,crossOrigin:i,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),st(t,"link",e),Je(t),s.head.appendChild(t)))}}function V0(e){wn.D(e),Ug("dns-prefetch",e,null)}function Q0(e,t){wn.C(e,t),Ug("preconnect",e,t)}function X0(e,t,i){wn.L(e,t,i);var s=El;if(s&&e&&t){var o='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+qt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+qt(i.imageSizes)+'"]')):o+='[href="'+qt(e)+'"]';var c=o;switch(t){case"style":c=Tl(e);break;case"script":c=Cl(e)}Ft.has(c)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Ft.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(wa(c))||t==="script"&&s.querySelector(Da(c))||(t=s.createElement("link"),st(t,"link",e),Je(t),s.head.appendChild(t)))}}function K0(e,t){wn.m(e,t);var i=El;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Cl(e)}if(!Ft.has(c)&&(e=y({rel:"modulepreload",href:e},t),Ft.set(c,e),i.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Da(c)))return}s=i.createElement("link"),st(s,"link",e),Je(s),i.head.appendChild(s)}}}function Z0(e,t,i){wn.S(e,t,i);var s=El;if(s&&e){var o=Qi(s).hoistableStyles,c=Tl(e);t=t||"default";var d=o.get(c);if(!d){var _={loading:0,preload:null};if(d=s.querySelector(wa(c)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Ft.get(c))&&Ec(e,i);var v=d=s.createElement("link");Je(v),st(v,"link",e),v._p=new Promise(function(N,R){v.onload=N,v.onerror=R}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,yr(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:_},o.set(c,d)}}}function F0(e,t){wn.X(e,t);var i=El;if(i&&e){var s=Qi(i).hoistableScripts,o=Cl(e),c=s.get(o);c||(c=i.querySelector(Da(o)),c||(e=y({src:e,async:!0},t),(t=Ft.get(o))&&Tc(e,t),c=i.createElement("script"),Je(c),st(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function J0(e,t){wn.M(e,t);var i=El;if(i&&e){var s=Qi(i).hoistableScripts,o=Cl(e),c=s.get(o);c||(c=i.querySelector(Da(o)),c||(e=y({src:e,async:!0,type:"module"},t),(t=Ft.get(o))&&Tc(e,t),c=i.createElement("script"),Je(c),st(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Hg(e,t,i,s){var o=(o=re.current)?_r(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Tl(i.href),i=Qi(o).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Tl(i.href);var c=Qi(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(wa(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Ft.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ft.set(e,i),c||W0(o,e,i,d.state))),t&&s===null)throw Error(r(528,""));return d}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cl(i),i=Qi(o).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Tl(e){return'href="'+qt(e)+'"'}function wa(e){return'link[rel="stylesheet"]['+e+"]"}function jg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function W0(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),st(t,"link",i),Je(t),e.head.appendChild(t))}function Cl(e){return'[src="'+qt(e)+'"]'}function Da(e){return"script[async]"+e}function Ig(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(i.href)+'"]');if(s)return t.instance=s,Je(s),s;var o=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Je(s),st(s,"style",o),yr(s,i.precedence,e),t.instance=s;case"stylesheet":o=Tl(i.href);var c=e.querySelector(wa(o));if(c)return t.state.loading|=4,t.instance=c,Je(c),c;s=jg(i),(o=Ft.get(o))&&Ec(s,o),c=(e.ownerDocument||e).createElement("link"),Je(c);var d=c;return d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),st(c,"link",s),t.state.loading|=4,yr(c,i.precedence,e),t.instance=c;case"script":return c=Cl(i.src),(o=e.querySelector(Da(c)))?(t.instance=o,Je(o),o):(s=i,(o=Ft.get(c))&&(s=y({},i),Tc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),Je(o),st(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,yr(s,i.precedence,e));return t.instance}function yr(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,d=0;d<s.length;d++){var _=s[d];if(_.dataset.precedence===t)c=_;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vr=null;function Bg(e,t,i){if(vr===null){var s=new Map,o=vr=new Map;o.set(i,s)}else o=vr,s=o.get(i),s||(s=new Map,o.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[Ql]||c[nt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var _=s.get(d);_?_.push(c):s.set(d,[c])}}return s}function kg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function P0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $0(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var o=Tl(s.href),c=t.querySelector(wa(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=br.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,Je(c);return}c=t.ownerDocument||t,s=jg(s),(o=Ft.get(o))&&Ec(s,o),c=c.createElement("link"),Je(c);var d=c;d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),st(c,"link",s),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=br.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Cc=0;function eb(e,t){return e.stylesheets&&e.count===0&&Er(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Er(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Cc===0&&(Cc=62500*L0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Er(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Cc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function br(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Er(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sr=null;function Er(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sr=new Map,t.forEach(tb,e),Sr=null,br.call(e))}function tb(e,t){if(!(t.state.loading&4)){var i=Sr.get(e);if(i)var s=i.get(null);else{i=new Map,Sr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),s=d)}s&&i.set(null,s)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||s,c===s&&i.set(null,o),i.set(d,o),this.count++,s=br.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ra={$$typeof:J,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function nb(e,t,i,s,o,c,d,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.hiddenUpdates=vo(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Gg(e,t,i,s,o,c,d,_,v,N,R,L){return e=new nb(e,t,i,d,v,N,R,L,_),t=1,c===!0&&(t|=24),c=Ot(3,null,null,t),e.current=c,c.stateNode=e,t=iu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:i,cache:t},ru(c),e}function Yg(e){return e?(e=tl,e):tl}function Vg(e,t,i,s,o,c){o=Yg(o),s.context===null?s.context=o:s.pendingContext=o,s=Gn(t),s.payload={element:i},c=c===void 0?null:c,c!==null&&(s.callback=c),i=Yn(e,s,t),i!==null&&(Ct(i,e,t),oa(i,e,t))}function Qg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function xc(e,t){Qg(e,t),(e=e.alternate)&&Qg(e,t)}function Xg(e){if(e.tag===13||e.tag===31){var t=bi(e,67108864);t!==null&&Ct(t,e,67108864),xc(e,67108864)}}function Kg(e){if(e.tag===13||e.tag===31){var t=Ht();t=bo(t);var i=bi(e,t);i!==null&&Ct(i,e,t),xc(e,t)}}var Tr=!0;function ib(e,t,i,s){var o=O.T;O.T=null;var c=k.p;try{k.p=2,Nc(e,t,i,s)}finally{k.p=c,O.T=o}}function lb(e,t,i,s){var o=O.T;O.T=null;var c=k.p;try{k.p=8,Nc(e,t,i,s)}finally{k.p=c,O.T=o}}function Nc(e,t,i,s){if(Tr){var o=Ac(s);if(o===null)hc(e,t,s,Cr,i),Fg(e,s);else if(sb(o,e,t,i,s))s.stopPropagation();else if(Fg(e,s),t&4&&-1<ab.indexOf(e)){for(;o!==null;){var c=Vi(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=gi(c.pendingLanes);if(d!==0){var _=c;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var v=1<<31-Dt(d);_.entanglements[1]|=v,d&=~v}on(c),(_e&6)===0&&(sr=At()+500,Ca(0))}}break;case 31:case 13:_=bi(c,2),_!==null&&Ct(_,c,2),or(),xc(c,2)}if(c=Ac(s),c===null&&hc(e,t,s,Cr,i),c===o)break;o=c}o!==null&&s.stopPropagation()}else hc(e,t,s,null,i)}}function Ac(e){return e=Do(e),wc(e)}var Cr=null;function wc(e){if(Cr=null,e=Yi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cr=e,null}function Zg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vy()){case nh:return 2;case ih:return 8;case ds:case Qy:return 32;case lh:return 268435456;default:return 32}default:return 32}}var Dc=!1,ei=null,ti=null,ni=null,Oa=new Map,Ma=new Map,ii=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fg(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(t.pointerId)}}function za(e,t,i,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Vi(t),t!==null&&Xg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function sb(e,t,i,s,o){switch(t){case"focusin":return ei=za(ei,e,t,i,s,o),!0;case"dragenter":return ti=za(ti,e,t,i,s,o),!0;case"mouseover":return ni=za(ni,e,t,i,s,o),!0;case"pointerover":var c=o.pointerId;return Oa.set(c,za(Oa.get(c)||null,e,t,i,s,o)),!0;case"gotpointercapture":return c=o.pointerId,Ma.set(c,za(Ma.get(c)||null,e,t,i,s,o)),!0}return!1}function Jg(e){var t=Yi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,ch(e.priority,function(){Kg(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,ch(e.priority,function(){Kg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ac(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);wo=s,i.target.dispatchEvent(s),wo=null}else return t=Vi(i),t!==null&&Xg(t),e.blockedOn=i,!1;t.shift()}return!0}function Wg(e,t,i){xr(e)&&i.delete(t)}function rb(){Dc=!1,ei!==null&&xr(ei)&&(ei=null),ti!==null&&xr(ti)&&(ti=null),ni!==null&&xr(ni)&&(ni=null),Oa.forEach(Wg),Ma.forEach(Wg)}function Nr(e,t){e.blockedOn===t&&(e.blockedOn=null,Dc||(Dc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,rb)))}var Ar=null;function Pg(e){Ar!==e&&(Ar=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ar===e&&(Ar=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(wc(s||i)===null)continue;break}var c=Vi(i);c!==null&&(e.splice(t,3),t-=3,Au(c,{pending:!0,data:o,method:i.method,action:s},s,o))}}))}function xl(e){function t(v){return Nr(v,e)}ei!==null&&Nr(ei,e),ti!==null&&Nr(ti,e),ni!==null&&Nr(ni,e),Oa.forEach(t),Ma.forEach(t);for(var i=0;i<ii.length;i++){var s=ii[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ii.length&&(i=ii[0],i.blockedOn===null);)Jg(i),i.blockedOn===null&&ii.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],d=o[yt]||null;if(typeof c=="function")d||Pg(i);else if(d){var _=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[yt]||null)_=d.formAction;else if(wc(o)!==null)continue}else _=d.action;typeof _=="function"?i[s+1]=_:(i.splice(s,3),s-=3),Pg(i)}}}function $g(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return o=d})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Rc(e){this._internalRoot=e}wr.prototype.render=Rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,s=Ht();Vg(i,s,e,t,null,null)},wr.prototype.unmount=Rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vg(e.current,2,null,e,null,null),or(),t[Gi]=null}};function wr(e){this._internalRoot=e}wr.prototype.unstable_scheduleHydration=function(e){if(e){var t=uh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ii.length&&t!==0&&t<ii[i].priority;i++);ii.splice(i,0,e),i===0&&Jg(e)}};var ep=n.version;if(ep!=="19.2.3")throw Error(r(527,ep,"19.2.3"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dr.isDisabled&&Dr.supportsFiber)try{Gl=Dr.inject(ob),wt=Dr}catch{}}return Ua.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,s="",o=rm,c=om,d=um;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Gg(e,1,!1,null,null,i,s,null,o,c,d,$g),e[Gi]=t.current,fc(e),new Rc(t)},Ua.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var s=!1,o="",c=rm,d=om,_=um,v=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(v=i.formState)),t=Gg(e,1,!0,t,i??null,s,o,v,c,d,_,$g),t.context=Yg(null),i=t.current,s=Ht(),s=bo(s),o=Gn(s),o.callback=null,Yn(i,o,s),i=s,t.current.lanes=i,Vl(t,i),on(t),e[Gi]=t.current,fc(e),new wr(t)},Ua.version="19.2.3",Ua}var cp;function vb(){if(cp)return zc.exports;cp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),zc.exports=yb(),zc.exports}var bb=vb();const Sb=r_(bb);var ft=(a=>(a.JAPANESE="Japanese",a.DZONGKHA="Dzongkha",a))(ft||{});const fp="https://script.google.com/macros/s/AKfycbzlnBpSkj5YT8PP_h2GzuoEwBMxubMvenUPCK7DIgT0b1dQuXnxkb0GPlDZYvOWjA/exec",Eb=async(a,n,l)=>{var E,y,S,H;let r="";if(l==="Dzongkha")try{const U=await fetch(fp+"?action=translate",{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({text:a})});if(!U.ok)throw new Error(`HTTP error! status: ${U.status}`);const q=await U.json();q.status==="success"?r=q.text:q.error&&console.error("Translate API error:",q.error)}catch(U){console.error("Failed to fetch reference translation:",U),console.error("Error details:",U.message)}const f=[{role:"user",content:`
Generate pronunciation guide in XML format.

Source: "${a}" (Japanese)
Translation: "${r}" (Dzongkha)

CRITICAL RULES:
- Japanese source: Convert to Hiragana reading (e.g.,   )
- Dzongkha translation: Convert to Katakana pronunciation (e.g.,   )
- NO romanization (no Latin letters)
- NO placeholder text - use actual transliterations
- Output XML only, NO markdown blocks.

Example format:
<response>
  <sourceTransliteration></sourceTransliteration>
  <targetText></targetText>
  <targetTransliteration>  </targetTransliteration>
  <breakdown>
    <word>
      <original></original>
      <sourceTerm></sourceTerm>
      <translated></translated>
      <transliteration></transliteration>
    </word>
  </breakdown>
</response>
  `}],h=await fetch(fp+"?action=chat",{method:"POST",body:JSON.stringify({model:"gemini-2.5-flash-lite",provider:"gemini",messages:f})});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const m=await h.json();if(m.error)throw new Error(`API error: ${m.error}`);let p;try{let U=m.reply.replace(/```xml\n?/g,"").replace(/```\n?/g,"").trim();console.log("Cleaned reply:",U);const q=U.match(/<response>[\s\S]*?<\/response>/),I=q?q[0]:U;console.log("XML String:",I);const Q=W=>{const ze=new RegExp(`<${W}>([\\s\\S]*?)<\\/${W}>`),$=I.match(ze),ee=$?$[1].trim():"";return console.log(`Tag ${W}:`,ee,"Match:",$),ee},se=I.match(/<breakdown>([\s\S]*?)<\/breakdown>/),J=[];if(se){const W=se[1].matchAll(/<word>([\s\S]*?)<\/word>/g);for(const ze of W){const $=ze[1];J.push({original:((E=$.match(/<original>([\s\S]*?)<\/original>/))==null?void 0:E[1].trim())||"",sourceTerm:((y=$.match(/<sourceTerm>([\s\S]*?)<\/sourceTerm>/))==null?void 0:y[1].trim())||"",translated:((S=$.match(/<translated>([\s\S]*?)<\/translated>/))==null?void 0:S[1].trim())||"",transliteration:((H=$.match(/<transliteration>([\s\S]*?)<\/transliteration>/))==null?void 0:H[1].trim())||""})}}p={sourceTransliteration:Q("sourceTransliteration"),targetText:Q("targetText"),targetTransliteration:Q("targetTransliteration"),breakdown:J},console.log("Parsed data:",p)}catch(U){throw console.error("Failed to parse AI response:",U),console.log("Raw reply:",m.reply),new Error("Failed to parse translation response")}const g={sourceText:a,sourceTransliteration:p.sourceTransliteration,targetText:p.targetText,targetTransliteration:p.targetTransliteration,breakdown:p.breakdown,language:l,source:"AI"};return console.log("Final result being returned:",g),g},Tb=()=>{};var hp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(a,n){if(!a)throw jl(n)},jl=function(a){return new Error("Firebase Database ("+o_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):(u&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++r)&1023),n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},Cb=function(a){const n=[];let l=0,r=0;for(;l<a.length;){const u=a[l++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=a[l++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=a[l++],h=a[l++],m=a[l++],p=((u&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[r++]=String.fromCharCode(55296+(p>>10)),n[r++]=String.fromCharCode(56320+(p&1023))}else{const f=a[l++],h=a[l++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},_f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<a.length;u+=3){const f=a[u],h=u+1<a.length,m=h?a[u+1]:0,p=u+2<a.length,g=p?a[u+2]:0,E=f>>2,y=(f&3)<<4|m>>4;let S=(m&15)<<2|g>>6,H=g&63;p||(H=64,h||(S=64)),r.push(l[E],l[y],l[S],l[H])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(u_(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):Cb(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<a.length;){const f=l[a.charAt(u++)],m=u<a.length?l[a.charAt(u)]:0;++u;const g=u<a.length?l[a.charAt(u)]:64;++u;const y=u<a.length?l[a.charAt(u)]:64;if(++u,f==null||m==null||g==null||y==null)throw new xb;const S=f<<2|m>>4;if(r.push(S),g!==64){const H=m<<4&240|g>>2;if(r.push(H),y!==64){const U=g<<6&192|y;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c_=function(a){const n=u_(a);return _f.encodeByteArray(n,!0)},zr=function(a){return c_(a).replace(/\./g,"")},Fc=function(a){try{return _f.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(a){return f_(void 0,a)}function f_(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!Ab(l)||(a[l]=f_(a[l],n[l]));return a}function Ab(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=()=>wb().__FIREBASE_DEFAULTS__,Rb=()=>{if(typeof process>"u"||typeof hp>"u")return;const a=hp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Ob=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&Fc(a[1]);return n&&JSON.parse(n)},h_=()=>{try{return Tb()||Db()||Rb()||Ob()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Mb=a=>{var n,l;return(l=(n=h_())==null?void 0:n.emulatorHosts)==null?void 0:l[a]},zb=a=>{const n=Mb(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},d_=()=>{var a;return(a=h_())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lb(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",u=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[zr(JSON.stringify(l)),zr(JSON.stringify(h)),""].join(".")}const ka={};function Hb(){const a={prod:[],emulator:[]};for(const n of Object.keys(ka))ka[n]?a.emulator.push(n):a.prod.push(n);return a}function jb(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let dp=!1;function Ib(a,n){if(typeof window>"u"||typeof document>"u"||!yf(window.location.host)||ka[a]===n||ka[a]||dp)return;ka[a]=n;function l(S){return`__firebase__banner__${S}`}const r="__firebase__banner",f=Hb().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,H){S.setAttribute("width","24"),S.setAttribute("id",H),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{dp=!0,h()},S}function E(S,H){S.setAttribute("id",H),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function y(){const S=jb(r),H=l("text"),U=document.getElementById(H)||document.createElement("span"),q=l("learnmore"),I=document.getElementById(q)||document.createElement("a"),Q=l("preprendIcon"),se=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),E(I,q);const W=g();p(se,Q),J.append(se,U,I,W),document.body.appendChild(J)}f?(U.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bb())}function kb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qb(){return o_.NODE_ADMIN===!0}function Gb(){try{return typeof indexedDB=="object"}catch{return!1}}function Yb(){return new Promise((a,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),l||self.indexedDB.deleteDatabase(r),a(!0)},u.onupgradeneeded=()=>{l=!1},u.onerror=()=>{var f;n(((f=u.error)==null?void 0:f.message)||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="FirebaseError";class as extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=Vb,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,g_.prototype.create)}}class g_{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?Qb(f,r):"Error",m=`${this.serviceName}: ${h} (${u}).`;return new as(u,m,r)}}function Qb(a,n){return a.replace(Xb,(l,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const Xb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(a){return JSON.parse(a)}function Ze(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(a){let n={},l={},r={},u="";try{const f=a.split(".");n=Xa(Fc(f[0])||""),l=Xa(Fc(f[1])||""),u=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:u}},Kb=function(a){const n=p_(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},Zb=function(a){const n=p_(a).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Ol(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function mp(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function Lr(a,n,l){const r={};for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=n.call(l,a[u],u,a));return r}function Ur(a,n){if(a===n)return!0;const l=Object.keys(a),r=Object.keys(n);for(const u of l){if(!r.includes(u))return!1;const f=a[u],h=n[u];if(gp(f)&&gp(h)){if(!Ur(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!l.includes(u))return!1;return!0}function gp(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(a){const n=[];for(const[l,r]of Object.entries(a))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let y=0;y<16;y++)r[y]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let y=0;y<16;y++)r[y]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let y=16;y<80;y++){const S=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(S<<1|S>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,E;for(let y=0;y<80;y++){y<40?y<20?(g=m^f&(h^m),E=1518500249):(g=f^h^m,E=1859775393):y<60?(g=f&h|m&(f|h),E=2400959708):(g=f^h^m,E=3395469782);const S=(u<<5|u>>>27)+g+p+E+r[y]&4294967295;p=m,m=h,h=(f<<30|f>>>2)&4294967295,f=u,u=S}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<l;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<l;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<l;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function Wr(a,n){return`${a} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=function(a){const n=[];let l=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,j(r<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):u<65536?(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},Pr=function(a){let n=0;for(let l=0;l<a.length;l++){const r=a.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(a){return a&&a._delegate?a._delegate:a}class Ka{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new ls;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:l});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),r=(n==null?void 0:n.optional)??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(e1(n))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=zi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=zi){return this.instances.has(n)}getOptions(n=zi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);r===m&&h.resolve(u)}return u}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const f=this.instances.get(r);return f&&n(f,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const u of r)try{u(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$b(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=zi){return this.component?this.component.multipleInstances?n:zi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $b(a){return a===zi?void 0:a}function e1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new Pb(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(De||(De={}));const n1={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},i1=De.INFO,l1={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},a1=(a,n,...l)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),u=l1[n];if(u)console[u](`[${r}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class __{constructor(n){this.name=n,this._logLevel=i1,this._logHandler=a1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in De))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?n1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...n),this._logHandler(this,De.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...n),this._logHandler(this,De.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,De.INFO,...n),this._logHandler(this,De.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,De.WARN,...n),this._logHandler(this,De.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...n),this._logHandler(this,De.ERROR,...n)}}const s1=(a,n)=>n.some(l=>a instanceof l);let pp,_p;function r1(){return pp||(pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o1(){return _p||(_p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y_=new WeakMap,Jc=new WeakMap,v_=new WeakMap,jc=new WeakMap,vf=new WeakMap;function u1(a){const n=new Promise((l,r)=>{const u=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{l(si(a.result)),u()},h=()=>{r(a.error),u()};a.addEventListener("success",f),a.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&y_.set(l,a)}).catch(()=>{}),vf.set(n,a),n}function c1(a){if(Jc.has(a))return;const n=new Promise((l,r)=>{const u=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{l(),u()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});Jc.set(a,n)}let Wc={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return Jc.get(a);if(n==="objectStoreNames")return a.objectStoreNames||v_.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return si(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function f1(a){Wc=a(Wc)}function h1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=a.call(Ic(this),n,...l);return v_.set(r,n.sort?n.sort():[n]),si(r)}:o1().includes(a)?function(...n){return a.apply(Ic(this),n),si(y_.get(this))}:function(...n){return si(a.apply(Ic(this),n))}}function d1(a){return typeof a=="function"?h1(a):(a instanceof IDBTransaction&&c1(a),s1(a,r1())?new Proxy(a,Wc):a)}function si(a){if(a instanceof IDBRequest)return u1(a);if(jc.has(a))return jc.get(a);const n=d1(a);return n!==a&&(jc.set(a,n),vf.set(n,a)),n}const Ic=a=>vf.get(a);function m1(a,n,{blocked:l,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(a,n),m=si(h);return r&&h.addEventListener("upgradeneeded",p=>{r(si(h.result),p.oldVersion,p.newVersion,si(h.transaction),p)}),l&&h.addEventListener("blocked",p=>l(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),u&&p.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const g1=["get","getKey","getAll","getAllKeys","count"],p1=["put","add","delete","clear"],Bc=new Map;function yp(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Bc.get(n))return Bc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,u=p1.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(u||g1.includes(l)))return;const f=async function(h,...m){const p=this.transaction(h,u?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[l](...m),u&&p.done]))[0]};return Bc.set(n,f),f}f1(a=>({...a,get:(n,l,r)=>yp(n,l)||a.get(n,l,r),has:(n,l)=>!!yp(n,l)||a.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(y1(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function y1(a){const n=a.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Pc="@firebase/app",vp="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new __("@firebase/app"),v1="@firebase/app-compat",b1="@firebase/analytics-compat",S1="@firebase/analytics",E1="@firebase/app-check-compat",T1="@firebase/app-check",C1="@firebase/auth",x1="@firebase/auth-compat",N1="@firebase/database",A1="@firebase/data-connect",w1="@firebase/database-compat",D1="@firebase/functions",R1="@firebase/functions-compat",O1="@firebase/installations",M1="@firebase/installations-compat",z1="@firebase/messaging",L1="@firebase/messaging-compat",U1="@firebase/performance",H1="@firebase/performance-compat",j1="@firebase/remote-config",I1="@firebase/remote-config-compat",B1="@firebase/storage",k1="@firebase/storage-compat",q1="@firebase/firestore",G1="@firebase/ai",Y1="@firebase/firestore-compat",V1="firebase",Q1="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="[DEFAULT]",X1={[Pc]:"fire-core",[v1]:"fire-core-compat",[S1]:"fire-analytics",[b1]:"fire-analytics-compat",[T1]:"fire-app-check",[E1]:"fire-app-check-compat",[C1]:"fire-auth",[x1]:"fire-auth-compat",[N1]:"fire-rtdb",[A1]:"fire-data-connect",[w1]:"fire-rtdb-compat",[D1]:"fire-fn",[R1]:"fire-fn-compat",[O1]:"fire-iid",[M1]:"fire-iid-compat",[z1]:"fire-fcm",[L1]:"fire-fcm-compat",[U1]:"fire-perf",[H1]:"fire-perf-compat",[j1]:"fire-rc",[I1]:"fire-rc-compat",[B1]:"fire-gcs",[k1]:"fire-gcs-compat",[q1]:"fire-fst",[Y1]:"fire-fst-compat",[G1]:"fire-vertex","fire-js":"fire-js",[V1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new Map,K1=new Map,ef=new Map;function bp(a,n){try{a.container.addComponent(n)}catch(l){On.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function jr(a){const n=a.name;if(ef.has(n))return On.debug(`There were multiple attempts to register component ${n}.`),!1;ef.set(n,a);for(const l of Hr.values())bp(l,a);for(const l of K1.values())bp(l,a);return!0}function Z1(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function F1(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new g_("app","Firebase",J1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=Q1;function b_(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const r={name:$c,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw ri.create("bad-app-name",{appName:String(u)});if(l||(l=d_()),!l)throw ri.create("no-options");const f=Hr.get(u);if(f){if(Ur(l,f.options)&&Ur(r,f.config))return f;throw ri.create("duplicate-app",{appName:u})}const h=new t1(u);for(const p of ef.values())h.addComponent(p);const m=new W1(l,r,h);return Hr.set(u,m),m}function $1(a=$c){const n=Hr.get(a);if(!n&&a===$c&&d_())return b_();if(!n)throw ri.create("no-app",{appName:a});return n}function wl(a,n,l){let r=X1[a]??a;l&&(r+=`-${l}`);const u=r.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const h=[`Unable to register library "${r}" with version "${n}":`];u&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),On.warn(h.join(" "));return}jr(new Ka(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebase-heartbeat-database",tS=1,Za="firebase-heartbeat-store";let kc=null;function S_(){return kc||(kc=m1(eS,tS,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(Za)}catch(l){console.warn(l)}}}}).catch(a=>{throw ri.create("idb-open",{originalErrorMessage:a.message})})),kc}async function nS(a){try{const l=(await S_()).transaction(Za),r=await l.objectStore(Za).get(E_(a));return await l.done,r}catch(n){if(n instanceof as)On.warn(n.message);else{const l=ri.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});On.warn(l.message)}}}async function Sp(a,n){try{const r=(await S_()).transaction(Za,"readwrite");await r.objectStore(Za).put(n,E_(a)),await r.done}catch(l){if(l instanceof as)On.warn(l.message);else{const r=ri.create("idb-set",{originalErrorMessage:l==null?void 0:l.message});On.warn(r.message)}}}function E_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=1024,lS=30;class aS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new rS(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,l;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Ep();if(((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((l=this._heartbeatsCache)==null?void 0:l.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>lS){const h=oS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){On.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const l=Ep(),{heartbeatsToSend:r,unsentEntries:u}=sS(this._heartbeatsCache.heartbeats),f=zr(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=l,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(l){return On.warn(l),""}}}function Ep(){return new Date().toISOString().substring(0,10)}function sS(a,n=iS){const l=[];let r=a.slice();for(const u of a){const f=l.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),Tp(l)>n){f.dates.pop();break}}else if(l.push({agent:u.agent,dates:[u.date]}),Tp(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class rS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gb()?Yb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await nS(this.app);return l!=null&&l.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function Tp(a){return zr(JSON.stringify({version:2,heartbeats:a})).length}function oS(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let r=1;r<a.length;r++)a[r].date<l&&(l=a[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(a){jr(new Ka("platform-logger",n=>new _1(n),"PRIVATE")),jr(new Ka("heartbeat",n=>new aS(n),"PRIVATE")),wl(Pc,vp,a),wl(Pc,vp,"esm2020"),wl("fire-js","")}uS("");var cS="firebase",fS="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wl(cS,fS,"app");var Cp={};const xp="@firebase/database",Np="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T_="";function hS(a){T_=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Ze(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:Xa(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return un(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new dS(n)}}catch{}return new mS},Ui=C_("localStorage"),gS=C_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new __("@firebase/database"),pS=(function(){let a=1;return function(){return a++}})(),x_=function(a){const n=Wb(a),l=new Jb;l.update(n);const r=l.digest();return _f.encodeByteArray(r)},ss=function(...a){let n="";for(let l=0;l<a.length;l++){const r=a[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=ss.apply(null,r):typeof r=="object"?n+=Ze(r):n+=r,n+=" "}return n};let qa=null,Ap=!0;const _S=function(a,n){j(!0,"Can't turn on custom loggers persistently."),Dl.logLevel=De.VERBOSE,qa=Dl.log.bind(Dl)},rt=function(...a){if(Ap===!0&&(Ap=!1,qa===null&&gS.get("logging_enabled")===!0&&_S()),qa){const n=ss.apply(null,a);qa(n)}},rs=function(a){return function(...n){rt(a,...n)}},tf=function(...a){const n="FIREBASE INTERNAL ERROR: "+ss(...a);Dl.error(n)},Mn=function(...a){const n=`FIREBASE FATAL ERROR: ${ss(...a)}`;throw Dl.error(n),new Error(n)},gt=function(...a){const n="FIREBASE WARNING: "+ss(...a);Dl.warn(n)},yS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bf=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},vS=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Ml="[MIN_NAME]",Hi="[MAX_NAME]",ki=function(a,n){if(a===n)return 0;if(a===Ml||n===Hi)return-1;if(n===Ml||a===Hi)return 1;{const l=wp(a),r=wp(n);return l!==null?r!==null?l-r===0?a.length-n.length:l-r:-1:r!==null?1:a<n?-1:1}},bS=function(a,n){return a===n?0:a<n?-1:1},Ha=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+Ze(n))},Sf=function(a){if(typeof a!="object"||a===null)return Ze(a);const n=[];for(const r in a)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=Ze(n[r]),l+=":",l+=Sf(a[n[r]]);return l+="}",l},N_=function(a,n){const l=a.length;if(l<=n)return[a];const r=[];for(let u=0;u<l;u+=n)u+n>l?r.push(a.substring(u,l)):r.push(a.substring(u,u+n));return r};function ot(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const A_=function(a){j(!bf(a),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let u,f,h,m,p;a===0?(f=0,h=0,u=1/a===-1/0?1:0):(u=a<0,a=Math.abs(a),a>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),r),f=m+r,h=Math.round(a*Math.pow(2,l-m)-Math.pow(2,l))):(f=0,h=Math.round(a/Math.pow(2,1-r-l))));const g=[];for(p=l;p;p-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(p=n;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(u?1:0),g.reverse();const E=g.join("");let y="";for(p=0;p<64;p+=8){let S=parseInt(E.substr(p,8),2).toString(16);S.length===1&&(S="0"+S),y=y+S}return y.toLowerCase()},SS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ES=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function TS(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const r=new Error(a+" at "+n._path.toString()+": "+l);return r.code=a.toUpperCase(),r}const CS=new RegExp("^-?(0*)\\d{1,10}$"),xS=-2147483648,NS=2147483647,wp=function(a){if(CS.test(a)){const n=Number(a);if(n>=xS&&n<=NS)return n}return null},Il=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw gt("Exception was thrown by user callback.",l),n},Math.floor(0))}},AS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ga=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,F1(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l==null?void 0:l.getImmediate({optional:!0}),this.appCheck||l==null||l.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){var l;(l=this.appCheckProvider)==null||l.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(n)}}class Mr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Mr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="5",w_="v",D_="s",R_="r",O_="f",M_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z_="ls",L_="p",nf="ac",U_="websocket",H_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(n,l,r,u,f=!1,h="",m=!1,p=!1,g=null){this.secure=l,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function RS(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function I_(a,n,l){j(typeof n=="string","typeof type must == string"),j(typeof l=="object","typeof params must == object");let r;if(n===U_)r=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===H_)r=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);RS(a)&&(l.ns=a.namespace);const u=[];return ot(l,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.counters_={}}incrementCounter(n,l=1){un(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return Nb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc={},Gc={};function Tf(a){const n=a.toString();return qc[n]||(qc[n]=new OS),qc[n]}function MS(a,n){const l=a.toString();return Gc[l]||(Gc[l]=n()),Gc[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Il(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="start",LS="close",US="pLPCommand",HS="pRTLPCB",B_="id",k_="pw",q_="ser",jS="cb",IS="seg",BS="ts",kS="d",qS="dframe",G_=1870,Y_=30,GS=G_-Y_,YS=25e3,VS=3e4;class Al{constructor(n,l,r,u,f,h,m){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rs(n),this.stats_=Tf(l),this.urlFn=p=>(this.appCheckToken&&(p[nf]=this.appCheckToken),I_(l,H_,p))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new zS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VS)),vS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cf((...f)=>{const[h,m,p,g,E]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Dp)this.id=m,this.password=p;else if(h===LS)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[Dp]="t",r[q_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[jS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[w_]=Ef,this.transportSessionId&&(r[D_]=this.transportSessionId),this.lastSessionId&&(r[z_]=this.lastSessionId),this.applicationId&&(r[L_]=this.applicationId),this.appCheckToken&&(r[nf]=this.appCheckToken),typeof location<"u"&&location.hostname&&M_.test(location.hostname)&&(r[R_]=O_);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Al.forceAllow_=!0}static forceDisallow(){Al.forceDisallow_=!0}static isAvailable(){return Al.forceAllow_?!0:!Al.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SS()&&!ES()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Ze(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=c_(l),u=N_(r,GS);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[qS]="t",r[B_]=n,r[k_]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Ze(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Cf{constructor(n,l,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pS(),window[US+this.uniqueCallbackIdentifier]=n,window[HS+this.uniqueCallbackIdentifier]=l,this.myIFrame=Cf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){rt("frame writing exception"),m.stack&&rt(m.stack),rt(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||rt("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[B_]=this.myID,n[k_]=this.myPW,n[q_]=this.currentSerial;let l=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Y_+r.length<=G_;){const h=this.pendingSegs.shift();r=r+"&"+IS+u+"="+h.seg+"&"+BS+u+"="+h.ts+"&"+kS+u+"="+h.d,u++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},u=setTimeout(r,Math.floor(YS)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{rt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=16384,XS=45e3;let Ir=null;typeof MozWebSocket<"u"?Ir=MozWebSocket:typeof WebSocket<"u"&&(Ir=WebSocket);class tn{constructor(n,l,r,u,f,h,m){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rs(this.connId),this.stats_=Tf(l),this.connURL=tn.connectionURL_(l,h,m,u,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,u,f){const h={};return h[w_]=Ef,typeof location<"u"&&location.hostname&&M_.test(location.hostname)&&(h[R_]=O_),l&&(h[D_]=l),r&&(h[z_]=r),u&&(h[nf]=u),f&&(h[L_]=f),I_(n,U_,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let r;qb(),this.mySock=new Ir(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Ir!==null&&!tn.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=Xa(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(j(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=Ze(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=N_(l,QS);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(XS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static get ALL_TRANSPORTS(){return[Al,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=tn&&tn.isAvailable();let r=l&&!tn.previouslyFailed();if(n.webSocketOnly&&(l||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tn];else{const u=this.transports_=[];for(const f of Fa.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);Fa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=6e4,ZS=5e3,FS=10*1024,JS=100*1024,Yc="t",Rp="d",WS="s",Op="r",PS="e",Mp="o",zp="a",Lp="n",Up="p",$S="h";class eE{constructor(n,l,r,u,f,h,m,p,g,E){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rs("c:"+this.id+":"),this.transportManager_=new Fa(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=Ga(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>JS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Yc in n){const l=n[Yc];l===zp?this.upgradeIfSecondaryHealthy_():l===Op?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Mp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Ha("t",n),r=Ha("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Up,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Lp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Ha("t",n),r=Ha("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Ha(Yc,n);if(Rp in n){const r=n[Rp];if(l===$S){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(l===Lp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===WS?this.onConnectionShutdown_(r):l===Op?this.onReset_(r):l===PS?tf("Server Error: "+r):l===Mp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tf("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Ef!==r&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Ga(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ga(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ZS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Up,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{put(n,l,r,u){}merge(n,l,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(n){this.allowedEvents_=n,this.listeners_={},j(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const u=this.getInitialEvent(n);u&&l.apply(r,u)}off(n,l,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===l&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){j(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Q_{static getInstance(){return new Br}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!m_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return j(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=32,jp=768;class Ne{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function pe(){return new Ne("")}function le(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ci(a){return a.pieces_.length-a.pieceNum_}function Re(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Ne(a.pieces_,n)}function xf(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function tE(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function Ja(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function X_(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Ne(n,0)}function je(a,n){const l=[];for(let r=a.pieceNum_;r<a.pieces_.length;r++)l.push(a.pieces_[r]);if(n instanceof Ne)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&l.push(r[u])}return new Ne(l,0)}function ce(a){return a.pieceNum_>=a.pieces_.length}function mt(a,n){const l=le(a),r=le(n);if(l===null)return n;if(l===r)return mt(Re(a),Re(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function nE(a,n){const l=Ja(a,0),r=Ja(n,0);for(let u=0;u<l.length&&u<r.length;u++){const f=ki(l[u],r[u]);if(f!==0)return f}return l.length===r.length?0:l.length<r.length?-1:1}function Nf(a,n){if(ci(a)!==ci(n))return!1;for(let l=a.pieceNum_,r=n.pieceNum_;l<=a.pieces_.length;l++,r++)if(a.pieces_[l]!==n.pieces_[r])return!1;return!0}function Jt(a,n){let l=a.pieceNum_,r=n.pieceNum_;if(ci(a)>ci(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class iE{constructor(n,l){this.errorPrefix_=l,this.parts_=Ja(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Pr(this.parts_[r]);K_(this)}}function lE(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Pr(n),K_(a)}function aE(a){const n=a.parts_.pop();a.byteLength_-=Pr(n),a.parts_.length>0&&(a.byteLength_-=1)}function K_(a){if(a.byteLength_>jp)throw new Error(a.errorPrefix_+"has a key path longer than "+jp+" bytes ("+a.byteLength_+").");if(a.parts_.length>Hp)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hp+") or object contains a cycle "+Li(a))}function Li(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Q_{static getInstance(){return new Af}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return j(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=1e3,sE=300*1e3,Ip=30*1e3,rE=1.3,oE=3e4,uE="server_kill",Bp=3;class Rn extends V_{constructor(n,l,r,u,f,h,m,p){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Rn.nextPersistentConnectionId_++,this.log_=rs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ja,this.maxReconnectDelay_=sE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Af.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Br.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const u=++this.requestNumber_,f={r:u,a:n,b:l};this.log_(Ze(f)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const l=new ls,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?l.resolve(m):l.reject(m)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),j(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:u,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),u=l._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const p=m.d,g=m.s;Rn.warnOnListenWarnings_(p,l),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(g,p))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&un(n,"w")){const r=Ol(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Zb(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ip)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=Kb(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),j(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,l)}sendUnlisten_(n,l,r,u){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,u){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,l,r,u){this.putInternal("p",n,l,r,u)}merge(n,l,r,u){this.putInternal("m",n,l,r,u)}putInternal(n,l,r,u,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ze(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):tf("Unrecognized action received from server: "+Ze(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oE&&(this.reconnectDelay_=ja),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Rn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const p=function(){m?m.close():(h=!0,r())},g=function(y){j(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:p,sendRequest:g};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,S]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?rt("getToken() completed but was canceled"):(rt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=S&&S.token,m=new eE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,H=>{gt(H+" ("+this.repoInfo_.toString()+")"),this.interrupt(uE)},f))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&gt(y),p())}}}interrupt(n){rt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){rt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],mp(this.interruptReasons_)&&(this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>Sf(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,l){const r=new Ne(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,l){rt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Bp&&(this.reconnectDelay_=Ip,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){rt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Bp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+T_.replace(/\./g,"-")]=1,m_()?n["framework.cordova"]=1:kb()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Br.getInstance().currentlyOnline();return mp(this.interruptReasons_)&&n}}Rn.nextPersistentConnectionId_=0;Rn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ae(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new ae(Ml,n),u=new ae(Ml,l);return this.compare(r,u)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr;class Z_ extends $r{static get __EMPTY_NODE(){return Rr}static set __EMPTY_NODE(n){Rr=n}compare(n,l){return ki(n.name,l.name)}isDefinedOn(n){throw jl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ae.MIN}maxPost(){return new ae(Hi,Rr)}makePost(n,l){return j(typeof n=="string","KeyIndex indexValue must always be a string."),new ae(n,Rr)}toString(){return".key"}}const Rl=new Z_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(n,l,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class et{constructor(n,l,r,u,f){this.key=n,this.value=l,this.color=r??et.RED,this.left=u??xt.EMPTY_NODE,this.right=f??xt.EMPTY_NODE}copy(n,l,r,u,f){return new et(n??this.key,l??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,l,r),null):f===0?u=u.copy(null,l,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,l,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,u;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return xt.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}et.RED=!0;et.BLACK=!1;class cE{copy(n,l,r,u,f){return this}insert(n,l,r){return new et(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(n,l=xt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new xt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,et.BLACK,null,null))}remove(n){return new xt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,et.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,u=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Or(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Or(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Or(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Or(this.root_,null,this.comparator_,!0,n)}}xt.EMPTY_NODE=new cE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(a,n){return ki(a.name,n.name)}function wf(a,n){return ki(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf;function hE(a){lf=a}const F_=function(a){return typeof a=="number"?"number:"+A_(a):"string:"+a},J_=function(a){if(a.isLeafNode()){const n=a.val();j(typeof n=="string"||typeof n=="number"||typeof n=="object"&&un(n,".sv"),"Priority must be a string or number.")}else j(a===lf||a.isEmpty(),"priority of unexpected type.");j(a===lf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp;class $e{static set __childrenNodeConstructor(n){kp=n}static get __childrenNodeConstructor(){return kp}constructor(n,l=$e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),J_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new $e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:le(n)===".priority"?this.priorityNode_:$e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:$e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=le(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(j(r!==".priority"||ci(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+F_(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=A_(this.value_):n+=this.value_,this.lazyHash_=x_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===$e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof $e.__childrenNodeConstructor?-1:(j(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,u=$e.VALUE_TYPE_ORDER.indexOf(l),f=$e.VALUE_TYPE_ORDER.indexOf(r);return j(u>=0,"Unknown leaf type: "+l),j(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}$e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W_,P_;function dE(a){W_=a}function mE(a){P_=a}class gE extends $r{compare(n,l){const r=n.node.getPriority(),u=l.node.getPriority(),f=r.compareTo(u);return f===0?ki(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(Hi,new $e("[PRIORITY-POST]",P_))}makePost(n,l){const r=W_(n);return new ae(l,new $e("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ie=new gE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=Math.log(2);class _E{constructor(n){const l=f=>parseInt(Math.log(f)/pE,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const kr=function(a,n,l,r){a.sort(n);const u=function(p,g){const E=g-p;let y,S;if(E===0)return null;if(E===1)return y=a[p],S=l?l(y):y,new et(S,y.node,et.BLACK,null,null);{const H=parseInt(E/2,10)+p,U=u(p,H),q=u(H+1,g);return y=a[H],S=l?l(y):y,new et(S,y.node,et.BLACK,U,q)}},f=function(p){let g=null,E=null,y=a.length;const S=function(U,q){const I=y-U,Q=y;y-=U;const se=u(I+1,Q),J=a[I],W=l?l(J):J;H(new et(W,J.node,q,null,se))},H=function(U){g?(g.left=U,g=U):(E=U,g=U)};for(let U=0;U<p.count;++U){const q=p.nextBitIsOne(),I=Math.pow(2,p.count-(U+1));q?S(I,et.BLACK):(S(I,et.BLACK),S(I,et.RED))}return E},h=new _E(a.length),m=f(h);return new xt(r||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc;const Nl={};class Dn{static get Default(){return j(Nl&&Ie,"ChildrenNode.ts has not been loaded"),Vc=Vc||new Dn({".priority":Nl},{".priority":Ie}),Vc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Ol(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof xt?l:null}hasIndex(n){return un(this.indexSet_,n.toString())}addIndex(n,l){j(n!==Rl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=l.getIterator(ae.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let m;u?m=kr(r,n.getCompare()):m=Nl;const p=n.toString(),g={...this.indexSet_};g[p]=n;const E={...this.indexes_};return E[p]=m,new Dn(E,g)}addToIndexes(n,l){const r=Lr(this.indexes_,(u,f)=>{const h=Ol(this.indexSet_,f);if(j(h,"Missing index implementation for "+f),u===Nl)if(h.isDefinedOn(n.node)){const m=[],p=l.getIterator(ae.Wrap);let g=p.getNext();for(;g;)g.name!==n.name&&m.push(g),g=p.getNext();return m.push(n),kr(m,h.getCompare())}else return Nl;else{const m=l.get(n.name);let p=u;return m&&(p=p.remove(new ae(n.name,m))),p.insert(n,n.node)}});return new Dn(r,this.indexSet_)}removeFromIndexes(n,l){const r=Lr(this.indexes_,u=>{if(u===Nl)return u;{const f=l.get(n.name);return f?u.remove(new ae(n.name,f)):u}});return new Dn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia;class F{static get EMPTY_NODE(){return Ia||(Ia=new F(new xt(wf),null,Dn.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&J_(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ia}updatePriority(n){return this.children_.isEmpty()?this:new F(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Ia:l}}getChild(n){const l=le(n);return l===null?this:this.getImmediateChild(l).getChild(Re(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(j(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new ae(n,l);let u,f;l.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?Ia:this.priorityNode_;return new F(u,h,f)}}updateChild(n,l){const r=le(n);if(r===null)return l;{j(le(n)!==".priority"||ci(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(Re(n),l);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,u=0,f=!0;if(this.forEachChild(Ie,(h,m)=>{l[h]=m.val(n),r++,f&&F.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const m in l)h[m]=l[m];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+F_(this.getPriority().val())+":"),this.forEachChild(Ie,(l,r)=>{const u=r.hash();u!==""&&(n+=":"+l+":"+u)}),this.lazyHash_=n===""?"":x_(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new ae(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ae(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ae(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>l(u.name,u.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,ae.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,ae.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===os?-1:0}withIndex(n){if(n===Rl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new F(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Rl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(Ie),u=l.getIterator(Ie);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Rl?null:this.indexMap_.get(n.toString())}}F.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yE extends F{constructor(){super(new xt(wf),F.EMPTY_NODE,Dn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return F.EMPTY_NODE}isEmpty(){return!1}}const os=new yE;Object.defineProperties(ae,{MIN:{value:new ae(Ml,F.EMPTY_NODE)},MAX:{value:new ae(Hi,os)}});Z_.__EMPTY_NODE=F.EMPTY_NODE;$e.__childrenNodeConstructor=F;hE(os);mE(os);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=!0;function Ke(a,n=null){if(a===null)return F.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),j(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new $e(l,Ke(n))}if(!(a instanceof Array)&&vE){const l=[];let r=!1;if(ot(a,(h,m)=>{if(h.substring(0,1)!=="."){const p=Ke(m);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),l.push(new ae(h,p)))}}),l.length===0)return F.EMPTY_NODE;const f=kr(l,fE,h=>h.name,wf);if(r){const h=kr(l,Ie.getCompare());return new F(f,Ke(n),new Dn({".priority":h},{".priority":Ie}))}else return new F(f,Ke(n),Dn.Default)}else{let l=F.EMPTY_NODE;return ot(a,(r,u)=>{if(un(a,r)&&r.substring(0,1)!=="."){const f=Ke(u);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(Ke(n))}}dE(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends $r{constructor(n){super(),this.indexPath_=n,j(!ce(n)&&le(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),u=this.extractChild(l.node),f=r.compareTo(u);return f===0?ki(n.name,l.name):f}makePost(n,l){const r=Ke(n),u=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(l,u)}maxPost(){const n=F.EMPTY_NODE.updateChild(this.indexPath_,os);return new ae(Hi,n)}toString(){return Ja(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE extends $r{compare(n,l){const r=n.node.compareTo(l.node);return r===0?ki(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(n,l){const r=Ke(n);return new ae(l,r)}toString(){return".value"}}const EE=new SE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(a){return{type:"value",snapshotNode:a}}function zl(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function Wa(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function Pa(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function TE(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(n){this.index_=n}updateChild(n,l,r,u,f,h){j(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(l);return m.getChild(u).equals(r.getChild(u))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(Wa(l,m)):j(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(zl(l,r)):h.trackChildChange(Pa(l,r,m))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Ie,(u,f)=>{l.hasChild(u)||r.trackChildChange(Wa(u,f))}),l.isLeafNode()||l.forEachChild(Ie,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(Pa(u,f,h))}else r.trackChildChange(zl(u,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?F.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(n){this.indexedFilter_=new Df(n.getIndex()),this.index_=n.getIndex(),this.startPost_=$a.getStartPost_(n),this.endPost_=$a.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,u,f,h){return this.matches(new ae(l,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,u,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=F.EMPTY_NODE);let u=l.withIndex(this.index_);u=u.updatePriority(F.EMPTY_NODE);const f=this;return l.forEachChild(Ie,(h,m)=>{f.matches(new ae(h,m))||(u=u.updateImmediateChild(h,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $a(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,u,f,h){return this.rangedFilter_.matches(new ae(l,r))||(r=F.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,u,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let u;if(l.isLeafNode()||l.isEmpty())u=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){u=F.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))u=u.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{u=l.withIndex(this.index_),u=u.updatePriority(F.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:u=u.updateImmediateChild(m.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,u,f){let h;if(this.reverse_){const y=this.index_.getCompare();h=(S,H)=>y(H,S)}else h=this.index_.getCompare();const m=n;j(m.numChildren()===this.limit_,"");const p=new ae(l,r),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(m.hasChild(l)){const y=m.getImmediateChild(l);let S=u.getChildAfterChild(this.index_,g,this.reverse_);for(;S!=null&&(S.name===l||m.hasChild(S.name));)S=u.getChildAfterChild(this.index_,S,this.reverse_);const H=S==null?1:h(S,p);if(E&&!r.isEmpty()&&H>=0)return f!=null&&f.trackChildChange(Pa(l,r,y)),m.updateImmediateChild(l,r);{f!=null&&f.trackChildChange(Wa(l,y));const q=m.updateImmediateChild(l,F.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(f!=null&&f.trackChildChange(zl(S.name,S.node)),q.updateImmediateChild(S.name,S.node)):q}}else return r.isEmpty()?n:E&&h(g,p)>=0?(f!=null&&(f.trackChildChange(Wa(g.name,g.node)),f.trackChildChange(zl(l,r))),m.updateImmediateChild(l,r).updateImmediateChild(g.name,F.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ml}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ie}copy(){const n=new Rf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function xE(a){return a.loadsAllData()?new Df(a.getIndex()):a.hasLimit()?new CE(a):new $a(a)}function qp(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Ie?l="$priority":a.index_===EE?l="$value":a.index_===Rl?l="$key":(j(a.index_ instanceof bE,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=Ze(l),a.startSet_){const r=a.startAfterSet_?"startAfter":"startAt";n[r]=Ze(a.indexStartValue_),a.startNameSet_&&(n[r]+=","+Ze(a.indexStartName_))}if(a.endSet_){const r=a.endBeforeSet_?"endBefore":"endAt";n[r]=Ze(a.indexEndValue_),a.endNameSet_&&(n[r]+=","+Ze(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function Gp(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Ie&&(n.i=a.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends V_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(j(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=rs("p:rest:"),this.listens_={}}listen(n,l,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=qr.getListenId_(n,r),m={};this.listens_[h]=m;const p=qp(n._queryParams);this.restRequest_(f+".json",p,(g,E)=>{let y=E;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(f,y,!1,r),Ol(this.listens_,h)===m){let S;g?g===401?S="permission_denied":S="rest_error:"+g:S="ok",u(S,null)}})}unlisten(n,l){const r=qr.getListenId_(n,l);delete this.listens_[r]}get(n){const l=qp(n._queryParams),r=n._path.toString(),u=new ls;return this.restRequest_(r+".json",l,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(r,m,!1,null),u.resolve(m)):u.reject(new Error(m))}),u.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(l.auth=u.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+Fb(l);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=Xa(m.responseText)}catch{gt("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,p)}else m.status!==401&&m.status!==404&&gt("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return{value:null,children:new Map}}function ey(a,n,l){if(ce(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const r=le(n);a.children.has(r)||a.children.set(r,Gr());const u=a.children.get(r);n=Re(n),ey(u,n,l)}}function af(a,n,l){a.value!==null?l(n,a.value):AE(a,(r,u)=>{const f=new Ne(n.toString()+"/"+r);af(u,f,l)})}function AE(a,n){a.children.forEach((l,r)=>{n(r,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&ot(this.last_,(r,u)=>{l[r]=l[r]-u}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=10*1e3,DE=30*1e3,RE=300*1e3;class OE{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new wE(n);const r=Yp+(DE-Yp)*Math.random();Ga(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;ot(n,(u,f)=>{f>0&&un(this.statsToReport_,u)&&(l[u]=f,r=!0)}),r&&this.server_.reportStats(l),Ga(this.reportStats_.bind(this),Math.floor(Math.random()*2*RE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(nn||(nn={}));function Of(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Mf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zf(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=nn.ACK_USER_WRITE,this.source=Of()}operationForChild(n){if(ce(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Ne(n));return new Yr(pe(),l,this.revert)}}else return j(le(this.path)===n,"operationForChild called for unrelated child."),new Yr(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(n,l){this.source=n,this.path=l,this.type=nn.LISTEN_COMPLETE}operationForChild(n){return ce(this.path)?new es(this.source,pe()):new es(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=nn.OVERWRITE}operationForChild(n){return ce(this.path)?new ji(this.source,pe(),this.snap.getImmediateChild(n)):new ji(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=nn.MERGE}operationForChild(n){if(ce(this.path)){const l=this.children.subtree(new Ne(n));return l.isEmpty()?null:l.value?new ji(this.source,pe(),l.value):new Ll(this.source,pe(),l)}else return j(le(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ll(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ce(n))return this.isFullyInitialized()&&!this.filtered_;const l=le(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function zE(a,n,l,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(TE(h.childName,h.snapshotNode))}),Ba(a,u,"child_removed",n,r,l),Ba(a,u,"child_added",n,r,l),Ba(a,u,"child_moved",f,r,l),Ba(a,u,"child_changed",n,r,l),Ba(a,u,"value",n,r,l),u}function Ba(a,n,l,r,u,f){const h=r.filter(m=>m.type===l);h.sort((m,p)=>UE(a,m,p)),h.forEach(m=>{const p=LE(a,m,f);u.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(p,a.query_))})})}function LE(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function UE(a,n,l){if(n.childName==null||l.childName==null)throw jl("Should only compare child_ events.");const r=new ae(n.childName,n.snapshotNode),u=new ae(l.childName,l.snapshotNode);return a.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(a,n){return{eventCache:a,serverCache:n}}function Ya(a,n,l,r){return eo(new fi(n,l,r),a.serverCache)}function ty(a,n,l,r){return eo(a.eventCache,new fi(n,l,r))}function Vr(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Ii(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc;const HE=()=>(Qc||(Qc=new xt(bS)),Qc);class we{static fromObject(n){let l=new we(null);return ot(n,(r,u)=>{l=l.set(new Ne(r),u)}),l}constructor(n,l=HE()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:pe(),value:this.value};if(ce(n))return null;{const r=le(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(Re(n),l);return f!=null?{path:je(new Ne(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ce(n))return this;{const l=le(n),r=this.children.get(l);return r!==null?r.subtree(Re(n)):new we(null)}}set(n,l){if(ce(n))return new we(l,this.children);{const r=le(n),f=(this.children.get(r)||new we(null)).set(Re(n),l),h=this.children.insert(r,f);return new we(this.value,h)}}remove(n){if(ce(n))return this.children.isEmpty()?new we(null):new we(null,this.children);{const l=le(n),r=this.children.get(l);if(r){const u=r.remove(Re(n));let f;return u.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,u),this.value===null&&f.isEmpty()?new we(null):new we(this.value,f)}else return this}}get(n){if(ce(n))return this.value;{const l=le(n),r=this.children.get(l);return r?r.get(Re(n)):null}}setTree(n,l){if(ce(n))return l;{const r=le(n),f=(this.children.get(r)||new we(null)).setTree(Re(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new we(this.value,h)}}fold(n){return this.fold_(pe(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(je(n,u),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,pe(),l)}findOnPath_(n,l,r){const u=this.value?r(l,this.value):!1;if(u)return u;if(ce(n))return null;{const f=le(n),h=this.children.get(f);return h?h.findOnPath_(Re(n),je(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,pe(),l)}foreachOnPath_(n,l,r){if(ce(n))return this;{this.value&&r(l,this.value);const u=le(n),f=this.children.get(u);return f?f.foreachOnPath_(Re(n),je(l,u),r):new we(null)}}foreach(n){this.foreach_(pe(),n)}foreach_(n,l){this.children.inorderTraversal((r,u)=>{u.foreach_(je(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(n){this.writeTree_=n}static empty(){return new ln(new we(null))}}function Va(a,n,l){if(ce(n))return new ln(new we(l));{const r=a.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=mt(u,n);return f=f.updateChild(h,l),new ln(a.writeTree_.set(u,f))}else{const u=new we(l),f=a.writeTree_.setTree(n,u);return new ln(f)}}}function sf(a,n,l){let r=a;return ot(l,(u,f)=>{r=Va(r,je(n,u),f)}),r}function Vp(a,n){if(ce(n))return ln.empty();{const l=a.writeTree_.setTree(n,new we(null));return new ln(l)}}function rf(a,n){return qi(a,n)!=null}function qi(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(mt(l.path,n)):null}function Qp(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Ie,(r,u)=>{n.push(new ae(r,u))}):a.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new ae(r,u.value))}),n}function oi(a,n){if(ce(n))return a;{const l=qi(a,n);return l!=null?new ln(new we(l)):new ln(a.writeTree_.subtree(n))}}function of(a){return a.writeTree_.isEmpty()}function Ul(a,n){return ny(pe(),a.writeTree_,n)}function ny(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(j(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=ny(je(a,u),f,l)}),!l.getChild(a).isEmpty()&&r!==null&&(l=l.updateChild(je(a,".priority"),r)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(a,n){return sy(n,a)}function jE(a,n,l,r,u){j(r>a.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),a.allWrites.push({path:n,snap:l,writeId:r,visible:u}),u&&(a.visibleWrites=Va(a.visibleWrites,n,l)),a.lastWriteId=r}function IE(a,n,l,r){j(r>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:r,visible:!0}),a.visibleWrites=sf(a.visibleWrites,n,l),a.lastWriteId=r}function BE(a,n){for(let l=0;l<a.allWrites.length;l++){const r=a.allWrites[l];if(r.writeId===n)return r}return null}function kE(a,n){const l=a.allWrites.findIndex(m=>m.writeId===n);j(l>=0,"removeWrite called with nonexistent writeId.");const r=a.allWrites[l];a.allWrites.splice(l,1);let u=r.visible,f=!1,h=a.allWrites.length-1;for(;u&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=l&&qE(m,r.path)?u=!1:Jt(r.path,m.path)&&(f=!0)),h--}if(u){if(f)return GE(a),!0;if(r.snap)a.visibleWrites=Vp(a.visibleWrites,r.path);else{const m=r.children;ot(m,p=>{a.visibleWrites=Vp(a.visibleWrites,je(r.path,p))})}return!0}else return!1}function qE(a,n){if(a.snap)return Jt(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&Jt(je(a.path,l),n))return!0;return!1}function GE(a){a.visibleWrites=iy(a.allWrites,YE,pe()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function YE(a){return a.visible}function iy(a,n,l){let r=ln.empty();for(let u=0;u<a.length;++u){const f=a[u];if(n(f)){const h=f.path;let m;if(f.snap)Jt(l,h)?(m=mt(l,h),r=Va(r,m,f.snap)):Jt(h,l)&&(m=mt(h,l),r=Va(r,pe(),f.snap.getChild(m)));else if(f.children){if(Jt(l,h))m=mt(l,h),r=sf(r,m,f.children);else if(Jt(h,l))if(m=mt(h,l),ce(m))r=sf(r,pe(),f.children);else{const p=Ol(f.children,le(m));if(p){const g=p.getChild(Re(m));r=Va(r,pe(),g)}}}else throw jl("WriteRecord should have .snap or .children")}}return r}function ly(a,n,l,r,u){if(!r&&!u){const f=qi(a.visibleWrites,n);if(f!=null)return f;{const h=oi(a.visibleWrites,n);if(of(h))return l;if(l==null&&!rf(h,pe()))return null;{const m=l||F.EMPTY_NODE;return Ul(h,m)}}}else{const f=oi(a.visibleWrites,n);if(!u&&of(f))return l;if(!u&&l==null&&!rf(f,pe()))return null;{const h=function(g){return(g.visible||u)&&(!r||!~r.indexOf(g.writeId))&&(Jt(g.path,n)||Jt(n,g.path))},m=iy(a.allWrites,h,n),p=l||F.EMPTY_NODE;return Ul(m,p)}}}function VE(a,n,l){let r=F.EMPTY_NODE;const u=qi(a.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Ie,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=oi(a.visibleWrites,n);return l.forEachChild(Ie,(h,m)=>{const p=Ul(oi(f,new Ne(h)),m);r=r.updateImmediateChild(h,p)}),Qp(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=oi(a.visibleWrites,n);return Qp(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function QE(a,n,l,r,u){j(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=je(n,l);if(rf(a.visibleWrites,f))return null;{const h=oi(a.visibleWrites,f);return of(h)?u.getChild(l):Ul(h,u.getChild(l))}}function XE(a,n,l,r){const u=je(n,l),f=qi(a.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=oi(a.visibleWrites,u);return Ul(h,r.getNode().getImmediateChild(l))}else return null}function KE(a,n){return qi(a.visibleWrites,n)}function ZE(a,n,l,r,u,f,h){let m;const p=oi(a.visibleWrites,n),g=qi(p,pe());if(g!=null)m=g;else if(l!=null)m=Ul(p,l);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const E=[],y=h.getCompare(),S=f?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let H=S.getNext();for(;H&&E.length<u;)y(H,r)!==0&&E.push(H),H=S.getNext();return E}else return[]}function FE(){return{visibleWrites:ln.empty(),allWrites:[],lastWriteId:-1}}function Qr(a,n,l,r){return ly(a.writeTree,a.treePath,n,l,r)}function Lf(a,n){return VE(a.writeTree,a.treePath,n)}function Xp(a,n,l,r){return QE(a.writeTree,a.treePath,n,l,r)}function Xr(a,n){return KE(a.writeTree,je(a.treePath,n))}function JE(a,n,l,r,u,f){return ZE(a.writeTree,a.treePath,n,l,r,u,f)}function Uf(a,n,l){return XE(a.writeTree,a.treePath,n,l)}function ay(a,n){return sy(je(a.treePath,n),a.writeTree)}function sy(a,n){return{treePath:a,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;j(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),j(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,Pa(r,n.snapshotNode,u.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,Wa(r,u.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,zl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,Pa(r,n.snapshotNode,u.oldSnap));else throw jl("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const ry=new PE;class Hf{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ii(this.viewCache_),f=JE(this.writes_,u,l,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(a){return{filter:a}}function eT(a,n){j(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),j(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function tT(a,n,l,r,u){const f=new WE;let h,m;if(l.type===nn.OVERWRITE){const g=l;g.source.fromUser?h=uf(a,n,g.path,g.snap,r,u,f):(j(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!ce(g.path),h=Kr(a,n,g.path,g.snap,r,u,m,f))}else if(l.type===nn.MERGE){const g=l;g.source.fromUser?h=iT(a,n,g.path,g.children,r,u,f):(j(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),h=cf(a,n,g.path,g.children,r,u,m,f))}else if(l.type===nn.ACK_USER_WRITE){const g=l;g.revert?h=sT(a,n,g.path,r,u,f):h=lT(a,n,g.path,g.affectedTree,r,u,f)}else if(l.type===nn.LISTEN_COMPLETE)h=aT(a,n,l.path,r,f);else throw jl("Unknown operation type: "+l.type);const p=f.getChanges();return nT(n,h,p),{viewCache:h,changes:p}}function nT(a,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Vr(a);(l.length>0||!a.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push($_(Vr(n)))}}function oy(a,n,l,r,u,f){const h=n.eventCache;if(Xr(r,l)!=null)return n;{let m,p;if(ce(l))if(j(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Ii(n),E=g instanceof F?g:F.EMPTY_NODE,y=Lf(r,E);m=a.filter.updateFullNode(n.eventCache.getNode(),y,f)}else{const g=Qr(r,Ii(n));m=a.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=le(l);if(g===".priority"){j(ci(l)===1,"Can't have a priority with additional path components");const E=h.getNode();p=n.serverCache.getNode();const y=Xp(r,l,E,p);y!=null?m=a.filter.updatePriority(E,y):m=h.getNode()}else{const E=Re(l);let y;if(h.isCompleteForChild(g)){p=n.serverCache.getNode();const S=Xp(r,l,h.getNode(),p);S!=null?y=h.getNode().getImmediateChild(g).updateChild(E,S):y=h.getNode().getImmediateChild(g)}else y=Uf(r,g,n.serverCache);y!=null?m=a.filter.updateChild(h.getNode(),g,y,E,u,f):m=h.getNode()}}return Ya(n,m,h.isFullyInitialized()||ce(l),a.filter.filtersNodes())}}function Kr(a,n,l,r,u,f,h,m){const p=n.serverCache;let g;const E=h?a.filter:a.filter.getIndexedFilter();if(ce(l))g=E.updateFullNode(p.getNode(),r,null);else if(E.filtersNodes()&&!p.isFiltered()){const H=p.getNode().updateChild(l,r);g=E.updateFullNode(p.getNode(),H,null)}else{const H=le(l);if(!p.isCompleteForPath(l)&&ci(l)>1)return n;const U=Re(l),I=p.getNode().getImmediateChild(H).updateChild(U,r);H===".priority"?g=E.updatePriority(p.getNode(),I):g=E.updateChild(p.getNode(),H,I,U,ry,null)}const y=ty(n,g,p.isFullyInitialized()||ce(l),E.filtersNodes()),S=new Hf(u,y,f);return oy(a,y,l,u,S,m)}function uf(a,n,l,r,u,f,h){const m=n.eventCache;let p,g;const E=new Hf(u,n,f);if(ce(l))g=a.filter.updateFullNode(n.eventCache.getNode(),r,h),p=Ya(n,g,!0,a.filter.filtersNodes());else{const y=le(l);if(y===".priority")g=a.filter.updatePriority(n.eventCache.getNode(),r),p=Ya(n,g,m.isFullyInitialized(),m.isFiltered());else{const S=Re(l),H=m.getNode().getImmediateChild(y);let U;if(ce(S))U=r;else{const q=E.getCompleteChild(y);q!=null?xf(S)===".priority"&&q.getChild(X_(S)).isEmpty()?U=q:U=q.updateChild(S,r):U=F.EMPTY_NODE}if(H.equals(U))p=n;else{const q=a.filter.updateChild(m.getNode(),y,U,S,E,h);p=Ya(n,q,m.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function Kp(a,n){return a.eventCache.isCompleteForChild(n)}function iT(a,n,l,r,u,f,h){let m=n;return r.foreach((p,g)=>{const E=je(l,p);Kp(n,le(E))&&(m=uf(a,m,E,g,u,f,h))}),r.foreach((p,g)=>{const E=je(l,p);Kp(n,le(E))||(m=uf(a,m,E,g,u,f,h))}),m}function Zp(a,n,l){return l.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function cf(a,n,l,r,u,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,g;ce(l)?g=r:g=new we(null).setTree(l,r);const E=n.serverCache.getNode();return g.children.inorderTraversal((y,S)=>{if(E.hasChild(y)){const H=n.serverCache.getNode().getImmediateChild(y),U=Zp(a,H,S);p=Kr(a,p,new Ne(y),U,u,f,h,m)}}),g.children.inorderTraversal((y,S)=>{const H=!n.serverCache.isCompleteForChild(y)&&S.value===null;if(!E.hasChild(y)&&!H){const U=n.serverCache.getNode().getImmediateChild(y),q=Zp(a,U,S);p=Kr(a,p,new Ne(y),q,u,f,h,m)}}),p}function lT(a,n,l,r,u,f,h){if(Xr(u,l)!=null)return n;const m=n.serverCache.isFiltered(),p=n.serverCache;if(r.value!=null){if(ce(l)&&p.isFullyInitialized()||p.isCompleteForPath(l))return Kr(a,n,l,p.getNode().getChild(l),u,f,m,h);if(ce(l)){let g=new we(null);return p.getNode().forEachChild(Rl,(E,y)=>{g=g.set(new Ne(E),y)}),cf(a,n,l,g,u,f,m,h)}else return n}else{let g=new we(null);return r.foreach((E,y)=>{const S=je(l,E);p.isCompleteForPath(S)&&(g=g.set(E,p.getNode().getChild(S)))}),cf(a,n,l,g,u,f,m,h)}}function aT(a,n,l,r,u){const f=n.serverCache,h=ty(n,f.getNode(),f.isFullyInitialized()||ce(l),f.isFiltered());return oy(a,h,l,r,ry,u)}function sT(a,n,l,r,u,f){let h;if(Xr(r,l)!=null)return n;{const m=new Hf(r,n,u),p=n.eventCache.getNode();let g;if(ce(l)||le(l)===".priority"){let E;if(n.serverCache.isFullyInitialized())E=Qr(r,Ii(n));else{const y=n.serverCache.getNode();j(y instanceof F,"serverChildren would be complete if leaf node"),E=Lf(r,y)}E=E,g=a.filter.updateFullNode(p,E,f)}else{const E=le(l);let y=Uf(r,E,n.serverCache);y==null&&n.serverCache.isCompleteForChild(E)&&(y=p.getImmediateChild(E)),y!=null?g=a.filter.updateChild(p,E,y,Re(l),m,f):n.eventCache.getNode().hasChild(E)?g=a.filter.updateChild(p,E,F.EMPTY_NODE,Re(l),m,f):g=p,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Qr(r,Ii(n)),h.isLeafNode()&&(g=a.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||Xr(r,pe())!=null,Ya(n,g,h,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new Df(r.getIndex()),f=xE(r);this.processor_=$E(f);const h=l.serverCache,m=l.eventCache,p=u.updateFullNode(F.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(F.EMPTY_NODE,m.getNode(),null),E=new fi(p,h.isFullyInitialized(),u.filtersNodes()),y=new fi(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=eo(y,E),this.eventGenerator_=new ME(this.query_)}get query(){return this.query_}}function oT(a){return a.viewCache_.serverCache.getNode()}function uT(a){return Vr(a.viewCache_)}function cT(a,n){const l=Ii(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!ce(n)&&!l.getImmediateChild(le(n)).isEmpty())?l.getChild(n):null}function Fp(a){return a.eventRegistrations_.length===0}function fT(a,n){a.eventRegistrations_.push(n)}function Jp(a,n,l){const r=[];if(l){j(n==null,"A cancel should cancel all event registrations.");const u=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=u}else a.eventRegistrations_=[];return r}function Wp(a,n,l,r){n.type===nn.MERGE&&n.source.queryId!==null&&(j(Ii(a.viewCache_),"We should always have a full cache before handling merges"),j(Vr(a.viewCache_),"Missing event cache, even though we have a server cache"));const u=a.viewCache_,f=tT(a.processor_,u,n,l,r);return eT(a.processor_,f.viewCache),j(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,uy(a,f.changes,f.viewCache.eventCache.getNode(),null)}function hT(a,n){const l=a.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ie,(f,h)=>{r.push(zl(f,h))}),l.isFullyInitialized()&&r.push($_(l.getNode())),uy(a,r,l.getNode(),n)}function uy(a,n,l,r){const u=r?[r]:a.eventRegistrations_;return zE(a.eventGenerator_,n,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zr;class cy{constructor(){this.views=new Map}}function dT(a){j(!Zr,"__referenceConstructor has already been defined"),Zr=a}function mT(){return j(Zr,"Reference.ts has not been loaded"),Zr}function gT(a){return a.views.size===0}function jf(a,n,l,r){const u=n.source.queryId;if(u!==null){const f=a.views.get(u);return j(f!=null,"SyncTree gave us an op for an invalid query."),Wp(f,n,l,r)}else{let f=[];for(const h of a.views.values())f=f.concat(Wp(h,n,l,r));return f}}function fy(a,n,l,r,u){const f=n._queryIdentifier,h=a.views.get(f);if(!h){let m=Qr(l,u?r:null),p=!1;m?p=!0:r instanceof F?(m=Lf(l,r),p=!1):(m=F.EMPTY_NODE,p=!1);const g=eo(new fi(m,p,!1),new fi(r,u,!1));return new rT(n,g)}return h}function pT(a,n,l,r,u,f){const h=fy(a,n,r,u,f);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,h),fT(h,l),hT(h,l)}function _T(a,n,l,r){const u=n._queryIdentifier,f=[];let h=[];const m=hi(a);if(u==="default")for(const[p,g]of a.views.entries())h=h.concat(Jp(g,l,r)),Fp(g)&&(a.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=a.views.get(u);p&&(h=h.concat(Jp(p,l,r)),Fp(p)&&(a.views.delete(u),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!hi(a)&&f.push(new(mT())(n._repo,n._path)),{removed:f,events:h}}function hy(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function ui(a,n){let l=null;for(const r of a.views.values())l=l||cT(r,n);return l}function dy(a,n){if(n._queryParams.loadsAllData())return no(a);{const r=n._queryIdentifier;return a.views.get(r)}}function my(a,n){return dy(a,n)!=null}function hi(a){return no(a)!=null}function no(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr;function yT(a){j(!Fr,"__referenceConstructor has already been defined"),Fr=a}function vT(){return j(Fr,"Reference.ts has not been loaded"),Fr}let bT=1;class Pp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new we(null),this.pendingWriteTree_=FE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gy(a,n,l,r,u){return jE(a.pendingWriteTree_,n,l,r,u),u?Bl(a,new ji(Of(),n,l)):[]}function ST(a,n,l,r){IE(a.pendingWriteTree_,n,l,r);const u=we.fromObject(l);return Bl(a,new Ll(Of(),n,u))}function ai(a,n,l=!1){const r=BE(a.pendingWriteTree_,n);if(kE(a.pendingWriteTree_,n)){let f=new we(null);return r.snap!=null?f=f.set(pe(),!0):ot(r.children,h=>{f=f.set(new Ne(h),!0)}),Bl(a,new Yr(r.path,f,l))}else return[]}function us(a,n,l){return Bl(a,new ji(Mf(),n,l))}function ET(a,n,l){const r=we.fromObject(l);return Bl(a,new Ll(Mf(),n,r))}function TT(a,n){return Bl(a,new es(Mf(),n))}function CT(a,n,l){const r=Bf(a,l);if(r){const u=kf(r),f=u.path,h=u.queryId,m=mt(f,n),p=new es(zf(h),m);return qf(a,f,p)}else return[]}function Jr(a,n,l,r,u=!1){const f=n._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||my(h,n))){const p=_T(h,n,l,r);gT(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!u){const E=g.findIndex(S=>S._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(f,(S,H)=>hi(H));if(E&&!y){const S=a.syncPointTree_.subtree(f);if(!S.isEmpty()){const H=AT(S);for(let U=0;U<H.length;++U){const q=H[U],I=q.query,Q=vy(a,q);a.listenProvider_.startListening(Qa(I),ts(a,I),Q.hashFn,Q.onComplete)}}}!y&&g.length>0&&!r&&(E?a.listenProvider_.stopListening(Qa(n),null):g.forEach(S=>{const H=a.queryToTagMap.get(io(S));a.listenProvider_.stopListening(Qa(S),H)}))}wT(a,g)}return m}function py(a,n,l,r){const u=Bf(a,r);if(u!=null){const f=kf(u),h=f.path,m=f.queryId,p=mt(h,n),g=new ji(zf(m),p,l);return qf(a,h,g)}else return[]}function xT(a,n,l,r){const u=Bf(a,r);if(u){const f=kf(u),h=f.path,m=f.queryId,p=mt(h,n),g=we.fromObject(l),E=new Ll(zf(m),p,g);return qf(a,h,E)}else return[]}function ff(a,n,l,r=!1){const u=n._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(u,(S,H)=>{const U=mt(S,u);f=f||ui(H,U),h=h||hi(H)});let m=a.syncPointTree_.get(u);m?(h=h||hi(m),f=f||ui(m,pe())):(m=new cy,a.syncPointTree_=a.syncPointTree_.set(u,m));let p;f!=null?p=!0:(p=!1,f=F.EMPTY_NODE,a.syncPointTree_.subtree(u).foreachChild((H,U)=>{const q=ui(U,pe());q&&(f=f.updateImmediateChild(H,q))}));const g=my(m,n);if(!g&&!n._queryParams.loadsAllData()){const S=io(n);j(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const H=DT();a.queryToTagMap.set(S,H),a.tagToQueryMap.set(H,S)}const E=to(a.pendingWriteTree_,u);let y=pT(m,n,l,E,f,p);if(!g&&!h&&!r){const S=dy(m,n);y=y.concat(RT(a,n,S))}return y}function If(a,n,l){const u=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(n,(h,m)=>{const p=mt(h,n),g=ui(m,p);if(g)return g});return ly(u,n,f,l,!0)}function NT(a,n){const l=n._path;let r=null;a.syncPointTree_.foreachOnPath(l,(g,E)=>{const y=mt(g,l);r=r||ui(E,y)});let u=a.syncPointTree_.get(l);u?r=r||ui(u,pe()):(u=new cy,a.syncPointTree_=a.syncPointTree_.set(l,u));const f=r!=null,h=f?new fi(r,!0,!1):null,m=to(a.pendingWriteTree_,n._path),p=fy(u,n,m,f?h.getNode():F.EMPTY_NODE,f);return uT(p)}function Bl(a,n){return _y(n,a.syncPointTree_,null,to(a.pendingWriteTree_,pe()))}function _y(a,n,l,r){if(ce(a.path))return yy(a,n,l,r);{const u=n.get(pe());l==null&&u!=null&&(l=ui(u,pe()));let f=[];const h=le(a.path),m=a.operationForChild(h),p=n.children.get(h);if(p&&m){const g=l?l.getImmediateChild(h):null,E=ay(r,h);f=f.concat(_y(m,p,g,E))}return u&&(f=f.concat(jf(u,a,r,l))),f}}function yy(a,n,l,r){const u=n.get(pe());l==null&&u!=null&&(l=ui(u,pe()));let f=[];return n.children.inorderTraversal((h,m)=>{const p=l?l.getImmediateChild(h):null,g=ay(r,h),E=a.operationForChild(h);E&&(f=f.concat(yy(E,m,p,g)))}),u&&(f=f.concat(jf(u,a,r,l))),f}function vy(a,n){const l=n.query,r=ts(a,l);return{hashFn:()=>(oT(n)||F.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?CT(a,l._path,r):TT(a,l._path);{const f=TS(u,l);return Jr(a,l,null,f)}}}}function ts(a,n){const l=io(n);return a.queryToTagMap.get(l)}function io(a){return a._path.toString()+"$"+a._queryIdentifier}function Bf(a,n){return a.tagToQueryMap.get(n)}function kf(a){const n=a.indexOf("$");return j(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Ne(a.substr(0,n))}}function qf(a,n,l){const r=a.syncPointTree_.get(n);j(r,"Missing sync point for query tag that we're tracking");const u=to(a.pendingWriteTree_,n);return jf(r,l,u,null)}function AT(a){return a.fold((n,l,r)=>{if(l&&hi(l))return[no(l)];{let u=[];return l&&(u=hy(l)),ot(r,(f,h)=>{u=u.concat(h)}),u}})}function Qa(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(vT())(a._repo,a._path):a}function wT(a,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const u=io(r),f=a.queryToTagMap.get(u);a.queryToTagMap.delete(u),a.tagToQueryMap.delete(f)}}}function DT(){return bT++}function RT(a,n,l){const r=n._path,u=ts(a,n),f=vy(a,l),h=a.listenProvider_.startListening(Qa(n),u,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(r);if(u)j(!hi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,E,y)=>{if(!ce(g)&&E&&hi(E))return[no(E).query];{let S=[];return E&&(S=S.concat(hy(E).map(H=>H.query))),ot(y,(H,U)=>{S=S.concat(U)}),S}});for(let g=0;g<p.length;++g){const E=p[g];a.listenProvider_.stopListening(Qa(E),ts(a,E))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Gf(l)}node(){return this.node_}}class Yf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=je(this.path_,n);return new Yf(this.syncTree_,l)}node(){return If(this.syncTree_,this.path_)}}const OT=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},$p=function(a,n,l){if(!a||typeof a!="object")return a;if(j(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return MT(a[".sv"],n,l);if(typeof a[".sv"]=="object")return zT(a[".sv"],n);j(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},MT=function(a,n,l){switch(a){case"timestamp":return l.timestamp;default:j(!1,"Unexpected server value: "+a)}},zT=function(a,n,l){a.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const r=a.increment;typeof r!="number"&&j(!1,"Unexpected increment value: "+r);const u=n.node();if(j(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},by=function(a,n,l,r){return Vf(n,new Yf(l,a),r)},Sy=function(a,n,l){return Vf(a,new Gf(n),l)};function Vf(a,n,l){const r=a.getPriority().val(),u=$p(r,n.getImmediateChild(".priority"),l);let f;if(a.isLeafNode()){const h=a,m=$p(h.getValue(),n,l);return m!==h.getValue()||u!==h.getPriority().val()?new $e(m,Ke(u)):a}else{const h=a;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new $e(u))),h.forEachChild(Ie,(m,p)=>{const g=Vf(p,n.getImmediateChild(m),l);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function Xf(a,n){let l=n instanceof Ne?n:new Ne(n),r=a,u=le(l);for(;u!==null;){const f=Ol(r.node.children,u)||{children:{},childCount:0};r=new Qf(u,r,f),l=Re(l),u=le(l)}return r}function kl(a){return a.node.value}function Ey(a,n){a.node.value=n,hf(a)}function Ty(a){return a.node.childCount>0}function LT(a){return kl(a)===void 0&&!Ty(a)}function lo(a,n){ot(a.node.children,(l,r)=>{n(new Qf(l,a,r))})}function Cy(a,n,l,r){l&&n(a),lo(a,u=>{Cy(u,n,!0)})}function UT(a,n,l){let r=a.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function cs(a){return new Ne(a.parent===null?a.name:cs(a.parent)+"/"+a.name)}function hf(a){a.parent!==null&&HT(a.parent,a.name,a)}function HT(a,n,l){const r=LT(l),u=un(a.node.children,n);r&&u?(delete a.node.children[n],a.node.childCount--,hf(a)):!r&&!u&&(a.node.children[n]=l.node,a.node.childCount++,hf(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=/[\[\].#$\/\u0000-\u001F\u007F]/,IT=/[\[\].#$\u0000-\u001F\u007F]/,Xc=10*1024*1024,Kf=function(a){return typeof a=="string"&&a.length!==0&&!jT.test(a)},xy=function(a){return typeof a=="string"&&a.length!==0&&!IT.test(a)},BT=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),xy(a)},kT=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!bf(a)||a&&typeof a=="object"&&un(a,".sv")},Ny=function(a,n,l,r){r&&n===void 0||ao(Wr(a,"value"),n,l)},ao=function(a,n,l){const r=l instanceof Ne?new iE(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+Li(r));if(typeof n=="function")throw new Error(a+"contains a function "+Li(r)+" with contents = "+n.toString());if(bf(n))throw new Error(a+"contains "+n.toString()+" "+Li(r));if(typeof n=="string"&&n.length>Xc/3&&Pr(n)>Xc)throw new Error(a+"contains a string greater than "+Xc+" utf8 bytes "+Li(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(ot(n,(h,m)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!Kf(h)))throw new Error(a+" contains an invalid key ("+h+") "+Li(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lE(r,h),ao(a,m,r),aE(r)}),u&&f)throw new Error(a+' contains ".value" child '+Li(r)+" in addition to actual children.")}},qT=function(a,n){let l,r;for(l=0;l<n.length;l++){r=n[l];const f=Ja(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!Kf(f[h]))throw new Error(a+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(nE);let u=null;for(l=0;l<n.length;l++){if(r=n[l],u!==null&&Jt(u,r))throw new Error(a+"contains a path "+u.toString()+" that is ancestor of another path "+r.toString());u=r}},GT=function(a,n,l,r){const u=Wr(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const f=[];ot(n,(h,m)=>{const p=new Ne(h);if(ao(u,m,je(l,p)),xf(p)===".priority"&&!kT(m))throw new Error(u+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(p)}),qT(u,f)},Ay=function(a,n,l,r){if(!xy(l))throw new Error(Wr(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},YT=function(a,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Ay(a,n,l)},Zf=function(a,n){if(le(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},VT=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Kf(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!BT(l))throw new Error(Wr(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function so(a,n){let l=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();l!==null&&!Nf(f,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(u)}l&&a.eventLists_.push(l)}function wy(a,n,l){so(a,l),Dy(a,r=>Nf(r,n))}function Wt(a,n,l){so(a,l),Dy(a,r=>Jt(r,n)||Jt(n,r))}function Dy(a,n){a.recursionDepth_++;let l=!0;for(let r=0;r<a.eventLists_.length;r++){const u=a.eventLists_[r];if(u){const f=u.path;n(f)?(XT(a.eventLists_[r]),a.eventLists_[r]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function XT(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const r=l.getEventRunner();qa&&rt("event: "+l.toString()),Il(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="repo_interrupt",ZT=25;class FT{constructor(n,l,r,u){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gr(),this.transactionQueueTree_=new Qf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JT(a,n,l){if(a.stats_=Tf(a.repoInfo_),a.forceRestClient_||AS())a.server_=new qr(a.repoInfo_,(r,u,f,h)=>{e_(a,r,u,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>t_(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}a.persistentConnection_=new Rn(a.repoInfo_,n,(r,u,f,h)=>{e_(a,r,u,f,h)},r=>{t_(a,r)},r=>{WT(a,r)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(r=>{a.server_.refreshAuthToken(r)}),a.appCheckProvider_.addTokenChangeListener(r=>{a.server_.refreshAppCheckToken(r.token)}),a.statsReporter_=MS(a.repoInfo_,()=>new OE(a.stats_,a.server_)),a.infoData_=new NE,a.infoSyncTree_=new Pp({startListening:(r,u,f,h)=>{let m=[];const p=a.infoData_.getNode(r._path);return p.isEmpty()||(m=us(a.infoSyncTree_,r._path,p),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),Ff(a,"connected",!1),a.serverSyncTree_=new Pp({startListening:(r,u,f,h)=>(a.server_.listen(r,f,u,(m,p)=>{const g=h(m,p);Wt(a.eventQueue_,r._path,g)}),[]),stopListening:(r,u)=>{a.server_.unlisten(r,u)}})}function Ry(a){const l=a.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function ro(a){return OT({timestamp:Ry(a)})}function e_(a,n,l,r,u){a.dataUpdateCount++;const f=new Ne(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let h=[];if(u)if(r){const p=Lr(l,g=>Ke(g));h=xT(a.serverSyncTree_,f,p,u)}else{const p=Ke(l);h=py(a.serverSyncTree_,f,p,u)}else if(r){const p=Lr(l,g=>Ke(g));h=ET(a.serverSyncTree_,f,p)}else{const p=Ke(l);h=us(a.serverSyncTree_,f,p)}let m=f;h.length>0&&(m=Hl(a,f)),Wt(a.eventQueue_,m,h)}function t_(a,n){Ff(a,"connected",n),n===!1&&tC(a)}function WT(a,n){ot(n,(l,r)=>{Ff(a,l,r)})}function Ff(a,n,l){const r=new Ne("/.info/"+n),u=Ke(l);a.infoData_.updateSnapshot(r,u);const f=us(a.infoSyncTree_,r,u);Wt(a.eventQueue_,r,f)}function Jf(a){return a.nextWriteId_++}function PT(a,n,l){const r=NT(a.serverSyncTree_,n);return r!=null?Promise.resolve(r):a.server_.get(n).then(u=>{const f=Ke(u).withIndex(n._queryParams.getIndex());ff(a.serverSyncTree_,n,l,!0);let h;if(n._queryParams.loadsAllData())h=us(a.serverSyncTree_,n._path,f);else{const m=ts(a.serverSyncTree_,n);h=py(a.serverSyncTree_,n._path,f,m)}return Wt(a.eventQueue_,n._path,h),Jr(a.serverSyncTree_,n,l,null,!0),f},u=>(fs(a,"get for query "+Ze(n)+" failed: "+u),Promise.reject(new Error(u))))}function $T(a,n,l,r,u){fs(a,"set",{path:n.toString(),value:l,priority:r});const f=ro(a),h=Ke(l,r),m=If(a.serverSyncTree_,n),p=Sy(h,m,f),g=Jf(a),E=gy(a.serverSyncTree_,n,p,g,!0);so(a.eventQueue_,E),a.server_.put(n.toString(),h.val(!0),(S,H)=>{const U=S==="ok";U||gt("set at "+n+" failed: "+S);const q=ai(a.serverSyncTree_,g,!U);Wt(a.eventQueue_,n,q),df(a,u,S,H)});const y=Pf(a,n);Hl(a,y),Wt(a.eventQueue_,y,[])}function eC(a,n,l,r){fs(a,"update",{path:n.toString(),value:l});let u=!0;const f=ro(a),h={};if(ot(l,(m,p)=>{u=!1,h[m]=by(je(n,m),Ke(p),a.serverSyncTree_,f)}),u)rt("update() called with empty data.  Don't do anything."),df(a,r,"ok",void 0);else{const m=Jf(a),p=ST(a.serverSyncTree_,n,h,m);so(a.eventQueue_,p),a.server_.merge(n.toString(),l,(g,E)=>{const y=g==="ok";y||gt("update at "+n+" failed: "+g);const S=ai(a.serverSyncTree_,m,!y),H=S.length>0?Hl(a,n):n;Wt(a.eventQueue_,H,S),df(a,r,g,E)}),ot(l,g=>{const E=Pf(a,je(n,g));Hl(a,E)}),Wt(a.eventQueue_,n,[])}}function tC(a){fs(a,"onDisconnectEvents");const n=ro(a),l=Gr();af(a.onDisconnect_,pe(),(u,f)=>{const h=by(u,f,a.serverSyncTree_,n);ey(l,u,h)});let r=[];af(l,pe(),(u,f)=>{r=r.concat(us(a.serverSyncTree_,u,f));const h=Pf(a,u);Hl(a,h)}),a.onDisconnect_=Gr(),Wt(a.eventQueue_,pe(),r)}function nC(a,n,l){let r;le(n._path)===".info"?r=ff(a.infoSyncTree_,n,l):r=ff(a.serverSyncTree_,n,l),wy(a.eventQueue_,n._path,r)}function iC(a,n,l){let r;le(n._path)===".info"?r=Jr(a.infoSyncTree_,n,l):r=Jr(a.serverSyncTree_,n,l),wy(a.eventQueue_,n._path,r)}function lC(a){a.persistentConnection_&&a.persistentConnection_.interrupt(KT)}function fs(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),rt(l,...n)}function df(a,n,l,r){n&&Il(()=>{if(l==="ok")n(null);else{const u=(l||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function Oy(a,n,l){return If(a.serverSyncTree_,n,l)||F.EMPTY_NODE}function Wf(a,n=a.transactionQueueTree_){if(n||oo(a,n),kl(n)){const l=zy(a,n);j(l.length>0,"Sending zero length transaction queue"),l.every(u=>u.status===0)&&aC(a,cs(n),l)}else Ty(n)&&lo(n,l=>{Wf(a,l)})}function aC(a,n,l){const r=l.map(g=>g.currentWriteId),u=Oy(a,n,r);let f=u;const h=u.hash();for(let g=0;g<l.length;g++){const E=l[g];j(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const y=mt(n,E.path);f=f.updateChild(y,E.currentOutputSnapshotRaw)}const m=f.val(!0),p=n;a.server_.put(p.toString(),m,g=>{fs(a,"transaction put response",{path:p.toString(),status:g});let E=[];if(g==="ok"){const y=[];for(let S=0;S<l.length;S++)l[S].status=2,E=E.concat(ai(a.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&y.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();oo(a,Xf(a.transactionQueueTree_,n)),Wf(a,a.transactionQueueTree_),Wt(a.eventQueue_,n,E);for(let S=0;S<y.length;S++)Il(y[S])}else{if(g==="datastale")for(let y=0;y<l.length;y++)l[y].status===3?l[y].status=4:l[y].status=0;else{gt("transaction at "+p.toString()+" failed: "+g);for(let y=0;y<l.length;y++)l[y].status=4,l[y].abortReason=g}Hl(a,n)}},h)}function Hl(a,n){const l=My(a,n),r=cs(l),u=zy(a,l);return sC(a,u,r),r}function sC(a,n,l){if(n.length===0)return;const r=[];let u=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const p=n[m],g=mt(l,p.path);let E=!1,y;if(j(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)E=!0,y=p.abortReason,u=u.concat(ai(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=ZT)E=!0,y="maxretry",u=u.concat(ai(a.serverSyncTree_,p.currentWriteId,!0));else{const S=Oy(a,p.path,h);p.currentInputSnapshot=S;const H=n[m].update(S.val());if(H!==void 0){ao("transaction failed: Data returned ",H,p.path);let U=Ke(H);typeof H=="object"&&H!=null&&un(H,".priority")||(U=U.updatePriority(S.getPriority()));const I=p.currentWriteId,Q=ro(a),se=Sy(U,S,Q);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=se,p.currentWriteId=Jf(a),h.splice(h.indexOf(I),1),u=u.concat(gy(a.serverSyncTree_,p.path,se,p.currentWriteId,p.applyLocally)),u=u.concat(ai(a.serverSyncTree_,I,!0))}else E=!0,y="nodata",u=u.concat(ai(a.serverSyncTree_,p.currentWriteId,!0))}Wt(a.eventQueue_,l,u),u=[],E&&(n[m].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(y==="nodata"?r.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):r.push(()=>n[m].onComplete(new Error(y),!1,null))))}oo(a,a.transactionQueueTree_);for(let m=0;m<r.length;m++)Il(r[m]);Wf(a,a.transactionQueueTree_)}function My(a,n){let l,r=a.transactionQueueTree_;for(l=le(n);l!==null&&kl(r)===void 0;)r=Xf(r,l),n=Re(n),l=le(n);return r}function zy(a,n){const l=[];return Ly(a,n,l),l.sort((r,u)=>r.order-u.order),l}function Ly(a,n,l){const r=kl(n);if(r)for(let u=0;u<r.length;u++)l.push(r[u]);lo(n,u=>{Ly(a,u,l)})}function oo(a,n){const l=kl(n);if(l){let r=0;for(let u=0;u<l.length;u++)l[u].status!==2&&(l[r]=l[u],r++);l.length=r,Ey(n,l.length>0?l:void 0)}lo(n,r=>{oo(a,r)})}function Pf(a,n){const l=cs(My(a,n)),r=Xf(a.transactionQueueTree_,n);return UT(r,u=>{Kc(a,u)}),Kc(a,r),Cy(r,u=>{Kc(a,u)}),l}function Kc(a,n){const l=kl(n);if(l){const r=[];let u=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(j(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(j(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),u=u.concat(ai(a.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Ey(n,void 0):l.length=f+1,Wt(a.eventQueue_,cs(n),u);for(let h=0;h<r.length;h++)Il(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(a){let n="";const l=a.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let u=l[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function oC(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gt(`Invalid query segment '${l}' in query '${a}'`)}return n}const n_=function(a,n){const l=uC(a),r=l.namespace;l.domain==="firebase.com"&&Mn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||yS();const u=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new j_(l.host,l.secure,r,u,n,"",r!==l.subdomain),path:new Ne(l.pathString)}},uC=function(a){let n="",l="",r="",u="",f="",h=!0,m="https",p=443;if(typeof a=="string"){let g=a.indexOf("//");g>=0&&(m=a.substring(0,g-1),a=a.substring(g+2));let E=a.indexOf("/");E===-1&&(E=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),n=a.substring(0,Math.min(E,y)),E<y&&(u=rC(a.substring(E,y)));const S=oC(a.substring(Math.min(a.length,y)));g=n.indexOf(":"),g>=0?(h=m==="https"||m==="wss",p=parseInt(n.substring(g+1),10)):g=n.length;const H=n.slice(0,g);if(H.toLowerCase()==="localhost")l="localhost";else if(H.split(".").length<=2)l=H;else{const U=n.indexOf(".");r=n.substring(0,U).toLowerCase(),l=n.substring(U+1),f=r}"ns"in S&&(f=S.ns)}return{host:n,port:p,domain:l,subdomain:r,secure:h,scheme:m,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cC=(function(){let a=0;const n=[];return function(l){const r=l===a;a=l;let u;const f=new Array(8);for(u=7;u>=0;u--)f[u]=i_.charAt(l%64),l=Math.floor(l/64);j(l===0,"Cannot push at time == 0");let h=f.join("");if(r){for(u=11;u>=0&&n[u]===63;u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)h+=i_.charAt(n[u]);return j(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(n,l,r,u){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class hC{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(n,l,r,u){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=u}get key(){return ce(this._path)?null:xf(this._path)}get ref(){return new zn(this._repo,this._path)}get _queryIdentifier(){const n=Gp(this._queryParams),l=Sf(n);return l==="{}"?"default":l}get _queryObject(){return Gp(this._queryParams)}isEqual(n){if(n=Bi(n),!(n instanceof $f))return!1;const l=this._repo===n._repo,r=Nf(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return l&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+tE(this._path)}}class zn extends $f{constructor(n,l){super(n,l,new Rf,!1)}get parent(){const n=X_(this._path);return n===null?null:new zn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class ns{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Ne(n),r=is(this.ref,n);return new ns(this._node.getChild(l),r,Ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new ns(u,is(this.ref,r),Ie)))}hasChild(n){const l=new Ne(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jt(a,n){return a=Bi(a),a._checkNotDeleted("ref"),n!==void 0?is(a._root,n):a._root}function is(a,n){return a=Bi(a),le(a._path)===null?YT("child","path",n):Ay("child","path",n),new zn(a._repo,je(a._path,n))}function Hy(a,n){a=Bi(a),Zf("push",a._path),Ny("push",n,a._path,!0);const l=Ry(a._repo),r=cC(l),u=is(a,r),f=is(a,r);let h;return h=Promise.resolve(f),u.then=h.then.bind(h),u.catch=h.then.bind(h,void 0),u}function dC(a){return Zf("remove",a._path),uo(a,null)}function uo(a,n){a=Bi(a),Zf("set",a._path),Ny("set",n,a._path,!1);const l=new ls;return $T(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function mf(a,n){GT("update",n,a._path);const l=new ls;return eC(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}function di(a){a=Bi(a);const n=new Uy(()=>{}),l=new co(n);return PT(a._repo,a,l).then(r=>new ns(r,new zn(a._repo,a._path),a._queryParams.getIndex()))}class co{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new fC("value",this,new ns(n.snapshotNode,new zn(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new hC(this,n,l):null}matches(n){return n instanceof co?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function mC(a,n,l,r,u){const f=new Uy(l,void 0),h=new co(f);return nC(a._repo,a,h),()=>iC(a._repo,a,h)}function jy(a,n,l,r){return mC(a,"value",n)}dT(zn);yT(zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="FIREBASE_DATABASE_EMULATOR_HOST",gf={};let pC=!1;function _C(a,n,l,r){const u=n.lastIndexOf(":"),f=n.substring(0,u),h=yf(f);a.repoInfo_=new j_(n,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(a.authTokenProvider_=r)}function yC(a,n,l,r,u){let f=r||a.options.databaseURL;f===void 0&&(a.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rt("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=n_(f,u),m=h.repoInfo,p;typeof process<"u"&&Cp&&(p=Cp[gC]),p?(f=`http://${p}?ns=${m.namespace}`,h=n_(f,u),m=h.repoInfo):h.repoInfo.secure;const g=new DS(a.name,a.options,n);VT("Invalid Firebase Database URL",h),ce(h.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=bC(m,a,g,new wS(a,l));return new SC(E,a)}function vC(a,n){const l=gf[n];(!l||l[a.key]!==a)&&Mn(`Database ${n}(${a.repoInfo_}) has already been deleted.`),lC(a),delete l[a.key]}function bC(a,n,l,r){let u=gf[n.name];u||(u={},gf[n.name]=u);let f=u[a.toURLString()];return f&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new FT(a,pC,l,r),u[a.toURLString()]=f,f}class SC{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zn(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Mn("Cannot call "+n+" on a deleted database.")}}function EC(a=$1(),n){const l=Z1(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=zb("database");r&&TC(l,...r)}return l}function TC(a,n,l,r={}){a=Bi(a),a._checkNotDeleted("useEmulator");const u=`${n}:${l}`,f=a._repoInternal;if(a._instanceStarted){if(u===a._repoInternal.repoInfo_.host&&Ur(r,f.repoInfo_.emulatorOptions))return;Mn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Mr(Mr.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:Ub(r.mockUserToken,a.app.options.projectId);h=new Mr(m)}yf(n)&&(Lb(n),Ib("Database",!0)),_C(f,u,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(a){hS(P1),jr(new Ka("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return yC(r,u,f,l)},"PUBLIC").setMultipleInstances(!0)),wl(xp,Np,a),wl(xp,Np,"esm2020")}Rn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Rn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};CC();const xC={apiKey:"AIzaSyCdBLZ58rHoZhF8qhmFq8rzRY0umTFYghM",authDomain:"nc-diff.firebaseapp.com",databaseURL:"https://nc-diff-default-rtdb.firebaseio.com",projectId:"nc-diff",storageBucket:"nc-diff.appspot.com",messagingSenderId:"925097998508",appId:"1:925097998508:web:2820ab4689c38a34228709",measurementId:"G-QS8X8FSL9S"},NC=b_(xC),It=EC(NC),Iy=()=>{let a=localStorage.getItem("userId");return a||(a="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("userId",a)),a},l_=300*1e3,AC=async(a,n="review")=>{const r=jt(It,n==="review"?"review":"library"),u=Hy(r);return await uo(u,{...a,id:u.key,status:n}),u.key},a_=async()=>{const a=jt(It,"library"),n=await di(a);if(!n.exists())return[];const l=n.val();return Object.values(l).sort((u,f)=>f.timestamp-u.timestamp)},s_=async()=>{const a=jt(It,"review"),n=await di(a);if(!n.exists())return[];const l=n.val();return Object.values(l).sort((u,f)=>f.timestamp-u.timestamp)},wC=a=>{const n=jt(It,"review");return jy(n,r=>{if(!r.exists()){a([]);return}const u=r.val(),h=Object.values(u).sort((m,p)=>p.timestamp-m.timestamp);a(h)})},DC=a=>{const n=jt(It,"library");return jy(n,r=>{if(!r.exists()){a([]);return}const u=r.val(),h=Object.values(u).sort((m,p)=>p.timestamp-m.timestamp);a(h)})},RC=async(a,n)=>{const l=Iy(),r=jt(It,`${n}/${a}`),u=await di(r);if(!u.exists())return!1;const f=u.val(),h=Date.now();if(f.editLock&&f.editLock.expiresAt>h){if(f.editLock.userId===l){const p={userId:l,timestamp:h,expiresAt:h+l_};return await mf(r,{editLock:p}),!0}return!1}const m={userId:l,timestamp:h,expiresAt:h+l_};return await mf(r,{editLock:m}),!0},Zc=async(a,n)=>{var h;const l=Iy(),r=jt(It,`${n}/${a}`),u=await di(r);if(!u.exists())return;((h=u.val().editLock)==null?void 0:h.userId)===l&&await mf(r,{editLock:null})},OC=async(a,n,l)=>{const r=a.trim(),u=jt(It,"library"),f=await di(u);if(f.exists()){const p=f.val(),E=Object.values(p).find(y=>y.result.sourceText.trim()===r&&y.sourceLang===n&&y.targetLang===l);if(E)return console.log("Found in library:",E),{...E.result,source:"CACHE"}}const h=jt(It,"review"),m=await di(h);if(m.exists()){const p=m.val(),E=Object.values(p).find(y=>y.result.sourceText.trim()===r&&y.sourceLang===n&&y.targetLang===l);if(E)return console.log("Found in review:",E),{...E.result,source:"CACHE"}}return null},MC=async a=>{console.log("Approving item:",a);const n=jt(It,`review/${a}`),l=await di(n);if(!l.exists()){console.log("Review item not found");return}const r=l.val();console.log("Moving to library:",r);const u=jt(It,"library"),f=Hy(u);await uo(f,{...r,id:f.key,status:"approved",approvedAt:Date.now()}),await dC(n),console.log("Item approved and moved to library")},zC=async(a,n,l,r)=>{const u=a.trim();console.log("updateCachedTranslation called with:",{text:u,sourceLang:n,targetLang:l,updates:r});for(const f of["library","review"]){const h=jt(It,f),m=await di(h);if(!m.exists())continue;const p=m.val(),g=Object.entries(p);console.log(`Searching in ${f}:`,g.length,"items");const E=g.find(([y,S])=>S.result.sourceText.trim()===u&&S.sourceLang===n&&S.targetLang===l);if(E){const[y,S]=E;console.log("Found match in",f,":",y,S);const H=jt(It,`${f}/${y}`),U={...S,result:{...S.result,...r},lastModified:Date.now()};console.log("Updating Firebase with:",U),await uo(H,U),console.log("Firebase update successful");return}}console.log("No matching translation found")},fo={ja:{appTitle:"LingoBridge",appSubtitle:"",tabTranslate:"",tabHistory:"",labelSource:"",labelTarget:"",placeholderPrefix:"...",btnTranslate:"",btnTranslating:"",btnBack:"",btnStart:"",btnPrev:"",btnNext:"",noHistoryTitle:"",noHistoryDesc:"",labelOriginal:"",labelResult:"",labelAnalysis:"",labelSourceTerm:"",errorDiffLang:"",errorFailed:"",langNameJa:"",langNameDz:""},en:{appTitle:"LingoBridge",appSubtitle:"Global Connect",tabTranslate:"TRANSLATE",tabHistory:"HISTORY",labelSource:"Source",labelTarget:"Target",placeholderPrefix:"Enter message in...",btnTranslate:"Translate",btnTranslating:"Translating",btnBack:"Go Back",btnStart:"Start Translating",btnPrev:"Previous",btnNext:"Next",noHistoryTitle:"No history found",noHistoryDesc:"Translations you perform will appear here automatically.",labelOriginal:"Original",labelResult:"Result",labelAnalysis:"Analysis",labelSourceTerm:"Source",errorDiffLang:"Please select different source and target languages.",errorFailed:"Translation failed. Please try again.",langNameJa:"Japanese",langNameDz:"Dzongkha"}},LC=({breakdown:a,language:n,uiLang:l})=>{const r=n===ft.JAPANESE,u=n===ft.DZONGKHA,f=fo[l];return!a||a.length===0?null:w.jsxs("div",{className:"pt-10 border-t border-slate-100/60",children:[w.jsxs("h3",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em] mb-6 flex items-center",children:[w.jsx("i",{className:"fas fa-wand-magic-sparkles mr-3 text-indigo-400"}),f.labelAnalysis]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.map((h,m)=>w.jsxs("div",{className:"group bg-slate-50/40 p-5 rounded-[1.5rem] border border-slate-100/50 hover:bg-white hover:border-indigo-100 hover:shadow-xl hover:shadow-indigo-500/5 transition-all duration-500 hover:-translate-y-1",children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsx("span",{className:`text-xl font-black text-slate-800 tracking-tight ${r?"font-jp":u?"font-dz":""}`,children:h.original}),h.transliteration&&w.jsx("span",{className:"text-[9px] text-indigo-500 font-black bg-indigo-50 px-2.5 py-1 rounded-full border border-indigo-100/50 uppercase tracking-wider",children:h.transliteration})]}),w.jsxs("div",{className:"flex items-center gap-3 mb-4 opacity-40 group-hover:opacity-80 transition-opacity",children:[w.jsx("span",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest",children:f.labelSourceTerm}),w.jsx("span",{className:"text-[11px] text-slate-600 font-bold border-b border-slate-200",children:h.sourceTerm||"---"})]}),w.jsx("p",{className:"text-sm text-slate-900 font-black bg-white group-hover:bg-indigo-50/30 px-3 py-2 rounded-xl inline-block border border-slate-100 group-hover:border-indigo-100/50 transition-colors",children:h.translated})]},m))})]})},By=({result:a,sourceLang:n,targetLang:l,onPlaySource:r,onPlayTarget:u,isSpeakingSource:f,isSpeakingTarget:h,uiLang:m,onUpdate:p,status:g="approved",itemId:E,onApprove:y,editLock:S})=>{const[H,U]=Pe.useState(!1),[q,I]=Pe.useState(!1),[Q,se]=Pe.useState(a.sourceTransliteration),[J,W]=Pe.useState(a.targetTransliteration),[ze,$]=Pe.useState(a.breakdown),[ee,tt]=Pe.useState(!1),[pt,cn]=Pe.useState(!1),[ut,Fe]=Pe.useState(!1),Bt=fo[m];Pe.useEffect(()=>{if(q&&J){const b=J.trim().split(/\s+/),M=a.breakdown.map((B,Y)=>({...B,transliteration:b[Y]||B.transliteration}));$(M)}},[J,q,a.breakdown]),Pe.useEffect(()=>{se(a.sourceTransliteration),W(a.targetTransliteration),$(a.breakdown)},[a.sourceTransliteration,a.targetTransliteration,a.breakdown]),Pe.useEffect(()=>()=>{ut&&E&&Zc(E,g==="review"?"review":"library")},[ut,E,g]);const Nt=S&&!ut&&S.expiresAt>Date.now(),_t=b=>{switch(b){case ft.JAPANESE:return Bt.langNameJa;case ft.DZONGKHA:return Bt.langNameDz;default:return b}},O=()=>{navigator.clipboard.writeText(a.targetText),U(!0),setTimeout(()=>U(!1),2e3)},k=async()=>{tt(!0);try{const b={sourceTransliteration:Q,targetTransliteration:J,breakdown:ze};console.log("Saving updates:",b),await zC(a.sourceText,n,l,b);const M={...a,...b};console.log("Updated result:",M),I(!1),ut&&E&&(await Zc(E,g==="review"?"review":"library"),Fe(!1)),p&&p(M)}catch(b){console.error("Failed to save edits:",b),alert("Failed to save changes. Please try again.")}finally{tt(!1)}},Z=async()=>{se(a.sourceTransliteration),W(a.targetTransliteration),$(a.breakdown),I(!1),ut&&E&&(await Zc(E,g==="review"?"review":"library"),Fe(!1))},ye=async()=>{if(!E){I(!0);return}const b=g==="review"?"review":"library";try{await RC(E,b)?(Fe(!0),I(!0)):alert("Someone else is currently editing this item. Please try again later.")}catch(M){console.error("Error acquiring lock:",M),alert("Failed to start editing. Please try again.")}},be=async()=>{if(!(!E||!y)){cn(!0);try{await y(E)}catch(b){console.error("Failed to approve:",b),alert("Failed to approve. Please try again.")}finally{cn(!1)}}};return w.jsxs("section",{className:"bg-white rounded-3xl shadow-xl border border-slate-100 relative overflow-hidden",style:{pointerEvents:"auto"},children:[w.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-50/40 rounded-full blur-3xl -mr-24 -mt-24 pointer-events-none"}),w.jsxs("div",{className:"flex flex-wrap gap-2 p-3 pb-0",children:[a.source&&w.jsxs("div",{className:`px-3 py-1.5 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm ${a.source==="AI"?"bg-gradient-to-r from-indigo-600 to-violet-600 text-white":"bg-slate-100 text-slate-500"}`,children:[w.jsx("i",{className:`fas ${a.source==="AI"?"fa-bolt":"fa-database"} mr-1.5 text-[8px]`}),a.source]}),g==="review"&&w.jsxs("div",{className:"px-3 py-1.5 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-amber-500 text-white animate-pulse",children:[w.jsx("i",{className:"fas fa-clock mr-1.5 text-[8px]"}),"REVIEW"]}),Nt&&w.jsxs("div",{className:"px-3 py-1.5 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-rose-500 text-white",children:[w.jsx("i",{className:"fas fa-lock mr-1.5 text-[8px]"}),"LOCKED"]})]}),w.jsxs("div",{className:"relative flex gap-2 px-3 pt-2 pb-3 flex-wrap justify-end z-40",children:[g==="review"&&!q&&!Nt&&w.jsxs("button",{onClick:be,disabled:pt,className:"relative z-50 px-4 py-2 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-emerald-500 text-white hover:bg-emerald-600 transition-all disabled:opacity-50 active:scale-95",children:[w.jsx("i",{className:`fas ${pt?"fa-spinner fa-spin":"fa-check-circle"} mr-1.5`}),pt?"APPROVING":"APPROVE"]}),!q&&!Nt?w.jsxs("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),ye()},className:"relative z-50 px-4 py-2 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-slate-100 text-slate-600 hover:bg-slate-200 transition-all active:scale-95 cursor-pointer",children:[w.jsx("i",{className:"fas fa-edit mr-1.5"}),"EDIT"]}):q?w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:k,disabled:ee,className:"px-4 py-2 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-emerald-500 text-white hover:bg-emerald-600 transition-all disabled:opacity-50 active:scale-95",children:[w.jsx("i",{className:`fas ${ee?"fa-spinner fa-spin":"fa-check"} mr-1.5`}),ee?"SAVING":"SAVE"]}),w.jsxs("button",{onClick:Z,disabled:ee,className:"px-4 py-2 rounded-xl text-[9px] font-black tracking-wider uppercase shadow-sm bg-slate-200 text-slate-600 hover:bg-slate-300 transition-all disabled:opacity-50 active:scale-95",children:[w.jsx("i",{className:"fas fa-times mr-1.5"}),"CANCEL"]})]}):null]}),w.jsxs("div",{className:"space-y-6 px-4 pb-6 sm:px-8 sm:pb-8 relative",children:[w.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-6",children:[w.jsxs("div",{className:"flex-1 pr-3",children:[w.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider block mb-2",children:[Bt.labelOriginal," (",_t(n),")"]}),w.jsx("h2",{className:`text-xl sm:text-2xl font-bold text-slate-800 leading-snug ${n===ft.JAPANESE?"font-jp":"font-dz"}`,children:a.sourceText}),q?w.jsx("input",{type:"text",value:Q,onChange:b=>se(b.target.value),className:"w-full text-sm text-slate-600 font-medium italic font-jp mt-3 px-3 py-2.5 border-2 border-indigo-300 rounded-xl focus:outline-none focus:border-indigo-500 bg-indigo-50/50",placeholder:"Source transliteration"}):w.jsx("p",{className:"text-xs sm:text-sm text-slate-500 font-medium italic font-jp mt-3",children:a.sourceTransliteration})]}),w.jsx("button",{onClick:r,disabled:f,className:`w-11 h-11 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center transition-all flex-shrink-0 ${f?"bg-indigo-100 text-indigo-600 scale-110":"bg-slate-100 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 active:scale-95"}`,children:w.jsx("i",{className:`fas ${f?"fa-waveform fa-beat-fade":"fa-volume-high"} text-base sm:text-lg`})})]}),w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"flex-1 pr-3",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[w.jsxs("span",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-wider block",children:[Bt.labelResult," (",_t(l),")"]}),w.jsx("button",{onClick:O,className:`text-[8px] font-black uppercase px-2.5 py-1 rounded-lg transition-all active:scale-95 ${H?"bg-emerald-500 text-white":"bg-slate-100 text-slate-500 hover:bg-indigo-50 hover:text-indigo-600"}`,children:H?w.jsxs(w.Fragment,{children:[w.jsx("i",{className:"fas fa-check mr-1"}),"COPIED"]}):w.jsxs(w.Fragment,{children:[w.jsx("i",{className:"far fa-copy mr-1"}),"COPY"]})})]}),w.jsx("h2",{className:`text-3xl sm:text-4xl font-black text-slate-900 leading-tight ${l===ft.JAPANESE?"font-jp":"font-dz"}`,children:a.targetText}),q?w.jsx("input",{type:"text",value:J,onChange:b=>W(b.target.value),className:"w-full text-base sm:text-lg text-indigo-600 font-bold italic font-jp mt-4 px-3 py-2.5 border-2 border-indigo-300 rounded-xl focus:outline-none focus:border-indigo-500 bg-indigo-50/50",placeholder:"Target transliteration"}):w.jsx("p",{className:"text-base sm:text-lg text-indigo-600 font-bold italic font-jp mt-4",children:a.targetTransliteration})]}),w.jsx("button",{onClick:u,disabled:h,className:`w-14 h-14 sm:w-16 sm:h-16 rounded-2xl flex items-center justify-center transition-all flex-shrink-0 ${h?"bg-indigo-100 text-indigo-600 scale-110":"bg-gradient-to-br from-indigo-600 to-violet-600 text-white hover:scale-105 shadow-xl shadow-indigo-200 active:scale-95"}`,children:h?w.jsx("i",{className:"fas fa-waveform fa-beat-fade text-xl sm:text-2xl"}):w.jsx("i",{className:"fas fa-volume-high text-xl sm:text-2xl"})})]}),w.jsx(LC,{breakdown:q?ze:a.breakdown,language:l,uiLang:m})]})]})},UC=({history:a,onBack:n,onPlayAudio:l,isSpeakingSource:r,isSpeakingTarget:u,uiLang:f,onHistoryUpdate:h,onApprove:m})=>{const[p,g]=Pe.useState(0),E=fo[f];if(a.length===0)return w.jsxs("div",{className:"flex flex-col items-center justify-center py-24 bg-white rounded-[3rem] shadow-xl shadow-slate-100 border border-slate-50 px-8 text-center animate-in zoom-in-95 duration-500",children:[w.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full flex items-center justify-center mb-8",children:w.jsx("i",{className:"fas fa-clock-rotate-left text-4xl text-slate-200"})}),w.jsx("h3",{className:"text-xl font-black text-slate-800 mb-2",children:E.noHistoryTitle}),w.jsx("p",{className:"text-slate-400 text-sm font-medium mb-10 max-w-[240px]",children:E.noHistoryDesc}),w.jsx("button",{onClick:n,className:"px-10 py-4 bg-indigo-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-100 active:scale-95",children:E.btnStart})]});const y=a[p],S=()=>{g(U=>U>0?U-1:U)},H=()=>{g(U=>U<a.length-1?U+1:U)};return w.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[w.jsx("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl p-4 shadow-sm border border-slate-100",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("button",{onClick:n,className:"text-slate-400 hover:text-indigo-600 font-black text-[10px] uppercase tracking-widest flex items-center gap-2 transition-colors active:scale-95",children:[w.jsx("i",{className:"fas fa-arrow-left text-sm"})," ",E.btnBack]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-wider",children:new Date(y.timestamp).toLocaleDateString(f==="ja"?"ja-JP":"en-US",{month:"short",day:"numeric"})}),w.jsx("div",{className:"bg-indigo-50 border border-indigo-100 px-3 py-1.5 rounded-xl",children:w.jsxs("span",{className:"text-indigo-700 font-black text-xs",children:[p+1,w.jsx("span",{className:"text-indigo-300 mx-1",children:"/"}),a.length]})})]})]})}),w.jsxs("div",{className:"relative flex-1 pb-6",children:[a.length>1&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:S,disabled:p===0,className:"fixed left-4 top-1/2 -translate-y-1/2 z-50 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm border border-slate-200 shadow-lg flex items-center justify-center text-slate-600 hover:bg-indigo-50 hover:border-indigo-300 hover:text-indigo-600 transition-all disabled:opacity-20 disabled:cursor-not-allowed disabled:hover:bg-white/90 disabled:hover:border-slate-200 disabled:hover:text-slate-600 active:scale-90",children:w.jsx("i",{className:"fas fa-chevron-left text-sm"})}),w.jsx("button",{onClick:H,disabled:p===a.length-1,className:"fixed right-4 top-1/2 -translate-y-1/2 z-50 w-10 h-10 rounded-full bg-white/90 backdrop-blur-sm border border-slate-200 shadow-lg flex items-center justify-center text-slate-600 hover:bg-indigo-50 hover:border-indigo-300 hover:text-indigo-600 transition-all disabled:opacity-20 disabled:cursor-not-allowed disabled:hover:bg-white/90 disabled:hover:border-slate-200 disabled:hover:text-slate-600 active:scale-90",children:w.jsx("i",{className:"fas fa-chevron-right text-sm"})})]}),w.jsx("div",{className:"animate-in fade-in duration-300",children:w.jsx(By,{result:y.result,sourceLang:y.sourceLang,targetLang:y.targetLang,onPlaySource:()=>{const U=y.sourceLang===ft.DZONGKHA?y.result.sourceTransliteration:y.result.sourceText;l(U,y.sourceLang,!0)},onPlayTarget:()=>{const U=y.targetLang===ft.DZONGKHA?y.result.targetTransliteration:y.result.targetText;l(U,y.targetLang,!1)},isSpeakingSource:r,isSpeakingTarget:u,uiLang:f,onUpdate:async U=>{console.log("History card updated:",U),h&&await h()},status:y.status,itemId:y.id,onApprove:m,editLock:y.editLock},y.id)}),a.length>1&&w.jsx("div",{className:"flex justify-center gap-2 mt-6",children:a.map((U,q)=>w.jsx("button",{onClick:()=>g(q),className:`transition-all ${q===p?"w-8 h-2 bg-indigo-600 rounded-full":"w-2 h-2 bg-slate-300 rounded-full hover:bg-slate-400"}`},q))})]})]})},HC=()=>{const[a,n]=Pe.useState("ja"),[l,r]=Pe.useState(!1),[u,f]=Pe.useState({inputText:"",sourceLang:ft.JAPANESE,targetLang:ft.DZONGKHA,result:null,isLoading:!1,isSpeaking:!1,isSpeakingSource:!1,error:null,viewMode:"translate",history:[]}),[h,m]=Pe.useState([]),p=fo[a];Pe.useEffect(()=>{E(),window.speechSynthesis.cancel();const I=wC(W=>{console.log("Review items updated:",W),m(W)}),Q=DC(W=>{console.log("Library items updated:",W),f(ze=>({...ze,history:W}))}),se=/iPhone|iPad|iPod/.test(window.navigator.userAgent),J=window.navigator.standalone===!0;if(se&&!J){const W=localStorage.getItem("installPromptCount")||"0";parseInt(W)<3&&r(!0)}return()=>{I(),Q()}},[]);const g=()=>{r(!1);const I=parseInt(localStorage.getItem("installPromptCount")||"0");localStorage.setItem("installPromptCount",(I+1).toString())},E=async()=>{try{const[I,Q]=await Promise.all([a_(),s_()]);f(se=>({...se,history:I})),m(Q)}catch(I){console.error("Failed to load history",I)}},y=async()=>{if(!u.inputText.trim())return;if(u.sourceLang===u.targetLang){f(Q=>({...Q,error:p.errorDiffLang}));return}f(Q=>({...Q,isLoading:!0,error:null}));const I=u.inputText.trim();try{let Q=null;try{const W=await OC(I,u.sourceLang,u.targetLang);W&&(Q=W,console.log("Result from library:",Q))}catch(W){console.warn("Library lookup failed",W)}if(!Q){Q=await Eb(u.inputText,u.sourceLang,u.targetLang),console.log("Result from translateAndAnalyze:",Q);const W={timestamp:Date.now(),sourceLang:u.sourceLang,targetLang:u.targetLang,result:Q,status:"review"},ze=await AC(W,"review");console.log("Saved to review with ID:",ze),await new Promise($=>setTimeout($,500))}const se=await a_(),J=await s_();console.log("Setting state with result:",Q),f(W=>({...W,result:Q,history:se,isLoading:!1})),m(J)}catch(Q){console.error(Q),f(se=>({...se,error:p.errorFailed,isLoading:!1}))}},S=()=>{f(I=>{var Q;return{...I,sourceLang:I.targetLang,targetLang:I.sourceLang,inputText:((Q=I.result)==null?void 0:Q.targetText)||"",result:null,error:null}})},H=(I,Q,se)=>{if(window.speechSynthesis.cancel(),f($=>({...$,isSpeaking:!1,isSpeakingSource:!1})),!I)return;const J=new SpeechSynthesisUtterance(I);J.rate=.85,J.pitch=1,J.volume=1,J.lang="ja-JP";const W=window.speechSynthesis.getVoices(),ze=W.find($=>$.lang==="ja-JP"&&($.name.includes("Google")||$.name.includes("Natural")))||W.find($=>$.lang==="ja-JP");ze&&(J.voice=ze),J.onstart=()=>{f($=>({...$,[se?"isSpeakingSource":"isSpeaking"]:!0}))},J.onend=()=>{f($=>({...$,[se?"isSpeakingSource":"isSpeaking"]:!1}))},J.onerror=()=>{f($=>({...$,[se?"isSpeakingSource":"isSpeaking"]:!1}))},window.speechSynthesis.speak(J)},U=I=>{switch(I){case ft.JAPANESE:return p.langNameJa;case ft.DZONGKHA:return p.langNameDz;default:return I}},q=I=>{f(Q=>({...Q,viewMode:I}))};return w.jsxs("div",{className:"min-h-screen bg-[#FDFDFE] flex flex-col items-center py-6 sm:py-12 px-4 text-slate-900 font-jp overflow-x-hidden select-none",children:[l&&w.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] w-[90%] max-w-sm animate-in slide-in-from-bottom-10 duration-500",children:[w.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl border border-indigo-100 p-5 flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex-shrink-0 flex items-center justify-center text-white text-xl",children:w.jsx("i",{className:"fas fa-plus"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"PWA Install"}),w.jsxs("p",{className:"text-xs font-bold text-slate-700",children:["Tap ",w.jsx("i",{className:"fa-solid fa-arrow-up-from-bracket text-indigo-500"})," then ",w.jsx("span",{className:"text-indigo-600",children:'"Add to Home Screen"'})," to install."]})]}),w.jsx("button",{onClick:g,className:"text-slate-300 hover:text-slate-400 p-2",children:w.jsx("i",{className:"fas fa-times text-lg"})})]}),w.jsx("div",{className:"w-6 h-6 bg-white border-r border-b border-indigo-100 rotate-45 absolute -bottom-3 left-1/2 -translate-x-1/2"})]}),w.jsxs("header",{className:"max-w-2xl w-full mb-8 flex flex-col sm:flex-row justify-between items-center gap-6",children:[w.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[w.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-600 to-violet-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100/50",children:w.jsx("i",{className:"fas fa-language text-2xl"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h1",{className:"text-2xl font-black text-slate-900 leading-none tracking-tight",children:p.appTitle}),w.jsx("p",{className:"text-slate-400 text-[10px] font-black tracking-[0.2em] uppercase mt-1",children:p.appSubtitle})]}),w.jsx("button",{onClick:()=>n(I=>I==="ja"?"en":"ja"),className:"sm:hidden w-10 h-10 rounded-xl bg-white border border-slate-100 shadow-sm flex items-center justify-center text-indigo-600 font-black text-xs",children:a.toUpperCase()}),h.length>0&&w.jsxs("button",{onClick:()=>q("history"),className:"sm:hidden relative w-10 h-10 rounded-xl bg-white border border-amber-200 shadow-sm flex items-center justify-center text-amber-600 transition-all active:scale-95",children:[w.jsx("i",{className:"fas fa-bell text-base animate-pulse"}),w.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 text-white text-[8px] font-black rounded-full flex items-center justify-center shadow-lg",children:h.length})]})]}),w.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto justify-end",children:[h.length>0&&w.jsxs("button",{onClick:()=>q("history"),className:"hidden sm:flex relative w-10 h-10 rounded-xl bg-white border border-amber-200 shadow-sm items-center justify-center text-amber-600 hover:bg-amber-50 transition-all active:scale-95",children:[w.jsx("i",{className:"fas fa-bell text-base animate-pulse"}),w.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-amber-500 text-white text-[8px] font-black rounded-full flex items-center justify-center shadow-lg",children:h.length})]}),w.jsx("button",{onClick:()=>n(I=>I==="ja"?"en":"ja"),className:"hidden sm:flex px-3 py-2 rounded-xl bg-white border border-slate-100 shadow-sm items-center justify-center text-indigo-600 font-black text-xs hover:border-indigo-100 transition-all",children:a==="ja"?"ENGLISH":""}),w.jsxs("nav",{className:"flex bg-white/50 backdrop-blur-md p-1.5 rounded-2xl border border-slate-100 shadow-sm w-full sm:w-auto",children:[w.jsx("button",{onClick:()=>q("translate"),className:`flex-1 sm:px-5 py-2 rounded-xl text-[10px] font-black tracking-wide transition-all ${u.viewMode==="translate"?"bg-indigo-600 text-white shadow-lg shadow-indigo-100":"text-slate-400 hover:text-slate-600"}`,children:p.tabTranslate}),w.jsx("button",{onClick:()=>q("history"),className:`flex-1 sm:px-5 py-2 rounded-xl text-[10px] font-black tracking-wide transition-all ${u.viewMode==="history"?"bg-indigo-600 text-white shadow-lg shadow-indigo-100":"text-slate-400 hover:text-slate-600"}`,children:p.tabHistory})]})]})]}),w.jsx("main",{className:"max-w-2xl w-full space-y-6 flex-1 pb-16",children:u.viewMode==="translate"?w.jsxs(w.Fragment,{children:[w.jsxs("section",{className:"bg-white rounded-[2.5rem] shadow-2xl shadow-slate-200/20 border border-slate-50 p-6 sm:p-8",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-8 bg-slate-50/80 p-3 rounded-[1.5rem] border border-slate-100",children:[w.jsxs("div",{className:"flex-1 text-center",children:[w.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:p.labelSource}),w.jsx("div",{className:"text-sm font-black text-indigo-900 py-1",children:U(u.sourceLang)})]}),w.jsx("button",{onClick:S,className:"group w-10 h-10 rounded-full bg-white flex items-center justify-center text-indigo-600 transition-all shadow-md hover:shadow-xl hover:scale-110 active:scale-95 border border-slate-50",children:w.jsx("i",{className:"fas fa-right-left text-xs transition-transform group-hover:rotate-180"})}),w.jsxs("div",{className:"flex-1 text-center",children:[w.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:p.labelTarget}),w.jsx("div",{className:"text-sm font-black text-indigo-900 py-1",children:U(u.targetLang)})]})]}),w.jsxs("div",{className:"relative",children:[w.jsx("textarea",{className:`w-full h-36 sm:h-44 p-6 rounded-[2rem] bg-slate-50/50 border border-transparent focus:bg-white focus:border-indigo-200 focus:ring-[6px] focus:ring-indigo-500/5 text-xl text-slate-800 placeholder:text-slate-300 transition-all duration-300 resize-none outline-none ${u.sourceLang===ft.JAPANESE?"font-jp":"font-dz"}`,placeholder:a==="ja"?`${U(u.sourceLang)}${p.placeholderPrefix}`:`${p.placeholderPrefix} ${U(u.sourceLang)}`,value:u.inputText,onChange:I=>f(Q=>({...Q,inputText:I.target.value})),onKeyDown:I=>I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),y())}),w.jsxs("div",{className:"absolute bottom-5 right-5 flex items-center gap-3",children:[u.inputText.length>0&&w.jsx("button",{onClick:()=>f(I=>({...I,inputText:"",result:null})),className:"w-10 h-10 rounded-full flex items-center justify-center text-slate-300 hover:text-slate-400 transition-colors",children:w.jsx("i",{className:"fas fa-circle-xmark text-lg"})}),w.jsxs("button",{onClick:y,disabled:u.isLoading||!u.inputText.trim(),className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-100 disabled:text-slate-300 text-white px-8 py-3.5 rounded-[1.25rem] font-black shadow-2xl shadow-indigo-200/50 transition-all flex items-center gap-2.5 text-sm uppercase tracking-wider active:scale-95",children:[u.isLoading?w.jsx("i",{className:"fas fa-circle-notch fa-spin"}):w.jsx("i",{className:"fas fa-bolt-lightning"}),u.isLoading?p.btnTranslating:p.btnTranslate]})]})]})]}),u.error&&w.jsxs("div",{className:"bg-rose-50 border border-rose-100 text-rose-500 px-6 py-4 rounded-[1.5rem] flex items-center gap-4 animate-in fade-in slide-in-from-top-4 duration-500",children:[w.jsx("i",{className:"fas fa-triangle-exclamation text-lg"}),w.jsx("span",{className:"text-xs font-black uppercase tracking-wide",children:u.error})]}),u.result&&w.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700",children:w.jsx(By,{result:u.result,sourceLang:u.sourceLang,targetLang:u.targetLang,onPlaySource:()=>{const I=u.sourceLang===ft.DZONGKHA?u.result.sourceTransliteration:u.result.sourceText;H(I,u.sourceLang,!0)},onPlayTarget:()=>{const I=u.targetLang===ft.DZONGKHA?u.result.targetTransliteration:u.result.targetText;H(I,u.targetLang,!1)},isSpeakingSource:u.isSpeakingSource,isSpeakingTarget:u.isSpeaking,uiLang:a,onUpdate:async I=>{console.log("onUpdate called with:",I),f(Q=>({...Q,result:I})),await E()}})})]}):w.jsx("div",{className:"animate-in fade-in duration-500",children:w.jsx(UC,{history:[...h,...u.history],onBack:()=>q("translate"),onPlayAudio:H,isSpeakingSource:u.isSpeakingSource,isSpeakingTarget:u.isSpeaking,uiLang:a,onHistoryUpdate:async()=>{console.log("Reloading history after edit..."),await E()},onApprove:async I=>{console.log("Approving item:",I),await MC(I),await E()}})})})]})},ky=document.getElementById("root");if(!ky)throw new Error("Could not find root element to mount to");const jC=Sb.createRoot(ky);jC.render(w.jsx(db.StrictMode,{children:w.jsx(HC,{})}));</script>
</head>
<body>
    <div id="loading-overlay">
        <div className="w-12 h-12 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"></div>
    </div>
    <div id="root"></div>
    <script>
        // Service Worker registration with forced update
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js?v=4', { updateViaCache: 'none' })
                    .then(reg => {
                        console.log('SW registered');
                        // Force update check
                        reg.update();
                    })
                    .catch(err => console.log('SW error', err));
            });
        }
        
        // Remove loading overlay once script starts
        window.addEventListener('DOMContentLoaded', () => {
            const loader = document.getElementById('loading-overlay');
            if (loader) loader.style.opacity = '0';
            setTimeout(() => loader?.remove(), 300);
        });
    </script>
</body>
</html>
